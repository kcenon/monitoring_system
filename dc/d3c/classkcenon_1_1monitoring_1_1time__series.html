<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monitoring System: kcenon::monitoring::time_series Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Monitoring System
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/d03/namespacekcenon.html">kcenon</a></li><li class="navelem"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html">monitoring</a></li><li class="navelem"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html">time_series</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../df/d2d/classkcenon_1_1monitoring_1_1time__series-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">kcenon::monitoring::time_series Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Thread-safe time series data storage.  
 <a href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for kcenon::monitoring::time_series:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d81/classkcenon_1_1monitoring_1_1time__series__coll__graph.png" border="0" usemap="#akcenon_1_1monitoring_1_1time__series_coll__map" alt="Collaboration graph"/></div>
<map name="akcenon_1_1monitoring_1_1time__series_coll__map" id="akcenon_1_1monitoring_1_1time__series_coll__map">
<area shape="rect" title="Thread&#45;safe time series data storage." alt="" coords="270,471,427,831"/>
<area shape="rect" title=" " alt="" coords="5,295,89,361"/>
<area shape="poly" title=" " alt="" coords="69,359,104,406,182,491,260,566,256,570,178,494,100,410,65,363"/>
<area shape="rect" title=" " alt="" coords="114,281,285,375"/>
<area shape="poly" title=" " alt="" coords="223,374,265,464,260,467,218,377"/>
<area shape="rect" href="../../da/df4/structkcenon_1_1monitoring_1_1time__point__data.html" title="Single data point in time series." alt="" coords="127,5,272,185"/>
<area shape="poly" title=" " alt="" coords="202,186,202,264,197,264,197,186"/>
<area shape="rect" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html" title="Configuration for time series storage." alt="" coords="309,248,489,408"/>
<area shape="poly" title=" " alt="" coords="390,408,382,455,377,454,384,408"/>
<area shape="rect" title=" " alt="" coords="513,295,592,361"/>
<area shape="poly" title=" " alt="" coords="535,363,438,513,434,511,530,360"/>
<area shape="rect" title=" " alt="" coords="487,55,618,135"/>
<area shape="poly" title=" " alt="" coords="555,149,555,295,550,295,550,149"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3af0a349a5bc20ef7c0c3f39786744b2" id="r_a3af0a349a5bc20ef7c0c3f39786744b2"><td class="memItemLeft" align="right" valign="top">common::VoidResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a3af0a349a5bc20ef7c0c3f39786744b2">add_point</a> (double value, std::chrono::system_clock::time_point timestamp=std::chrono::system_clock::now())</td></tr>
<tr class="memdesc:a3af0a349a5bc20ef7c0c3f39786744b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a data point.  <br /></td></tr>
<tr class="separator:a3af0a349a5bc20ef7c0c3f39786744b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d35041d42948e67076cf020be04a6f" id="r_a77d35041d42948e67076cf020be04a6f"><td class="memItemLeft" align="right" valign="top">common::VoidResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a77d35041d42948e67076cf020be04a6f">add_points</a> (const std::vector&lt; <a class="el" href="../../da/df4/structkcenon_1_1monitoring_1_1time__point__data.html">time_point_data</a> &gt; &amp;points)</td></tr>
<tr class="memdesc:a77d35041d42948e67076cf020be04a6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add multiple data points.  <br /></td></tr>
<tr class="separator:a77d35041d42948e67076cf020be04a6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9f95face6f01f4c95fb03f2681d939f" id="r_ad9f95face6f01f4c95fb03f2681d939f"><td class="memItemLeft" align="right" valign="top">common::Result&lt; <a class="el" href="../../d2/d1f/structkcenon_1_1monitoring_1_1aggregation__result.html">aggregation_result</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ad9f95face6f01f4c95fb03f2681d939f">query</a> (const <a class="el" href="../../d2/dff/structkcenon_1_1monitoring_1_1time__series__query.html">time_series_query</a> &amp;query) const</td></tr>
<tr class="memdesc:ad9f95face6f01f4c95fb03f2681d939f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Query data for a time range.  <br /></td></tr>
<tr class="separator:ad9f95face6f01f4c95fb03f2681d939f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e569e90bcda9433b8205a619556212b" id="r_a8e569e90bcda9433b8205a619556212b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a8e569e90bcda9433b8205a619556212b">size</a> () const</td></tr>
<tr class="memdesc:a8e569e90bcda9433b8205a619556212b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current number of data points.  <br /></td></tr>
<tr class="separator:a8e569e90bcda9433b8205a619556212b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88192f2b23b89c5bc9562d860217302f" id="r_a88192f2b23b89c5bc9562d860217302f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a88192f2b23b89c5bc9562d860217302f">empty</a> () const</td></tr>
<tr class="memdesc:a88192f2b23b89c5bc9562d860217302f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if series is empty.  <br /></td></tr>
<tr class="separator:a88192f2b23b89c5bc9562d860217302f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8563adcbe0d1989ed8e3e165149a573b" id="r_a8563adcbe0d1989ed8e3e165149a573b"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a8563adcbe0d1989ed8e3e165149a573b">name</a> () const noexcept</td></tr>
<tr class="memdesc:a8563adcbe0d1989ed8e3e165149a573b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get series name.  <br /></td></tr>
<tr class="separator:a8563adcbe0d1989ed8e3e165149a573b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56bf95245c2e9221bbd38f7d46207a2f" id="r_a56bf95245c2e9221bbd38f7d46207a2f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html">time_series_config</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a56bf95245c2e9221bbd38f7d46207a2f">get_config</a> () const noexcept</td></tr>
<tr class="memdesc:a56bf95245c2e9221bbd38f7d46207a2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get configuration.  <br /></td></tr>
<tr class="separator:a56bf95245c2e9221bbd38f7d46207a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b63467f1d01cb62bc7124e0a9638365" id="r_a7b63467f1d01cb62bc7124e0a9638365"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a7b63467f1d01cb62bc7124e0a9638365">clear</a> ()</td></tr>
<tr class="memdesc:a7b63467f1d01cb62bc7124e0a9638365"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear all data.  <br /></td></tr>
<tr class="separator:a7b63467f1d01cb62bc7124e0a9638365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00bc3856945ee73edb8df9a356d89557" id="r_a00bc3856945ee73edb8df9a356d89557"><td class="memItemLeft" align="right" valign="top">common::Result&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a00bc3856945ee73edb8df9a356d89557">get_latest_value</a> () const</td></tr>
<tr class="memdesc:a00bc3856945ee73edb8df9a356d89557"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get latest value.  <br /></td></tr>
<tr class="separator:a00bc3856945ee73edb8df9a356d89557"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f875e0c92e238385da69429d54bb85" id="r_ae0f875e0c92e238385da69429d54bb85"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ae0f875e0c92e238385da69429d54bb85">memory_footprint</a> () const</td></tr>
<tr class="memdesc:ae0f875e0c92e238385da69429d54bb85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get memory footprint in bytes.  <br /></td></tr>
<tr class="separator:ae0f875e0c92e238385da69429d54bb85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5d69cafc71acd36d5bff31d782ec2474" id="r_a5d69cafc71acd36d5bff31d782ec2474"><td class="memItemLeft" align="right" valign="top">static common::Result&lt; std::unique_ptr&lt; <a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html">time_series</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a5d69cafc71acd36d5bff31d782ec2474">create</a> (const std::string &amp;<a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a8563adcbe0d1989ed8e3e165149a573b">name</a>, const <a class="el" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html">time_series_config</a> &amp;config={})</td></tr>
<tr class="memdesc:a5d69cafc71acd36d5bff31d782ec2474"><td class="mdescLeft">&#160;</td><td class="mdescRight">Factory method to create <a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html" title="Thread-safe time series data storage.">time_series</a> with validation.  <br /></td></tr>
<tr class="separator:a5d69cafc71acd36d5bff31d782ec2474"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:af3a4b5107a2997d08bf5d2260c11013f" id="r_af3a4b5107a2997d08bf5d2260c11013f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#af3a4b5107a2997d08bf5d2260c11013f">cleanup_old_data</a> ()</td></tr>
<tr class="memdesc:af3a4b5107a2997d08bf5d2260c11013f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup old data points.  <br /></td></tr>
<tr class="separator:af3a4b5107a2997d08bf5d2260c11013f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747cc282d11c9048b499c898219d1a73" id="r_a747cc282d11c9048b499c898219d1a73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a747cc282d11c9048b499c898219d1a73">compress_data</a> ()</td></tr>
<tr class="memdesc:a747cc282d11c9048b499c898219d1a73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compress data if enabled.  <br /></td></tr>
<tr class="separator:a747cc282d11c9048b499c898219d1a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8e89839ffbbed7feb589b649605cbd" id="r_aef8e89839ffbbed7feb589b649605cbd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#aef8e89839ffbbed7feb589b649605cbd">enforce_size_limit</a> ()</td></tr>
<tr class="memdesc:aef8e89839ffbbed7feb589b649605cbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ensure data size doesn't exceed maximum.  <br /></td></tr>
<tr class="separator:aef8e89839ffbbed7feb589b649605cbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57c048d3bd21e3b7213f914aea86408b" id="r_a57c048d3bd21e3b7213f914aea86408b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a57c048d3bd21e3b7213f914aea86408b">time_series</a> (const std::string &amp;<a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a8563adcbe0d1989ed8e3e165149a573b">name</a>, const <a class="el" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html">time_series_config</a> &amp;config)</td></tr>
<tr class="memdesc:a57c048d3bd21e3b7213f914aea86408b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private constructor (use <a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a5d69cafc71acd36d5bff31d782ec2474" title="Factory method to create time_series with validation.">create()</a> factory method)  <br /></td></tr>
<tr class="separator:a57c048d3bd21e3b7213f914aea86408b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a653382a3010961ade36072661884e579" id="r_a653382a3010961ade36072661884e579"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a653382a3010961ade36072661884e579">mutex_</a></td></tr>
<tr class="separator:a653382a3010961ade36072661884e579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9232d4d016cec334cfc0b455ee95057" id="r_ac9232d4d016cec334cfc0b455ee95057"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../da/df4/structkcenon_1_1monitoring_1_1time__point__data.html">time_point_data</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a></td></tr>
<tr class="separator:ac9232d4d016cec334cfc0b455ee95057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe393311fbecf043af752fc201494a03" id="r_afe393311fbecf043af752fc201494a03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html">time_series_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#afe393311fbecf043af752fc201494a03">config_</a></td></tr>
<tr class="separator:afe393311fbecf043af752fc201494a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae842248813e8f9535a892548ca5ccdd6" id="r_ae842248813e8f9535a892548ca5ccdd6"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ae842248813e8f9535a892548ca5ccdd6">series_name_</a></td></tr>
<tr class="separator:ae842248813e8f9535a892548ca5ccdd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20b1f52d6b8cf9a7a7fb55c23018ff2d" id="r_a20b1f52d6b8cf9a7a7fb55c23018ff2d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a20b1f52d6b8cf9a7a7fb55c23018ff2d">insertion_count_</a> = 0</td></tr>
<tr class="separator:a20b1f52d6b8cf9a7a7fb55c23018ff2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Thread-safe time series data storage. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00211">211</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a57c048d3bd21e3b7213f914aea86408b" name="a57c048d3bd21e3b7213f914aea86408b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57c048d3bd21e3b7213f914aea86408b">&#9670;&#160;</a></span>time_series()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">kcenon::monitoring::time_series::time_series </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html">time_series_config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private constructor (use <a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a5d69cafc71acd36d5bff31d782ec2474" title="Factory method to create time_series with validation.">create()</a> factory method) </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00284">284</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  285</span>        : <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#afe393311fbecf043af752fc201494a03">config_</a>(config), <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ae842248813e8f9535a892548ca5ccdd6">series_name_</a>(<a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a8563adcbe0d1989ed8e3e165149a573b">name</a>) {</div>
<div class="line"><span class="lineno">  286</span>        <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.reserve(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#afe393311fbecf043af752fc201494a03">config_</a>.<a class="code hl_variable" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html#affb27b338dee6e1edf8304ee9a239c11">max_points</a>);</div>
<div class="line"><span class="lineno">  287</span>    }</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1time__series_html_a8563adcbe0d1989ed8e3e165149a573b"><div class="ttname"><a href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a8563adcbe0d1989ed8e3e165149a573b">kcenon::monitoring::time_series::name</a></div><div class="ttdeci">const std::string &amp; name() const noexcept</div><div class="ttdoc">Get series name.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00456">time_series.h:456</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1time__series_html_ac9232d4d016cec334cfc0b455ee95057"><div class="ttname"><a href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">kcenon::monitoring::time_series::data_</a></div><div class="ttdeci">std::vector&lt; time_point_data &gt; data_</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00214">time_series.h:214</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1time__series_html_ae842248813e8f9535a892548ca5ccdd6"><div class="ttname"><a href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ae842248813e8f9535a892548ca5ccdd6">kcenon::monitoring::time_series::series_name_</a></div><div class="ttdeci">std::string series_name_</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00216">time_series.h:216</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1time__series_html_afe393311fbecf043af752fc201494a03"><div class="ttname"><a href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#afe393311fbecf043af752fc201494a03">kcenon::monitoring::time_series::config_</a></div><div class="ttdeci">time_series_config config_</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00215">time_series.h:215</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1time__series__config_html_affb27b338dee6e1edf8304ee9a239c11"><div class="ttname"><a href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html#affb27b338dee6e1edf8304ee9a239c11">kcenon::monitoring::time_series_config::max_points</a></div><div class="ttdeci">size_t max_points</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00039">time_series.h:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3af0a349a5bc20ef7c0c3f39786744b2" name="a3af0a349a5bc20ef7c0c3f39786744b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3af0a349a5bc20ef7c0c3f39786744b2">&#9670;&#160;</a></span>add_point()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">common::VoidResult kcenon::monitoring::time_series::add_point </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::chrono::system_clock::time_point&#160;</td>
          <td class="paramname"><em>timestamp</em> = <code>std::chrono::system_clock::now()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a data point. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00310">310</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  312</span>                                                             {</div>
<div class="line"><span class="lineno">  313</span>        std::lock_guard&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a653382a3010961ade36072661884e579">mutex_</a>);</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>        time_point_data point(timestamp, value);</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>        <span class="comment">// Optimize: if timestamp is newest, append directly (O(1) vs O(n))</span></div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.empty() || point.timestamp &gt;= <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.back().timestamp) {</div>
<div class="line"><span class="lineno">  319</span>            <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.push_back(point);</div>
<div class="line"><span class="lineno">  320</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  321</span>            <span class="comment">// Insert in chronological order only when necessary</span></div>
<div class="line"><span class="lineno">  322</span>            <span class="keyword">auto</span> it = std::upper_bound(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.begin(), <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.end(), point,</div>
<div class="line"><span class="lineno">  323</span>                [](<span class="keyword">const</span> time_point_data&amp; a, <span class="keyword">const</span> time_point_data&amp; b) {</div>
<div class="line"><span class="lineno">  324</span>                    return a.timestamp &lt; b.timestamp;</div>
<div class="line"><span class="lineno">  325</span>                });</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>            <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.insert(it, point);</div>
<div class="line"><span class="lineno">  328</span>        }</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>        <span class="comment">// Perform maintenance periodically (every 100 insertions) instead of every time</span></div>
<div class="line"><span class="lineno">  331</span>        ++<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a20b1f52d6b8cf9a7a7fb55c23018ff2d">insertion_count_</a>;</div>
<div class="line"><span class="lineno">  332</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a20b1f52d6b8cf9a7a7fb55c23018ff2d">insertion_count_</a> % 100 == 0) {</div>
<div class="line"><span class="lineno">  333</span>            <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#af3a4b5107a2997d08bf5d2260c11013f">cleanup_old_data</a>();</div>
<div class="line"><span class="lineno">  334</span>            <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a747cc282d11c9048b499c898219d1a73">compress_data</a>();</div>
<div class="line"><span class="lineno">  335</span>            <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#aef8e89839ffbbed7feb589b649605cbd">enforce_size_limit</a>();</div>
<div class="line"><span class="lineno">  336</span>        }</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>        <span class="keywordflow">return</span> common::ok();</div>
<div class="line"><span class="lineno">  339</span>    }</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1time__series_html_a20b1f52d6b8cf9a7a7fb55c23018ff2d"><div class="ttname"><a href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a20b1f52d6b8cf9a7a7fb55c23018ff2d">kcenon::monitoring::time_series::insertion_count_</a></div><div class="ttdeci">size_t insertion_count_</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00217">time_series.h:217</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1time__series_html_a653382a3010961ade36072661884e579"><div class="ttname"><a href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a653382a3010961ade36072661884e579">kcenon::monitoring::time_series::mutex_</a></div><div class="ttdeci">std::mutex mutex_</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00213">time_series.h:213</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1time__series_html_a747cc282d11c9048b499c898219d1a73"><div class="ttname"><a href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a747cc282d11c9048b499c898219d1a73">kcenon::monitoring::time_series::compress_data</a></div><div class="ttdeci">void compress_data()</div><div class="ttdoc">Compress data if enabled.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00236">time_series.h:236</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1time__series_html_aef8e89839ffbbed7feb589b649605cbd"><div class="ttname"><a href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#aef8e89839ffbbed7feb589b649605cbd">kcenon::monitoring::time_series::enforce_size_limit</a></div><div class="ttdeci">void enforce_size_limit()</div><div class="ttdoc">Ensure data size doesn't exceed maximum.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00274">time_series.h:274</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1time__series_html_af3a4b5107a2997d08bf5d2260c11013f"><div class="ttname"><a href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#af3a4b5107a2997d08bf5d2260c11013f">kcenon::monitoring::time_series::cleanup_old_data</a></div><div class="ttdeci">void cleanup_old_data()</div><div class="ttdoc">Cleanup old data points.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00222">time_series.h:222</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series_a3af0a349a5bc20ef7c0c3f39786744b2_cgraph.png" border="0" usemap="#adc/d3c/classkcenon_1_1monitoring_1_1time__series_a3af0a349a5bc20ef7c0c3f39786744b2_cgraph" alt=""/></div>
<map name="adc/d3c/classkcenon_1_1monitoring_1_1time__series_a3af0a349a5bc20ef7c0c3f39786744b2_cgraph" id="adc/d3c/classkcenon_1_1monitoring_1_1time__series_a3af0a349a5bc20ef7c0c3f39786744b2_cgraph">
<area shape="rect" title="Add a data point." alt="" coords="5,85,184,125"/>
<area shape="rect" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#af3a4b5107a2997d08bf5d2260c11013f" title="Cleanup old data points." alt="" coords="256,5,421,60"/>
<area shape="poly" title=" " alt="" coords="162,82,242,58,244,63,164,87"/>
<area shape="rect" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a747cc282d11c9048b499c898219d1a73" title="Compress data if enabled." alt="" coords="232,85,445,125"/>
<area shape="poly" title=" " alt="" coords="184,102,218,102,218,107,184,107"/>
<area shape="rect" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#aef8e89839ffbbed7feb589b649605cbd" title="Ensure data size doesn&#39;t exceed maximum." alt="" coords="257,149,420,204"/>
<area shape="poly" title=" " alt="" coords="164,122,245,146,243,151,162,127"/>
</map>
</div>

</div>
</div>
<a id="a77d35041d42948e67076cf020be04a6f" name="a77d35041d42948e67076cf020be04a6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77d35041d42948e67076cf020be04a6f">&#9670;&#160;</a></span>add_points()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">common::VoidResult kcenon::monitoring::time_series::add_points </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../da/df4/structkcenon_1_1monitoring_1_1time__point__data.html">time_point_data</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>points</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add multiple data points. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00344">344</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  344</span>                                                                          {</div>
<div class="line"><span class="lineno">  345</span>        std::lock_guard&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a653382a3010961ade36072661884e579">mutex_</a>);</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; point : points) {</div>
<div class="line"><span class="lineno">  348</span>            <span class="comment">// Optimize: if timestamp is newest, append directly</span></div>
<div class="line"><span class="lineno">  349</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.empty() || point.timestamp &gt;= <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.back().timestamp) {</div>
<div class="line"><span class="lineno">  350</span>                <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.push_back(point);</div>
<div class="line"><span class="lineno">  351</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  352</span>                <span class="keyword">auto</span> it = std::upper_bound(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.begin(), <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.end(), point,</div>
<div class="line"><span class="lineno">  353</span>                    [](<span class="keyword">const</span> time_point_data&amp; a, <span class="keyword">const</span> time_point_data&amp; b) {</div>
<div class="line"><span class="lineno">  354</span>                        return a.timestamp &lt; b.timestamp;</div>
<div class="line"><span class="lineno">  355</span>                    });</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>                <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.insert(it, point);</div>
<div class="line"><span class="lineno">  358</span>            }</div>
<div class="line"><span class="lineno">  359</span>        }</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>        <span class="comment">// Perform maintenance after batch insert</span></div>
<div class="line"><span class="lineno">  362</span>        <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#af3a4b5107a2997d08bf5d2260c11013f">cleanup_old_data</a>();</div>
<div class="line"><span class="lineno">  363</span>        <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a747cc282d11c9048b499c898219d1a73">compress_data</a>();</div>
<div class="line"><span class="lineno">  364</span>        <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#aef8e89839ffbbed7feb589b649605cbd">enforce_size_limit</a>();</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>        <span class="keywordflow">return</span> common::ok();</div>
<div class="line"><span class="lineno">  367</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series_a77d35041d42948e67076cf020be04a6f_cgraph.png" border="0" usemap="#adc/d3c/classkcenon_1_1monitoring_1_1time__series_a77d35041d42948e67076cf020be04a6f_cgraph" alt=""/></div>
<map name="adc/d3c/classkcenon_1_1monitoring_1_1time__series_a77d35041d42948e67076cf020be04a6f_cgraph" id="adc/d3c/classkcenon_1_1monitoring_1_1time__series_a77d35041d42948e67076cf020be04a6f_cgraph">
<area shape="rect" title="Add multiple data points." alt="" coords="5,85,191,125"/>
<area shape="rect" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#af3a4b5107a2997d08bf5d2260c11013f" title="Cleanup old data points." alt="" coords="263,5,428,60"/>
<area shape="poly" title=" " alt="" coords="167,82,249,58,250,63,168,87"/>
<area shape="rect" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a747cc282d11c9048b499c898219d1a73" title="Compress data if enabled." alt="" coords="239,85,452,125"/>
<area shape="poly" title=" " alt="" coords="191,102,225,102,225,107,191,107"/>
<area shape="rect" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#aef8e89839ffbbed7feb589b649605cbd" title="Ensure data size doesn&#39;t exceed maximum." alt="" coords="264,149,427,204"/>
<area shape="poly" title=" " alt="" coords="168,122,251,147,250,152,167,127"/>
</map>
</div>

</div>
</div>
<a id="af3a4b5107a2997d08bf5d2260c11013f" name="af3a4b5107a2997d08bf5d2260c11013f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3a4b5107a2997d08bf5d2260c11013f">&#9670;&#160;</a></span>cleanup_old_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void kcenon::monitoring::time_series::cleanup_old_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cleanup old data points. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00222">222</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  222</span>                            {</div>
<div class="line"><span class="lineno">  223</span>        <span class="keyword">auto</span> cutoff = std::chrono::system_clock::now() - <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#afe393311fbecf043af752fc201494a03">config_</a>.<a class="code hl_variable" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html#a618fa94e180c0daa3b32258c8101ae7b">retention_period</a>;</div>
<div class="line"><span class="lineno">  224</span>        </div>
<div class="line"><span class="lineno">  225</span>        <span class="keyword">auto</span> it = std::remove_if(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.begin(), <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.end(),</div>
<div class="line"><span class="lineno">  226</span>            [cutoff](<span class="keyword">const</span> time_point_data&amp; point) {</div>
<div class="line"><span class="lineno">  227</span>                return !point.is_valid(cutoff);</div>
<div class="line"><span class="lineno">  228</span>            });</div>
<div class="line"><span class="lineno">  229</span>        </div>
<div class="line"><span class="lineno">  230</span>        <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.erase(it, <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.end());</div>
<div class="line"><span class="lineno">  231</span>    }</div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1time__series__config_html_a618fa94e180c0daa3b32258c8101ae7b"><div class="ttname"><a href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html#a618fa94e180c0daa3b32258c8101ae7b">kcenon::monitoring::time_series_config::retention_period</a></div><div class="ttdeci">std::chrono::seconds retention_period</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00037">time_series.h:37</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series_af3a4b5107a2997d08bf5d2260c11013f_icgraph.png" border="0" usemap="#adc/d3c/classkcenon_1_1monitoring_1_1time__series_af3a4b5107a2997d08bf5d2260c11013f_icgraph" alt=""/></div>
<map name="adc/d3c/classkcenon_1_1monitoring_1_1time__series_af3a4b5107a2997d08bf5d2260c11013f_icgraph" id="adc/d3c/classkcenon_1_1monitoring_1_1time__series_af3a4b5107a2997d08bf5d2260c11013f_icgraph">
<area shape="rect" title="Cleanup old data points." alt="" coords="239,30,404,85"/>
<area shape="rect" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a3af0a349a5bc20ef7c0c3f39786744b2" title="Add a data point." alt="" coords="9,5,187,45"/>
<area shape="poly" title=" " alt="" coords="225,46,187,41,188,35,225,41"/>
<area shape="rect" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a77d35041d42948e67076cf020be04a6f" title="Add multiple data points." alt="" coords="5,69,191,109"/>
<area shape="poly" title=" " alt="" coords="226,74,191,79,191,73,225,68"/>
</map>
</div>

</div>
</div>
<a id="a7b63467f1d01cb62bc7124e0a9638365" name="a7b63467f1d01cb62bc7124e0a9638365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b63467f1d01cb62bc7124e0a9638365">&#9670;&#160;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void kcenon::monitoring::time_series::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear all data. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00470">470</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  470</span>                 {</div>
<div class="line"><span class="lineno">  471</span>        std::lock_guard&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a653382a3010961ade36072661884e579">mutex_</a>);</div>
<div class="line"><span class="lineno">  472</span>        <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.clear();</div>
<div class="line"><span class="lineno">  473</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a747cc282d11c9048b499c898219d1a73" name="a747cc282d11c9048b499c898219d1a73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a747cc282d11c9048b499c898219d1a73">&#9670;&#160;</a></span>compress_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void kcenon::monitoring::time_series::compress_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compress data if enabled. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00236">236</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  236</span>                         {</div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#afe393311fbecf043af752fc201494a03">config_</a>.<a class="code hl_variable" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html#a0c47f90e81baca2141fc2ce732a09db9">enable_compression</a> || <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.size() &lt; 3) {</div>
<div class="line"><span class="lineno">  238</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  239</span>        }</div>
<div class="line"><span class="lineno">  240</span>        </div>
<div class="line"><span class="lineno">  241</span>        <span class="comment">// Simple compression: remove points that don&#39;t add significant information</span></div>
<div class="line"><span class="lineno">  242</span>        std::vector&lt;time_point_data&gt; compressed;</div>
<div class="line"><span class="lineno">  243</span>        compressed.reserve(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.size());</div>
<div class="line"><span class="lineno">  244</span>        </div>
<div class="line"><span class="lineno">  245</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.empty()) {</div>
<div class="line"><span class="lineno">  246</span>            compressed.push_back(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>[0]);</div>
<div class="line"><span class="lineno">  247</span>            </div>
<div class="line"><span class="lineno">  248</span>            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 1; i &lt; <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.size() - 1; ++i) {</div>
<div class="line"><span class="lineno">  249</span>                <span class="keyword">const</span> <span class="keyword">auto</span>&amp; prev = <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>[i - 1];</div>
<div class="line"><span class="lineno">  250</span>                <span class="keyword">const</span> <span class="keyword">auto</span>&amp; curr = <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>[i];</div>
<div class="line"><span class="lineno">  251</span>                <span class="keyword">const</span> <span class="keyword">auto</span>&amp; next = <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>[i + 1];</div>
<div class="line"><span class="lineno">  252</span>                </div>
<div class="line"><span class="lineno">  253</span>                <span class="comment">// Check if current point is significantly different from linear interpolation</span></div>
<div class="line"><span class="lineno">  254</span>                <span class="keywordtype">double</span> expected = prev.value + (next.value - prev.value) * </div>
<div class="line"><span class="lineno">  255</span>                    (std::chrono::duration&lt;double&gt;(curr.timestamp - prev.timestamp).count() /</div>
<div class="line"><span class="lineno">  256</span>                     std::chrono::duration&lt;double&gt;(next.timestamp - prev.timestamp).count());</div>
<div class="line"><span class="lineno">  257</span>                </div>
<div class="line"><span class="lineno">  258</span>                <span class="keywordflow">if</span> (std::abs(curr.value - expected) &gt; <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#afe393311fbecf043af752fc201494a03">config_</a>.<a class="code hl_variable" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html#ac9bc330532c851a97ae2c0d026bee7f7">compression_threshold</a>) {</div>
<div class="line"><span class="lineno">  259</span>                    compressed.push_back(curr);</div>
<div class="line"><span class="lineno">  260</span>                }</div>
<div class="line"><span class="lineno">  261</span>            }</div>
<div class="line"><span class="lineno">  262</span>            </div>
<div class="line"><span class="lineno">  263</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.size() &gt; 1) {</div>
<div class="line"><span class="lineno">  264</span>                compressed.push_back(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.back());</div>
<div class="line"><span class="lineno">  265</span>            }</div>
<div class="line"><span class="lineno">  266</span>        }</div>
<div class="line"><span class="lineno">  267</span>        </div>
<div class="line"><span class="lineno">  268</span>        <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a> = std::move(compressed);</div>
<div class="line"><span class="lineno">  269</span>    }</div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1time__series__config_html_a0c47f90e81baca2141fc2ce732a09db9"><div class="ttname"><a href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html#a0c47f90e81baca2141fc2ce732a09db9">kcenon::monitoring::time_series_config::enable_compression</a></div><div class="ttdeci">bool enable_compression</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00040">time_series.h:40</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1time__series__config_html_ac9bc330532c851a97ae2c0d026bee7f7"><div class="ttname"><a href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html#ac9bc330532c851a97ae2c0d026bee7f7">kcenon::monitoring::time_series_config::compression_threshold</a></div><div class="ttdeci">double compression_threshold</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00041">time_series.h:41</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series_a747cc282d11c9048b499c898219d1a73_icgraph.png" border="0" usemap="#adc/d3c/classkcenon_1_1monitoring_1_1time__series_a747cc282d11c9048b499c898219d1a73_icgraph" alt=""/></div>
<map name="adc/d3c/classkcenon_1_1monitoring_1_1time__series_a747cc282d11c9048b499c898219d1a73_icgraph" id="adc/d3c/classkcenon_1_1monitoring_1_1time__series_a747cc282d11c9048b499c898219d1a73_icgraph">
<area shape="rect" title="Compress data if enabled." alt="" coords="239,37,452,77"/>
<area shape="rect" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a3af0a349a5bc20ef7c0c3f39786744b2" title="Add a data point." alt="" coords="9,5,187,45"/>
<area shape="poly" title=" " alt="" coords="225,44,187,40,188,34,225,39"/>
<area shape="rect" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a77d35041d42948e67076cf020be04a6f" title="Add multiple data points." alt="" coords="5,69,191,109"/>
<area shape="poly" title=" " alt="" coords="225,76,191,80,190,75,225,70"/>
</map>
</div>

</div>
</div>
<a id="a5d69cafc71acd36d5bff31d782ec2474" name="a5d69cafc71acd36d5bff31d782ec2474"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d69cafc71acd36d5bff31d782ec2474">&#9670;&#160;</a></span>create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static common::Result&lt; std::unique_ptr&lt; <a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html">time_series</a> &gt; &gt; kcenon::monitoring::time_series::create </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html">time_series_config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Factory method to create <a class="el" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html" title="Thread-safe time series data storage.">time_series</a> with validation. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00293">293</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  295</span>                                           {}) {</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>        <span class="keyword">auto</span> validation = config.validate();</div>
<div class="line"><span class="lineno">  298</span>        <span class="keywordflow">if</span> (validation.is_err()) {</div>
<div class="line"><span class="lineno">  299</span>            <span class="keywordflow">return</span> common::Result&lt;std::unique_ptr&lt;time_series&gt;&gt;::err(</div>
<div class="line"><span class="lineno">  300</span>                error_info(<a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ab0f9a44e05c0521f5686fd2ac5d2c83ea9cc57114b319994e90322314a00521d4">monitoring_error_code::invalid_configuration</a>,</div>
<div class="line"><span class="lineno">  301</span>                          validation.error().message, <span class="stringliteral">&quot;monitoring_system&quot;</span>).to_common_error());</div>
<div class="line"><span class="lineno">  302</span>        }</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">return</span> common::ok(std::unique_ptr&lt;time_series&gt;(<span class="keyword">new</span> <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a57c048d3bd21e3b7213f914aea86408b">time_series</a>(<a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a8563adcbe0d1989ed8e3e165149a573b">name</a>, config)));</div>
<div class="line"><span class="lineno">  305</span>    }</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1time__series_html_a57c048d3bd21e3b7213f914aea86408b"><div class="ttname"><a href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a57c048d3bd21e3b7213f914aea86408b">kcenon::monitoring::time_series::time_series</a></div><div class="ttdeci">time_series(const std::string &amp;name, const time_series_config &amp;config)</div><div class="ttdoc">Private constructor (use create() factory method)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00284">time_series.h:284</a></div></div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_ab0f9a44e05c0521f5686fd2ac5d2c83ea9cc57114b319994e90322314a00521d4"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#ab0f9a44e05c0521f5686fd2ac5d2c83ea9cc57114b319994e90322314a00521d4">kcenon::monitoring::monitoring_error_code::invalid_configuration</a></div><div class="ttdeci">@ invalid_configuration</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series_a5d69cafc71acd36d5bff31d782ec2474_icgraph.png" border="0" usemap="#adc/d3c/classkcenon_1_1monitoring_1_1time__series_a5d69cafc71acd36d5bff31d782ec2474_icgraph" alt=""/></div>
<map name="adc/d3c/classkcenon_1_1monitoring_1_1time__series_a5d69cafc71acd36d5bff31d782ec2474_icgraph" id="adc/d3c/classkcenon_1_1monitoring_1_1time__series_a5d69cafc71acd36d5bff31d782ec2474_icgraph">
<area shape="rect" title="Factory method to create time_series with validation." alt="" coords="685,109,840,149"/>
<area shape="rect" href="../../d4/dc5/classkcenon_1_1monitoring_1_1metric__storage.html#a3ff8102487ae4d5809f01e5dc61c9916" title="Get or create time series for a metric." alt="" coords="480,37,637,92"/>
<area shape="poly" title=" " alt="" coords="684,107,637,92,638,87,686,102"/>
<area shape="rect" href="../../d3/d9d/test__metric__storage_8cpp.html#af2eb65aede68f67597d34dcfe2ec6de2" title=" " alt="" coords="524,116,593,141"/>
<area shape="poly" title=" " alt="" coords="672,131,594,131,594,126,672,126"/>
<area shape="rect" href="../../d3/d9d/test__metric__storage_8cpp.html#aea518c23d067327035d1fa5488f0e70e" title=" " alt="" coords="524,165,593,191"/>
<area shape="poly" title=" " alt="" coords="673,153,594,172,593,167,671,148"/>
<area shape="rect" href="../../d4/dc5/classkcenon_1_1monitoring_1_1metric__storage.html#a3209ae0b783c7d1bb89e501c5ea2304c" title="Flush buffered metrics to time series." alt="" coords="265,45,432,85"/>
<area shape="poly" title=" " alt="" coords="466,67,432,67,432,62,466,62"/>
<area shape="rect" href="../../d4/dc5/classkcenon_1_1monitoring_1_1metric__storage.html#a01dcd33f327314464ec5e016ec6a2b1d" title="Background processing loop." alt="" coords="5,5,217,60"/>
<area shape="poly" title=" " alt="" coords="252,54,217,50,218,44,252,49"/>
<area shape="rect" href="../../d3/d9d/test__metric__storage_8cpp.html#a536c85c7481d543bc4971d7869072237" title=" " alt="" coords="77,84,146,109"/>
<area shape="poly" title=" " alt="" coords="252,80,146,95,146,89,251,75"/>
</map>
</div>

</div>
</div>
<a id="a88192f2b23b89c5bc9562d860217302f" name="a88192f2b23b89c5bc9562d860217302f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88192f2b23b89c5bc9562d860217302f">&#9670;&#160;</a></span>empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool kcenon::monitoring::time_series::empty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if series is empty. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00448">448</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  448</span>                       {</div>
<div class="line"><span class="lineno">  449</span>        std::lock_guard&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a653382a3010961ade36072661884e579">mutex_</a>);</div>
<div class="line"><span class="lineno">  450</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.empty();</div>
<div class="line"><span class="lineno">  451</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aef8e89839ffbbed7feb589b649605cbd" name="aef8e89839ffbbed7feb589b649605cbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef8e89839ffbbed7feb589b649605cbd">&#9670;&#160;</a></span>enforce_size_limit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void kcenon::monitoring::time_series::enforce_size_limit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Ensure data size doesn't exceed maximum. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00274">274</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  274</span>                              {</div>
<div class="line"><span class="lineno">  275</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.size() &gt; <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#afe393311fbecf043af752fc201494a03">config_</a>.<a class="code hl_variable" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html#affb27b338dee6e1edf8304ee9a239c11">max_points</a>) {</div>
<div class="line"><span class="lineno">  276</span>            <span class="keywordtype">size_t</span> remove_count = <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.size() - <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#afe393311fbecf043af752fc201494a03">config_</a>.<a class="code hl_variable" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html#affb27b338dee6e1edf8304ee9a239c11">max_points</a>;</div>
<div class="line"><span class="lineno">  277</span>            <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.erase(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.begin(), <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.begin() + remove_count);</div>
<div class="line"><span class="lineno">  278</span>        }</div>
<div class="line"><span class="lineno">  279</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series_aef8e89839ffbbed7feb589b649605cbd_icgraph.png" border="0" usemap="#adc/d3c/classkcenon_1_1monitoring_1_1time__series_aef8e89839ffbbed7feb589b649605cbd_icgraph" alt=""/></div>
<map name="adc/d3c/classkcenon_1_1monitoring_1_1time__series_aef8e89839ffbbed7feb589b649605cbd_icgraph" id="adc/d3c/classkcenon_1_1monitoring_1_1time__series_aef8e89839ffbbed7feb589b649605cbd_icgraph">
<area shape="rect" title="Ensure data size doesn&#39;t exceed maximum." alt="" coords="239,30,401,85"/>
<area shape="rect" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a3af0a349a5bc20ef7c0c3f39786744b2" title="Add a data point." alt="" coords="9,5,187,45"/>
<area shape="poly" title=" " alt="" coords="225,46,187,41,188,36,225,41"/>
<area shape="rect" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a77d35041d42948e67076cf020be04a6f" title="Add multiple data points." alt="" coords="5,69,191,109"/>
<area shape="poly" title=" " alt="" coords="225,74,191,79,190,73,224,68"/>
</map>
</div>

</div>
</div>
<a id="a56bf95245c2e9221bbd38f7d46207a2f" name="a56bf95245c2e9221bbd38f7d46207a2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56bf95245c2e9221bbd38f7d46207a2f">&#9670;&#160;</a></span>get_config()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html">time_series_config</a> &amp; kcenon::monitoring::time_series::get_config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get configuration. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00463">463</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  463</span>                                                          {</div>
<div class="line"><span class="lineno">  464</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#afe393311fbecf043af752fc201494a03">config_</a>;</div>
<div class="line"><span class="lineno">  465</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a00bc3856945ee73edb8df9a356d89557" name="a00bc3856945ee73edb8df9a356d89557"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00bc3856945ee73edb8df9a356d89557">&#9670;&#160;</a></span>get_latest_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">common::Result&lt; double &gt; kcenon::monitoring::time_series::get_latest_value </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get latest value. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00478">478</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  478</span>                                                  {</div>
<div class="line"><span class="lineno">  479</span>        std::lock_guard&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a653382a3010961ade36072661884e579">mutex_</a>);</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.empty()) {</div>
<div class="line"><span class="lineno">  482</span>            <span class="keywordflow">return</span> common::Result&lt;double&gt;::err(</div>
<div class="line"><span class="lineno">  483</span>                error_info(<a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ab0f9a44e05c0521f5686fd2ac5d2c83eaafc9260fbeeb30ca568c4e0da034c8dc">monitoring_error_code::collection_failed</a>,</div>
<div class="line"><span class="lineno">  484</span>                          <span class="stringliteral">&quot;No data available&quot;</span>, <span class="stringliteral">&quot;monitoring_system&quot;</span>).to_common_error());</div>
<div class="line"><span class="lineno">  485</span>        }</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>        <span class="keywordflow">return</span> common::ok(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.back().value);</div>
<div class="line"><span class="lineno">  488</span>    }</div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_ab0f9a44e05c0521f5686fd2ac5d2c83eaafc9260fbeeb30ca568c4e0da034c8dc"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#ab0f9a44e05c0521f5686fd2ac5d2c83eaafc9260fbeeb30ca568c4e0da034c8dc">kcenon::monitoring::monitoring_error_code::collection_failed</a></div><div class="ttdeci">@ collection_failed</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0f875e0c92e238385da69429d54bb85" name="ae0f875e0c92e238385da69429d54bb85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0f875e0c92e238385da69429d54bb85">&#9670;&#160;</a></span>memory_footprint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t kcenon::monitoring::time_series::memory_footprint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get memory footprint in bytes. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00493">493</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  493</span>                                    {</div>
<div class="line"><span class="lineno">  494</span>        std::lock_guard&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a653382a3010961ade36072661884e579">mutex_</a>);</div>
<div class="line"><span class="lineno">  495</span>        <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(<a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a57c048d3bd21e3b7213f914aea86408b">time_series</a>) + </div>
<div class="line"><span class="lineno">  496</span>               <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.capacity() * <span class="keyword">sizeof</span>(time_point_data) +</div>
<div class="line"><span class="lineno">  497</span>               <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ae842248813e8f9535a892548ca5ccdd6">series_name_</a>.capacity();</div>
<div class="line"><span class="lineno">  498</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8563adcbe0d1989ed8e3e165149a573b" name="a8563adcbe0d1989ed8e3e165149a573b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8563adcbe0d1989ed8e3e165149a573b">&#9670;&#160;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; kcenon::monitoring::time_series::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get series name. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00456">456</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  456</span>                                           {</div>
<div class="line"><span class="lineno">  457</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ae842248813e8f9535a892548ca5ccdd6">series_name_</a>;</div>
<div class="line"><span class="lineno">  458</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad9f95face6f01f4c95fb03f2681d939f" name="ad9f95face6f01f4c95fb03f2681d939f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9f95face6f01f4c95fb03f2681d939f">&#9670;&#160;</a></span>query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">common::Result&lt; <a class="el" href="../../d2/d1f/structkcenon_1_1monitoring_1_1aggregation__result.html">aggregation_result</a> &gt; kcenon::monitoring::time_series::query </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d2/dff/structkcenon_1_1monitoring_1_1time__series__query.html">time_series_query</a> &amp;&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Query data for a time range. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00372">372</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  372</span>                                                                                 {</div>
<div class="line"><span class="lineno">  373</span>        <span class="keyword">auto</span> validation = <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ad9f95face6f01f4c95fb03f2681d939f">query</a>.validate();</div>
<div class="line"><span class="lineno">  374</span>        <span class="keywordflow">if</span> (validation.is_err()) {</div>
<div class="line"><span class="lineno">  375</span>            <span class="keywordflow">return</span> common::Result&lt;aggregation_result&gt;::err(</div>
<div class="line"><span class="lineno">  376</span>                error_info(<a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ab0f9a44e05c0521f5686fd2ac5d2c83eae55d43eabeefe5a8271b4a3c898bd18f">monitoring_error_code::invalid_argument</a>,</div>
<div class="line"><span class="lineno">  377</span>                          validation.error().message, <span class="stringliteral">&quot;monitoring_system&quot;</span>).to_common_error());</div>
<div class="line"><span class="lineno">  378</span>        }</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>        std::lock_guard&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a653382a3010961ade36072661884e579">mutex_</a>);</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>        aggregation_result result;</div>
<div class="line"><span class="lineno">  383</span>        result.query_start = <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ad9f95face6f01f4c95fb03f2681d939f">query</a>.start_time;</div>
<div class="line"><span class="lineno">  384</span>        result.query_end = <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ad9f95face6f01f4c95fb03f2681d939f">query</a>.end_time;</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>        <span class="comment">// Find data points in the time range</span></div>
<div class="line"><span class="lineno">  387</span>        <span class="keyword">auto</span> start_it = std::lower_bound(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.begin(), <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.end(), <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ad9f95face6f01f4c95fb03f2681d939f">query</a>.start_time,</div>
<div class="line"><span class="lineno">  388</span>            [](<span class="keyword">const</span> time_point_data&amp; point, std::chrono::system_clock::time_point time) {</div>
<div class="line"><span class="lineno">  389</span>                return point.timestamp &lt; time;</div>
<div class="line"><span class="lineno">  390</span>            });</div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span>        <span class="keyword">auto</span> end_it = std::upper_bound(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.begin(), <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.end(), <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ad9f95face6f01f4c95fb03f2681d939f">query</a>.end_time,</div>
<div class="line"><span class="lineno">  393</span>            [](std::chrono::system_clock::time_point time, <span class="keyword">const</span> time_point_data&amp; point) {</div>
<div class="line"><span class="lineno">  394</span>                return time &lt; point.timestamp;</div>
<div class="line"><span class="lineno">  395</span>            });</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordflow">if</span> (start_it == end_it) {</div>
<div class="line"><span class="lineno">  398</span>            <span class="keywordflow">return</span> common::ok(std::move(result));  <span class="comment">// No data in range</span></div>
<div class="line"><span class="lineno">  399</span>        }</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>        <span class="comment">// Aggregate data by step size</span></div>
<div class="line"><span class="lineno">  402</span>        <span class="keyword">auto</span> current_step_start = <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ad9f95face6f01f4c95fb03f2681d939f">query</a>.start_time;</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">while</span> (current_step_start &lt; <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ad9f95face6f01f4c95fb03f2681d939f">query</a>.end_time) {</div>
<div class="line"><span class="lineno">  405</span>            <span class="keyword">auto</span> current_step_end = current_step_start + <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ad9f95face6f01f4c95fb03f2681d939f">query</a>.step;</div>
<div class="line"><span class="lineno">  406</span>            <span class="keywordflow">if</span> (current_step_end &gt; <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ad9f95face6f01f4c95fb03f2681d939f">query</a>.end_time) {</div>
<div class="line"><span class="lineno">  407</span>                current_step_end = <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ad9f95face6f01f4c95fb03f2681d939f">query</a>.end_time;</div>
<div class="line"><span class="lineno">  408</span>            }</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>            <span class="comment">// Find points in this step</span></div>
<div class="line"><span class="lineno">  411</span>            std::vector&lt;time_point_data&gt; step_points;</div>
<div class="line"><span class="lineno">  412</span>            <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = start_it; it != end_it; ++it) {</div>
<div class="line"><span class="lineno">  413</span>                <span class="keywordflow">if</span> (it-&gt;timestamp &gt;= current_step_start &amp;&amp; it-&gt;timestamp &lt; current_step_end) {</div>
<div class="line"><span class="lineno">  414</span>                    step_points.push_back(*it);</div>
<div class="line"><span class="lineno">  415</span>                    result.total_samples += it-&gt;sample_count;</div>
<div class="line"><span class="lineno">  416</span>                }</div>
<div class="line"><span class="lineno">  417</span>            }</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>            <span class="comment">// Aggregate points in this step</span></div>
<div class="line"><span class="lineno">  420</span>            <span class="keywordflow">if</span> (!step_points.empty()) {</div>
<div class="line"><span class="lineno">  421</span>                time_point_data aggregated_point;</div>
<div class="line"><span class="lineno">  422</span>                aggregated_point.timestamp = current_step_start + <a class="code hl_function" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ad9f95face6f01f4c95fb03f2681d939f">query</a>.step / 2;  <span class="comment">// Middle of step</span></div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; point : step_points) {</div>
<div class="line"><span class="lineno">  425</span>                    aggregated_point.merge(point);</div>
<div class="line"><span class="lineno">  426</span>                }</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>                result.points.push_back(aggregated_point);</div>
<div class="line"><span class="lineno">  429</span>            }</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>            current_step_start = current_step_end;</div>
<div class="line"><span class="lineno">  432</span>        }</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>        <span class="keywordflow">return</span> common::ok(std::move(result));</div>
<div class="line"><span class="lineno">  435</span>    }</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1time__series_html_ad9f95face6f01f4c95fb03f2681d939f"><div class="ttname"><a href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ad9f95face6f01f4c95fb03f2681d939f">kcenon::monitoring::time_series::query</a></div><div class="ttdeci">common::Result&lt; aggregation_result &gt; query(const time_series_query &amp;query) const</div><div class="ttdoc">Query data for a time range.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d51/time__series_8h_source.html#l00372">time_series.h:372</a></div></div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_ab0f9a44e05c0521f5686fd2ac5d2c83eae55d43eabeefe5a8271b4a3c898bd18f"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#ab0f9a44e05c0521f5686fd2ac5d2c83eae55d43eabeefe5a8271b4a3c898bd18f">kcenon::monitoring::monitoring_error_code::invalid_argument</a></div><div class="ttdeci">@ invalid_argument</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series_ad9f95face6f01f4c95fb03f2681d939f_cgraph.png" border="0" usemap="#adc/d3c/classkcenon_1_1monitoring_1_1time__series_ad9f95face6f01f4c95fb03f2681d939f_cgraph" alt=""/></div>
<map name="adc/d3c/classkcenon_1_1monitoring_1_1time__series_ad9f95face6f01f4c95fb03f2681d939f_cgraph" id="adc/d3c/classkcenon_1_1monitoring_1_1time__series_ad9f95face6f01f4c95fb03f2681d939f_cgraph">
<area shape="rect" title="Query data for a time range." alt="" coords="5,37,156,77"/>
<area shape="poly" title=" " alt="" coords="38,38,35,28,42,18,57,13,81,11,107,14,122,21,120,26,106,19,81,16,59,18,45,23,40,29,43,36"/>
<area shape="rect" href="../../da/df4/structkcenon_1_1monitoring_1_1time__point__data.html#a9959b362b1679d2417254a0af5669800" title="Merge another data point (for aggregation)" alt="" coords="219,5,405,45"/>
<area shape="poly" title=" " alt="" coords="156,44,204,38,205,43,157,50"/>
<area shape="rect" href="../../d5/d36/structkcenon_1_1monitoring_1_1error__info.html#a708459545c76e0e9c5d07ffa9b9e2785" title="Convert to common_system error_info." alt="" coords="204,69,420,109"/>
<area shape="poly" title=" " alt="" coords="157,65,191,70,190,75,156,70"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series_ad9f95face6f01f4c95fb03f2681d939f_icgraph.png" border="0" usemap="#adc/d3c/classkcenon_1_1monitoring_1_1time__series_ad9f95face6f01f4c95fb03f2681d939f_icgraph" alt=""/></div>
<map name="adc/d3c/classkcenon_1_1monitoring_1_1time__series_ad9f95face6f01f4c95fb03f2681d939f_icgraph" id="adc/d3c/classkcenon_1_1monitoring_1_1time__series_ad9f95face6f01f4c95fb03f2681d939f_icgraph">
<area shape="rect" title="Query data for a time range." alt="" coords="5,29,156,69"/>
<area shape="poly" title=" " alt="" coords="105,17,97,11,81,8,67,10,59,14,55,21,57,28,52,29,50,20,55,11,65,5,81,3,99,6,108,13"/>
</map>
</div>

</div>
</div>
<a id="a8e569e90bcda9433b8205a619556212b" name="a8e569e90bcda9433b8205a619556212b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e569e90bcda9433b8205a619556212b">&#9670;&#160;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t kcenon::monitoring::time_series::size </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get current number of data points. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00440">440</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  440</span>                        {</div>
<div class="line"><span class="lineno">  441</span>        std::lock_guard&lt;std::mutex&gt; lock(<a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#a653382a3010961ade36072661884e579">mutex_</a>);</div>
<div class="line"><span class="lineno">  442</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../dc/d3c/classkcenon_1_1monitoring_1_1time__series.html#ac9232d4d016cec334cfc0b455ee95057">data_</a>.size();</div>
<div class="line"><span class="lineno">  443</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="afe393311fbecf043af752fc201494a03" name="afe393311fbecf043af752fc201494a03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe393311fbecf043af752fc201494a03">&#9670;&#160;</a></span>config_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d52/structkcenon_1_1monitoring_1_1time__series__config.html">time_series_config</a> kcenon::monitoring::time_series::config_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00215">215</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>

</div>
</div>
<a id="ac9232d4d016cec334cfc0b455ee95057" name="ac9232d4d016cec334cfc0b455ee95057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9232d4d016cec334cfc0b455ee95057">&#9670;&#160;</a></span>data_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="../../da/df4/structkcenon_1_1monitoring_1_1time__point__data.html">time_point_data</a>&gt; kcenon::monitoring::time_series::data_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00214">214</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>

</div>
</div>
<a id="a20b1f52d6b8cf9a7a7fb55c23018ff2d" name="a20b1f52d6b8cf9a7a7fb55c23018ff2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20b1f52d6b8cf9a7a7fb55c23018ff2d">&#9670;&#160;</a></span>insertion_count_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t kcenon::monitoring::time_series::insertion_count_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00217">217</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>

</div>
</div>
<a id="a653382a3010961ade36072661884e579" name="a653382a3010961ade36072661884e579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a653382a3010961ade36072661884e579">&#9670;&#160;</a></span>mutex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex kcenon::monitoring::time_series::mutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00213">213</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>

</div>
</div>
<a id="ae842248813e8f9535a892548ca5ccdd6" name="ae842248813e8f9535a892548ca5ccdd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae842248813e8f9535a892548ca5ccdd6">&#9670;&#160;</a></span>series_name_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string kcenon::monitoring::time_series::series_name_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d51/time__series_8h_source.html#l00216">216</a> of file <a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/kcenon/monitoring/utils/<a class="el" href="../../d8/d51/time__series_8h_source.html">time_series.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 19 2026 11:48:51 for Monitoring System by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
