<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monitoring System: tests/test_stream_aggregation.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Monitoring System
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_59425e443f801f1f2fd8bbe4959a3ccf.html">tests</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">test_stream_aggregation.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;gtest/gtest.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d9/d7b/stream__aggregator_8h_source.html">kcenon/monitoring/utils/stream_aggregator.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d6/db7/aggregation__processor_8h_source.html">kcenon/monitoring/utils/aggregation_processor.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../df/df1/metric__storage_8h_source.html">kcenon/monitoring/utils/metric_storage.h</a>&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;random&gt;</code><br />
<code>#include &lt;cmath&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for test_stream_aggregation.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d6f/test__stream__aggregation_8cpp__incl.png" border="0" usemap="#atests_2test__stream__aggregation_8cpp" alt=""/></div>
<map name="atests_2test__stream__aggregation_8cpp" id="atests_2test__stream__aggregation_8cpp">
<area shape="rect" title=" " alt="" coords="1161,5,1409,31"/>
<area shape="rect" title=" " alt="" coords="5,86,109,111"/>
<area shape="poly" title=" " alt="" coords="1161,25,622,44,336,61,218,70,128,81,108,85,107,80,128,76,218,65,336,55,622,39,1161,20"/>
<area shape="rect" href="../../d9/d7b/stream__aggregator_8h.html" title="Streaming statistical aggregation for real&#45;time metrics." alt="" coords="733,240,909,280"/>
<area shape="poly" title=" " alt="" coords="1264,33,871,236,869,231,1262,29"/>
<area shape="rect" title=" " alt="" coords="745,416,812,441"/>
<area shape="poly" title=" " alt="" coords="1161,26,759,45,555,61,471,71,407,81,333,92,273,100,246,107,222,120,198,139,174,168,148,195,122,211,102,221,95,230,106,243,142,268,319,366,374,391,424,405,470,411,515,411,611,405,667,406,732,413,731,419,667,412,611,411,515,416,470,416,423,411,372,396,316,370,139,272,102,247,90,230,99,217,119,206,145,191,170,165,194,136,219,115,244,102,272,95,333,87,406,76,470,65,554,56,759,40,1161,21"/>
<area shape="rect" title=" " alt="" coords="1071,416,1134,441"/>
<area shape="poly" title=" " alt="" coords="1287,32,1279,88,1260,175,1228,274,1205,324,1178,370,1158,392,1136,410,1132,406,1155,388,1174,366,1201,321,1223,272,1255,173,1273,87,1281,31"/>
<area shape="rect" title=" " alt="" coords="1917,416,1979,441"/>
<area shape="poly" title=" " alt="" coords="1410,22,1724,43,1878,58,1990,76,2052,92,2100,107,2144,129,2198,164,2232,190,2259,215,2268,230,2272,245,2271,263,2264,281,2239,315,2208,344,2173,367,2135,386,2059,412,1994,425,1993,420,2057,406,2133,381,2170,363,2205,340,2235,312,2259,279,2266,261,2267,246,2263,232,2255,219,2228,194,2194,169,2142,134,2098,112,2050,97,1989,81,1878,63,1724,48,1409,28"/>
<area shape="rect" href="../../d6/db7/aggregation__processor_8h.html" title="Metric aggregation processing pipeline." alt="" coords="419,79,605,119"/>
<area shape="poly" title=" " alt="" coords="1173,33,619,89,618,84,1173,28"/>
<area shape="rect" href="../../df/df1/metric__storage_8h.html" title="Memory&#45;efficient metric storage with ring buffer backend." alt="" coords="1323,167,1455,192"/>
<area shape="poly" title=" " alt="" coords="1295,29,1376,154,1372,156,1291,32"/>
<area shape="rect" title=" " alt="" coords="2185,247,2249,273"/>
<area shape="poly" title=" " alt="" coords="1410,24,1601,40,1823,68,1931,86,2028,109,2110,134,2168,164,2184,179,2197,197,2213,233,2208,235,2192,200,2180,183,2165,169,2107,139,2027,114,1930,92,1823,73,1601,46,1409,30"/>
<area shape="rect" title=" " alt="" coords="2324,86,2396,111"/>
<area shape="poly" title=" " alt="" coords="1410,20,1882,38,2128,54,2229,64,2306,76,2319,79,2318,84,2305,81,2228,70,2127,60,1882,43,1410,25"/>
<area shape="rect" href="../../d1/d7d/result__types_8h.html" title="Result pattern type definitions for monitoring system." alt="" coords="562,416,721,441"/>
<area shape="poly" title=" " alt="" coords="734,273,706,281,679,293,655,309,636,329,628,347,626,365,634,403,629,404,621,366,623,345,631,327,652,305,677,288,704,276,732,268"/>
<area shape="rect" href="../../de/d11/error__codes_8h.html" title="Monitoring system specific error codes." alt="" coords="1319,497,1430,522"/>
<area shape="poly" title=" " alt="" coords="824,280,829,321,844,367,858,392,871,410,888,425,913,439,944,451,987,462,1093,480,1306,501,1305,506,1092,485,986,467,943,456,911,444,885,429,867,414,853,395,839,369,824,322,819,280"/>
<area shape="rect" title=" " alt="" coords="467,497,541,522"/>
<area shape="poly" title=" " alt="" coords="734,280,675,300,619,330,582,365,552,407,530,449,515,485,510,482,525,447,547,405,577,362,616,326,673,295,732,275"/>
<area shape="rect" title=" " alt="" coords="1159,416,1244,441"/>
<area shape="poly" title=" " alt="" coords="839,278,883,328,924,366,1145,413,1144,418,921,370,879,332,835,282"/>
<area shape="rect" title=" " alt="" coords="935,335,1001,361"/>
<area shape="poly" title=" " alt="" coords="855,278,938,326,935,331,852,282"/>
<area shape="poly" title=" " alt="" coords="807,282,791,303,780,329,775,366,777,402,772,402,769,366,775,327,787,301,802,279"/>
<area shape="poly" title=" " alt="" coords="829,279,847,323,862,346,880,366,922,391,961,401,1004,405,1058,413,1058,418,1004,410,960,406,920,396,877,370,857,350,842,326,824,281"/>
<area shape="rect" title=" " alt="" coords="645,335,707,361"/>
<area shape="poly" title=" " alt="" coords="791,282,708,331,706,326,788,278"/>
<area shape="rect" title=" " alt="" coords="1113,335,1164,361"/>
<area shape="poly" title=" " alt="" coords="910,274,1004,296,1102,325,1107,327,1105,332,1100,331,1002,301,909,280"/>
<area shape="rect" title=" " alt="" coords="1025,335,1089,361"/>
<area shape="poly" title=" " alt="" coords="879,278,1014,326,1020,328,1018,333,1012,330,878,283"/>
<area shape="rect" title=" " alt="" coords="353,335,468,361"/>
<area shape="poly" title=" " alt="" coords="734,282,479,335,478,330,733,277"/>
<area shape="poly" title=" " alt="" coords="910,258,1040,262,1207,271,1391,292,1484,307,1574,325,1603,334,1625,344,1676,365,1799,397,1904,417,1903,423,1797,402,1674,371,1623,349,1602,339,1573,331,1483,312,1390,297,1206,277,1040,267,909,264"/>
<area shape="poly" title=" " alt="" coords="721,437,734,439,1306,499,1306,504,733,444,721,443"/>
<area shape="rect" title=" " alt="" coords="763,577,821,603"/>
<area shape="poly" title=" " alt="" coords="689,439,731,457,751,471,769,488,780,506,787,525,794,563,789,564,782,527,775,508,765,491,748,475,729,462,687,444"/>
<area shape="rect" title=" " alt="" coords="566,489,754,529"/>
<area shape="poly" title=" " alt="" coords="647,441,655,475,650,477,641,442"/>
<area shape="poly" title=" " alt="" coords="622,444,537,492,535,488,620,439"/>
<area shape="rect" title=" " alt="" coords="1504,577,1571,603"/>
<area shape="poly" title=" " alt="" coords="1399,520,1503,569,1500,574,1397,524"/>
<area shape="poly" title=" " alt="" coords="1334,525,1300,532,1168,553,1037,569,835,588,835,583,1036,564,1167,548,1300,527,1332,519"/>
<area shape="poly" title=" " alt="" coords="550,116,774,231,771,236,547,121"/>
<area shape="poly" title=" " alt="" coords="419,109,348,117,275,129,213,146,190,157,174,169,135,217,123,242,115,267,114,292,118,316,129,341,147,366,166,376,201,385,306,401,432,412,548,420,548,425,431,418,305,406,200,391,164,381,144,370,124,344,113,318,108,292,110,266,118,240,131,215,170,165,187,152,211,141,274,124,347,112,419,104"/>
<area shape="poly" title=" " alt="" coords="465,121,428,140,388,167,352,200,326,241,311,277,302,307,304,335,320,367,343,393,367,411,392,422,418,427,478,431,551,439,657,457,765,471,978,491,1166,501,1306,505,1305,510,1166,507,978,497,765,477,656,462,550,444,478,436,418,432,391,427,365,416,340,397,315,369,298,337,297,306,306,275,322,239,348,197,385,163,425,136,463,116"/>
<area shape="poly" title=" " alt="" coords="420,113,295,132,162,162,104,182,57,205,26,231,17,244,15,259,15,430,21,456,39,478,67,499,105,516,151,532,202,545,319,564,444,576,565,583,749,586,749,592,564,589,443,582,319,569,201,550,149,537,103,521,65,503,35,482,16,458,9,430,9,258,12,242,22,227,54,200,102,177,161,157,294,127,419,108"/>
<area shape="poly" title=" " alt="" coords="485,121,425,167,392,198,362,231,339,266,326,301,324,318,326,334,332,351,343,366,371,385,412,398,462,405,518,408,634,409,732,414,732,419,634,415,518,413,461,410,410,403,369,390,339,370,328,353,321,336,319,318,320,300,334,263,358,228,388,194,421,163,482,117"/>
<area shape="poly" title=" " alt="" coords="592,116,749,163,837,197,923,238,987,281,1037,324,1034,328,984,285,920,242,835,202,747,168,591,121"/>
<area shape="poly" title=" " alt="" coords="507,120,423,324,418,322,502,118"/>
<area shape="poly" title=" " alt="" coords="605,100,900,110,1294,134,1495,152,1682,175,1841,203,1906,220,1960,237,2020,261,2073,288,2093,304,2105,323,2107,345,2096,369,2075,392,2049,407,2021,418,1994,425,1993,420,2019,413,2046,403,2071,387,2091,367,2101,344,2100,324,2089,307,2071,292,2017,266,1958,243,1905,225,1840,208,1682,180,1495,157,1293,139,899,116,605,105"/>
<area shape="poly" title=" " alt="" coords="605,106,1310,168,1309,174,605,111"/>
<area shape="rect" title=" " alt="" coords="923,416,1047,441"/>
<area shape="poly" title=" " alt="" coords="517,118,527,169,548,237,563,273,583,307,607,339,635,366,655,377,682,387,754,402,835,413,910,420,909,425,834,419,753,408,681,392,653,382,632,370,603,343,578,310,559,275,543,239,522,170,512,119"/>
<area shape="rect" title=" " alt="" coords="1983,335,2060,361"/>
<area shape="poly" title=" " alt="" coords="605,99,768,105,983,116,1225,135,1468,164,1638,190,1712,208,1804,238,1908,282,1992,326,1989,331,1906,287,1802,242,1710,213,1637,195,1468,169,1224,141,983,122,768,110,605,105"/>
<area shape="rect" title=" " alt="" coords="185,167,271,192"/>
<area shape="poly" title=" " alt="" coords="445,121,283,166,282,160,443,116"/>
<area shape="poly" title=" " alt="" coords="1323,186,941,205,730,222,644,232,578,243,504,254,443,261,416,269,391,281,367,301,344,329,333,355,334,365,338,374,356,390,386,403,422,412,464,419,549,425,548,430,463,424,421,417,384,408,354,395,334,377,329,366,328,354,339,327,363,297,388,277,414,264,442,256,503,248,577,237,643,226,730,216,940,200,1323,180"/>
<area shape="poly" title=" " alt="" coords="1456,181,1722,199,1860,216,1917,226,1959,237,2019,259,2071,285,2090,301,2102,320,2104,343,2096,369,2076,399,2054,418,2027,431,1993,444,1946,457,1885,469,1733,488,1575,500,1444,508,1444,502,1574,495,1733,482,1884,464,1945,452,1991,439,2025,426,2051,414,2072,396,2091,367,2099,342,2097,322,2086,304,2068,289,2017,264,1958,243,1916,231,1859,221,1721,205,1455,186"/>
<area shape="poly" title=" " alt="" coords="1323,184,1099,187,805,197,536,214,439,227,406,234,385,242,351,267,329,295,323,310,321,327,328,367,350,422,374,462,407,494,456,527,479,537,511,547,591,563,749,582,749,588,590,568,510,552,477,542,453,532,404,499,370,465,345,424,323,369,315,328,318,309,324,292,347,263,383,238,405,229,439,222,535,209,805,191,1099,182,1323,179"/>
<area shape="poly" title=" " alt="" coords="1343,195,1270,215,1189,242,1086,288,1002,331,999,326,1083,283,1187,238,1268,210,1342,190"/>
<area shape="poly" title=" " alt="" coords="1368,194,1094,331,1091,327,1365,190"/>
<area shape="poly" title=" " alt="" coords="1323,184,1209,188,1058,197,890,214,722,243,645,262,570,287,450,333,448,328,568,281,644,257,721,237,890,209,1058,192,1208,182,1323,179"/>
<area shape="poly" title=" " alt="" coords="1456,182,1608,194,1796,220,1887,239,1968,262,2033,291,2057,308,2074,327,2082,348,2074,369,2058,388,2038,403,1994,421,1992,416,2035,398,2054,384,2070,367,2077,348,2070,329,2053,312,2030,296,1966,267,1886,244,1795,225,1608,199,1455,187"/>
<area shape="rect" href="../../df/d4b/metric__types_8h.html" title="Common metric type definitions for efficient storage." alt="" coords="1442,335,1561,361"/>
<area shape="poly" title=" " alt="" coords="1396,191,1411,231,1437,279,1457,303,1479,324,1475,328,1453,307,1432,281,1406,234,1391,193"/>
<area shape="poly" title=" " alt="" coords="1381,194,1303,275,1243,326,1177,370,1117,397,1057,415,1056,410,1115,392,1175,366,1240,322,1299,271,1378,190"/>
<area shape="rect" href="../../d8/d51/time__series_8h.html" title="Time&#45;series data storage for efficient metric history." alt="" coords="1446,247,1557,273"/>
<area shape="poly" title=" " alt="" coords="1407,190,1475,237,1472,242,1404,194"/>
<area shape="poly" title=" " alt="" coords="1456,186,1581,206,1725,237,1795,258,1849,278,1972,326,1978,328,1976,333,1970,330,1848,283,1794,263,1723,243,1580,212,1455,192"/>
<area shape="rect" href="../../d7/d7b/ring__buffer_8h.html" title="Public API for ring buffer metric storage." alt="" coords="1609,247,1711,273"/>
<area shape="poly" title=" " alt="" coords="1429,189,1608,241,1607,246,1428,195"/>
<area shape="poly" title=" " alt="" coords="1456,181,1743,200,1929,216,2116,237,2172,247,2171,252,2116,243,1928,221,1743,205,1456,187"/>
<area shape="poly" title=" " alt="" coords="1442,357,735,419,734,413,1441,352"/>
<area shape="poly" title=" " alt="" coords="1444,363,1398,383,1377,398,1361,417,1355,433,1355,450,1364,483,1359,485,1350,451,1350,432,1356,415,1374,394,1395,379,1442,358"/>
<area shape="poly" title=" " alt="" coords="1547,358,1590,379,1610,395,1626,415,1634,436,1635,458,1630,480,1620,501,1593,539,1563,570,1560,566,1589,536,1616,498,1625,478,1630,457,1629,437,1622,417,1607,399,1588,384,1545,363"/>
<area shape="poly" title=" " alt="" coords="1473,363,1257,444,1019,522,835,578,834,573,1018,517,1255,439,1471,358"/>
<area shape="poly" title=" " alt="" coords="1458,363,1258,415,1256,410,1457,358"/>
<area shape="poly" title=" " alt="" coords="1442,361,1372,371,1061,404,826,426,826,421,1060,399,1372,365,1441,356"/>
<area shape="poly" title=" " alt="" coords="1442,362,1311,385,1148,419,1147,413,1310,380,1441,357"/>
<area shape="poly" title=" " alt="" coords="1548,358,1581,365,1759,397,1903,419,1903,424,1758,402,1579,371,1546,363"/>
<area shape="poly" title=" " alt="" coords="1442,361,1062,418,1061,413,1441,356"/>
<area shape="rect" title=" " alt="" coords="1543,416,1611,441"/>
<area shape="poly" title=" " alt="" coords="1514,359,1559,404,1555,408,1511,363"/>
<area shape="rect" title=" " alt="" coords="1370,416,1435,441"/>
<area shape="poly" title=" " alt="" coords="1488,363,1430,409,1426,405,1485,359"/>
<area shape="rect" title=" " alt="" coords="1460,416,1519,441"/>
<area shape="poly" title=" " alt="" coords="1502,361,1496,403,1491,402,1497,360"/>
<area shape="poly" title=" " alt="" coords="1457,275,1370,299,1272,330,1225,352,1204,362,1177,371,1056,396,959,405,861,409,735,419,735,413,861,403,959,399,1055,390,1175,365,1202,357,1223,347,1270,326,1369,294,1455,270"/>
<area shape="poly" title=" " alt="" coords="1522,271,1564,301,1609,343,1626,368,1637,393,1637,418,1626,443,1614,454,1597,463,1551,480,1444,502,1443,496,1549,475,1595,459,1611,449,1622,440,1632,417,1631,394,1621,370,1605,347,1560,305,1519,275"/>
<area shape="poly" title=" " alt="" coords="1492,275,1443,320,1410,347,1373,370,1315,397,1258,416,1256,411,1313,392,1371,366,1406,342,1440,316,1488,271"/>
<area shape="poly" title=" " alt="" coords="1480,275,1374,328,1315,354,1271,371,1181,388,1057,404,826,426,825,421,1056,399,1181,383,1270,365,1313,349,1371,323,1478,270"/>
<area shape="poly" title=" " alt="" coords="1453,275,1178,340,1177,335,1452,270"/>
<area shape="poly" title=" " alt="" coords="1446,269,1289,290,1195,307,1102,331,1095,333,1094,328,1101,325,1194,302,1289,285,1445,264"/>
<area shape="poly" title=" " alt="" coords="1558,270,1677,296,1734,311,1775,326,1802,345,1827,366,1909,408,1907,413,1824,370,1798,349,1772,330,1732,316,1676,301,1557,275"/>
<area shape="poly" title=" " alt="" coords="1504,273,1504,321,1499,321,1499,273"/>
<area shape="rect" title=" " alt="" coords="1837,328,1958,368"/>
<area shape="poly" title=" " alt="" coords="1557,270,1818,325,1824,327,1823,332,1817,331,1556,275"/>
<area shape="rect" title=" " alt="" coords="1687,335,1761,361"/>
<area shape="poly" title=" " alt="" coords="1532,270,1682,328,1680,333,1530,275"/>
<area shape="poly" title=" " alt="" coords="1557,270,1598,277,1703,290,1785,296,1867,305,1971,325,1982,328,1980,333,1970,331,1867,310,1785,302,1702,296,1597,283,1556,275"/>
<area shape="poly" title=" " alt="" coords="1693,270,1833,321,1831,326,1691,275"/>
</map>
</div>
</div>
<p><a href="../../db/d5e/test__stream__aggregation_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test suite for Phase 3 P2: Statistical aggregation functions.  <a href="../../de/d8e/classStreamAggregationTest.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac6259aaedec28561d66a4f209f7e6a02" id="r_ac6259aaedec28561d66a4f209f7e6a02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#ac6259aaedec28561d66a4f209f7e6a02">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">OnlineStatisticsBasic</a>)</td></tr>
<tr class="separator:ac6259aaedec28561d66a4f209f7e6a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba61e40ebb70470d2ce06126ce658c0a" id="r_aba61e40ebb70470d2ce06126ce658c0a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#aba61e40ebb70470d2ce06126ce658c0a">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">OnlineStatisticsLargeDataset</a>)</td></tr>
<tr class="separator:aba61e40ebb70470d2ce06126ce658c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa41c128a37e4b80eefc11e981672b57e" id="r_aa41c128a37e4b80eefc11e981672b57e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#aa41c128a37e4b80eefc11e981672b57e">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">QuantileEstimatorMedian</a>)</td></tr>
<tr class="separator:aa41c128a37e4b80eefc11e981672b57e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a4dde1c5b7544f0df993f47b8d068d" id="r_a34a4dde1c5b7544f0df993f47b8d068d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#a34a4dde1c5b7544f0df993f47b8d068d">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">QuantileEstimatorPercentiles</a>)</td></tr>
<tr class="separator:a34a4dde1c5b7544f0df993f47b8d068d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb4b18f960737767b7e5d50e5ab550d" id="r_a7bb4b18f960737767b7e5d50e5ab550d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#a7bb4b18f960737767b7e5d50e5ab550d">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">MovingWindowBasic</a>)</td></tr>
<tr class="separator:a7bb4b18f960737767b7e5d50e5ab550d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded858f52b7bf943fd006231d3ee9373" id="r_aded858f52b7bf943fd006231d3ee9373"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#aded858f52b7bf943fd006231d3ee9373">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">MovingWindowExpiration</a>)</td></tr>
<tr class="separator:aded858f52b7bf943fd006231d3ee9373"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba0eacefc5906f9f45a5ba8f527ad9a5" id="r_aba0eacefc5906f9f45a5ba8f527ad9a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#aba0eacefc5906f9f45a5ba8f527ad9a5">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">StreamAggregatorBasic</a>)</td></tr>
<tr class="separator:aba0eacefc5906f9f45a5ba8f527ad9a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bfa763734f0e58fd6d0da7ac718425b" id="r_a4bfa763734f0e58fd6d0da7ac718425b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#a4bfa763734f0e58fd6d0da7ac718425b">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">StreamAggregatorPercentiles</a>)</td></tr>
<tr class="separator:a4bfa763734f0e58fd6d0da7ac718425b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c859001554622a134ec0a6430225f6b" id="r_a8c859001554622a134ec0a6430225f6b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#a8c859001554622a134ec0a6430225f6b">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">StreamAggregatorOutlierDetection</a>)</td></tr>
<tr class="separator:a8c859001554622a134ec0a6430225f6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f1c151b222afe1e4a5d28878eff971" id="r_aa3f1c151b222afe1e4a5d28878eff971"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#aa3f1c151b222afe1e4a5d28878eff971">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">StreamAggregatorReset</a>)</td></tr>
<tr class="separator:aa3f1c151b222afe1e4a5d28878eff971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0ef68a15301bb34ada351c58bb424f5" id="r_ab0ef68a15301bb34ada351c58bb424f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#ab0ef68a15301bb34ada351c58bb424f5">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">AggregationProcessorBasic</a>)</td></tr>
<tr class="separator:ab0ef68a15301bb34ada351c58bb424f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefb77db560ad73ad96f2e7ddfcbc1d24" id="r_aefb77db560ad73ad96f2e7ddfcbc1d24"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#aefb77db560ad73ad96f2e7ddfcbc1d24">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">AggregationProcessorMultipleMetrics</a>)</td></tr>
<tr class="separator:aefb77db560ad73ad96f2e7ddfcbc1d24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5371f8050a47c0081c6d971af684e4d" id="r_ae5371f8050a47c0081c6d971af684e4d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#ae5371f8050a47c0081c6d971af684e4d">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">AggregationProcessorForceAggregation</a>)</td></tr>
<tr class="separator:ae5371f8050a47c0081c6d971af684e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4227fb8fd285d757ee063d5729a9e307" id="r_a4227fb8fd285d757ee063d5729a9e307"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#a4227fb8fd285d757ee063d5729a9e307">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">AggregationProcessorInvalidRule</a>)</td></tr>
<tr class="separator:a4227fb8fd285d757ee063d5729a9e307"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c56ebe352f17f0bd6b30c74c63d2e59" id="r_a7c56ebe352f17f0bd6b30c74c63d2e59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#a7c56ebe352f17f0bd6b30c74c63d2e59">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">PearsonCorrelation</a>)</td></tr>
<tr class="separator:a7c56ebe352f17f0bd6b30c74c63d2e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf4cc5bbb44a244bbbda1f0614cefb6" id="r_a3bf4cc5bbb44a244bbbda1f0614cefb6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#a3bf4cc5bbb44a244bbbda1f0614cefb6">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">StandardAggregationRules</a>)</td></tr>
<tr class="separator:a3bf4cc5bbb44a244bbbda1f0614cefb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad11423cc9fdc4248c8eb7383269c8ca5" id="r_ad11423cc9fdc4248c8eb7383269c8ca5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#ad11423cc9fdc4248c8eb7383269c8ca5">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">ConfigurationValidation</a>)</td></tr>
<tr class="separator:ad11423cc9fdc4248c8eb7383269c8ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a655d41a2c943c855a7b07d0be4158469" id="r_a655d41a2c943c855a7b07d0be4158469"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d5e/test__stream__aggregation_8cpp.html#a655d41a2c943c855a7b07d0be4158469">TEST_F</a> (<a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>, <a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">StreamAggregatorThreadSafety</a>)</td></tr>
<tr class="separator:a655d41a2c943c855a7b07d0be4158469"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab0ef68a15301bb34ada351c58bb424f5" name="ab0ef68a15301bb34ada351c58bb424f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0ef68a15301bb34ada351c58bb424f5">&#9670;&#160;</a></span>TEST_F() <span class="overload">[1/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">AggregationProcessorBasic</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00304">304</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  304</span>                                                         {</div>
<div class="line"><span class="lineno">  305</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a> = std::make_shared&lt;metric_storage&gt;();</div>
<div class="line"><span class="lineno">  306</span>    <a class="code hl_class" href="../../df/d6f/classkcenon_1_1monitoring_1_1aggregation__processor.html">aggregation_processor</a> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>(<a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a>);</div>
<div class="line"><span class="lineno">  307</span>    </div>
<div class="line"><span class="lineno">  308</span>    <span class="comment">// Create aggregation rule</span></div>
<div class="line"><span class="lineno">  309</span>    <a class="code hl_struct" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html">aggregation_rule</a> rule;</div>
<div class="line"><span class="lineno">  310</span>    rule.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#ac02a8a584cf93fb088ca0da12ea26b24">source_metric</a> = <span class="stringliteral">&quot;test_metric&quot;</span>;</div>
<div class="line"><span class="lineno">  311</span>    rule.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#a81a4de8094e105aff4cf871aa8a48bac">target_metric_prefix</a> = <span class="stringliteral">&quot;test_metric_stats&quot;</span>;</div>
<div class="line"><span class="lineno">  312</span>    rule.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#a22f8a3f3220dcbb7b8f6a9e2cddef300">aggregation_interval</a> = std::chrono::milliseconds(1000);</div>
<div class="line"><span class="lineno">  313</span>    rule.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#af26d49209ed35140f1d16c454ed5c757">percentiles</a> = {0.5, 0.95};</div>
<div class="line"><span class="lineno">  314</span>    rule.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#a4f4cd9c1f7217fe596aab6ec2c9d4239">compute_rate</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  315</span>    rule.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#acc1b50f138a0ec359f0f6bba05203daa">detect_outliers</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  316</span>    </div>
<div class="line"><span class="lineno">  317</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">add_result</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>.add_aggregation_rule(rule);</div>
<div class="line"><span class="lineno">  318</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">add_result</a>.is_ok());</div>
<div class="line"><span class="lineno">  319</span>    </div>
<div class="line"><span class="lineno">  320</span>    <span class="comment">// Add observations</span></div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> = 1; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> &lt;= 100; ++<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>) {</div>
<div class="line"><span class="lineno">  322</span>        <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>.process_observation(<span class="stringliteral">&quot;test_metric&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>));</div>
<div class="line"><span class="lineno">  323</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result</a>.is_ok());</div>
<div class="line"><span class="lineno">  324</span>    }</div>
<div class="line"><span class="lineno">  325</span>    </div>
<div class="line"><span class="lineno">  326</span>    <span class="comment">// Get current statistics</span></div>
<div class="line"><span class="lineno">  327</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">stats_result</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>.get_current_statistics(<span class="stringliteral">&quot;test_metric&quot;</span>);</div>
<div class="line"><span class="lineno">  328</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">stats_result</a>.is_ok());</div>
<div class="line"><span class="lineno">  329</span>    </div>
<div class="line"><span class="lineno">  330</span>    <span class="keyword">auto</span> stats = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">stats_result</a>.value();</div>
<div class="line"><span class="lineno">  331</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(stats.count, 100);</div>
<div class="line"><span class="lineno">  332</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_GT</a>(stats.mean, 0.0);</div>
<div class="line"><span class="lineno">  333</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1aggregation__processor_html"><div class="ttname"><a href="../../df/d6f/classkcenon_1_1monitoring_1_1aggregation__processor.html">kcenon::monitoring::aggregation_processor</a></div><div class="ttdoc">Processes metric streams and generates aggregated statistics.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/db7/aggregation__processor_8h_source.html#l00112">aggregation_processor.h:112</a></div></div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_aa50eefd048f6e0abb82f1ec84a421dd0"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">kcenon::monitoring::result</a></div><div class="ttdeci">common::Result&lt; T &gt; result</div><div class="ttdoc">Backward-compatible alias for common::Result&lt;T&gt;</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d7d/result__types_8h_source.html#l00114">result_types.h:114</a></div></div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">kcenon::monitoring::sensor_type::storage</a></div><div class="ttdeci">@ storage</div><div class="ttdoc">Storage device sensor.</div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1aggregation__rule_html"><div class="ttname"><a href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html">kcenon::monitoring::aggregation_rule</a></div><div class="ttdoc">Configuration for metric aggregation.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/db7/aggregation__processor_8h_source.html#l00060">aggregation_processor.h:60</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1aggregation__rule_html_a22f8a3f3220dcbb7b8f6a9e2cddef300"><div class="ttname"><a href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#a22f8a3f3220dcbb7b8f6a9e2cddef300">kcenon::monitoring::aggregation_rule::aggregation_interval</a></div><div class="ttdeci">std::chrono::milliseconds aggregation_interval</div><div class="ttdoc">Aggregation interval.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/db7/aggregation__processor_8h_source.html#l00063">aggregation_processor.h:63</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1aggregation__rule_html_a4f4cd9c1f7217fe596aab6ec2c9d4239"><div class="ttname"><a href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#a4f4cd9c1f7217fe596aab6ec2c9d4239">kcenon::monitoring::aggregation_rule::compute_rate</a></div><div class="ttdeci">bool compute_rate</div><div class="ttdoc">Compute rate of change.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/db7/aggregation__processor_8h_source.html#l00065">aggregation_processor.h:65</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1aggregation__rule_html_a81a4de8094e105aff4cf871aa8a48bac"><div class="ttname"><a href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#a81a4de8094e105aff4cf871aa8a48bac">kcenon::monitoring::aggregation_rule::target_metric_prefix</a></div><div class="ttdeci">std::string target_metric_prefix</div><div class="ttdoc">Prefix for aggregated metrics.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/db7/aggregation__processor_8h_source.html#l00062">aggregation_processor.h:62</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1aggregation__rule_html_ac02a8a584cf93fb088ca0da12ea26b24"><div class="ttname"><a href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#ac02a8a584cf93fb088ca0da12ea26b24">kcenon::monitoring::aggregation_rule::source_metric</a></div><div class="ttdeci">std::string source_metric</div><div class="ttdoc">Source metric name.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/db7/aggregation__processor_8h_source.html#l00061">aggregation_processor.h:61</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1aggregation__rule_html_acc1b50f138a0ec359f0f6bba05203daa"><div class="ttname"><a href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#acc1b50f138a0ec359f0f6bba05203daa">kcenon::monitoring::aggregation_rule::detect_outliers</a></div><div class="ttdeci">bool detect_outliers</div><div class="ttdoc">Enable outlier detection.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/db7/aggregation__processor_8h_source.html#l00066">aggregation_processor.h:66</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1aggregation__rule_html_af26d49209ed35140f1d16c454ed5c757"><div class="ttname"><a href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#af26d49209ed35140f1d16c454ed5c757">kcenon::monitoring::aggregation_rule::percentiles</a></div><div class="ttdeci">std::vector&lt; double &gt; percentiles</div><div class="ttdoc">Percentiles to compute.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/db7/aggregation__processor_8h_source.html#l00064">aggregation_processor.h:64</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae5371f8050a47c0081c6d971af684e4d" name="ae5371f8050a47c0081c6d971af684e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5371f8050a47c0081c6d971af684e4d">&#9670;&#160;</a></span>TEST_F() <span class="overload">[2/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">AggregationProcessorForceAggregation</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00368">368</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  368</span>                                                                    {</div>
<div class="line"><span class="lineno">  369</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a> = std::make_shared&lt;metric_storage&gt;();</div>
<div class="line"><span class="lineno">  370</span>    <a class="code hl_class" href="../../df/d6f/classkcenon_1_1monitoring_1_1aggregation__processor.html">aggregation_processor</a> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>(<a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a>);</div>
<div class="line"><span class="lineno">  371</span>    </div>
<div class="line"><span class="lineno">  372</span>    <a class="code hl_struct" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html">aggregation_rule</a> rule;</div>
<div class="line"><span class="lineno">  373</span>    rule.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#ac02a8a584cf93fb088ca0da12ea26b24">source_metric</a> = <span class="stringliteral">&quot;response_time&quot;</span>;</div>
<div class="line"><span class="lineno">  374</span>    rule.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#a81a4de8094e105aff4cf871aa8a48bac">target_metric_prefix</a> = <span class="stringliteral">&quot;response_time_agg&quot;</span>;</div>
<div class="line"><span class="lineno">  375</span>    rule.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#a22f8a3f3220dcbb7b8f6a9e2cddef300">aggregation_interval</a> = std::chrono::hours(1);  <span class="comment">// Long interval</span></div>
<div class="line"><span class="lineno">  376</span>    rule.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#af26d49209ed35140f1d16c454ed5c757">percentiles</a> = {0.5, 0.9, 0.95, 0.99};</div>
<div class="line"><span class="lineno">  377</span>    </div>
<div class="line"><span class="lineno">  378</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>.add_aggregation_rule(rule);</div>
<div class="line"><span class="lineno">  379</span>    </div>
<div class="line"><span class="lineno">  380</span>    <span class="comment">// Add observations</span></div>
<div class="line"><span class="lineno">  381</span>    <span class="keyword">auto</span> samples = generate_normal_samples(1000, 100.0, 20.0);</div>
<div class="line"><span class="lineno">  382</span>    <span class="keywordflow">for</span> (<span class="keywordtype">double</span> sample : samples) {</div>
<div class="line"><span class="lineno">  383</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>.process_observation(<span class="stringliteral">&quot;response_time&quot;</span>, sample);</div>
<div class="line"><span class="lineno">  384</span>    }</div>
<div class="line"><span class="lineno">  385</span>    </div>
<div class="line"><span class="lineno">  386</span>    <span class="comment">// Force aggregation before interval</span></div>
<div class="line"><span class="lineno">  387</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>.force_aggregation(<span class="stringliteral">&quot;response_time&quot;</span>);</div>
<div class="line"><span class="lineno">  388</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result</a>.is_ok());</div>
<div class="line"><span class="lineno">  389</span>    </div>
<div class="line"><span class="lineno">  390</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">agg_result</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result</a>.value();</div>
<div class="line"><span class="lineno">  391</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">agg_result</a>.source_metric, <span class="stringliteral">&quot;response_time&quot;</span>);</div>
<div class="line"><span class="lineno">  392</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">agg_result</a>.samples_processed, 1000);</div>
<div class="line"><span class="lineno">  393</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_GE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">agg_result</a>.processing_duration.count(), 0);  <span class="comment">// May be 0 on fast systems</span></div>
<div class="line"><span class="lineno">  394</span>    </div>
<div class="line"><span class="lineno">  395</span>    <span class="comment">// Check that aggregated metrics were stored</span></div>
<div class="line"><span class="lineno">  396</span>    <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a>-&gt;flush();</div>
<div class="line"><span class="lineno">  397</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">latest</a> = <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a>-&gt;get_latest_value(<span class="stringliteral">&quot;response_time_agg.mean&quot;</span>);</div>
<div class="line"><span class="lineno">  398</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">latest</a>.is_ok());</div>
<div class="line"><span class="lineno">  399</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_NEAR</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">latest</a>.value(), 100.0, 10.0);</div>
<div class="line"><span class="lineno">  400</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4227fb8fd285d757ee063d5729a9e307" name="a4227fb8fd285d757ee063d5729a9e307"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4227fb8fd285d757ee063d5729a9e307">&#9670;&#160;</a></span>TEST_F() <span class="overload">[3/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">AggregationProcessorInvalidRule</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00402">402</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  402</span>                                                               {</div>
<div class="line"><span class="lineno">  403</span>    <a class="code hl_class" href="../../df/d6f/classkcenon_1_1monitoring_1_1aggregation__processor.html">aggregation_processor</a> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>;</div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span>    <span class="comment">// Test invalid rule (empty source metric)</span></div>
<div class="line"><span class="lineno">  406</span>    <a class="code hl_struct" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html">aggregation_rule</a> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">invalid_rule</a>;</div>
<div class="line"><span class="lineno">  407</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">invalid_rule</a>.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#ac02a8a584cf93fb088ca0da12ea26b24">source_metric</a> = <span class="stringliteral">&quot;&quot;</span>;  <span class="comment">// Invalid</span></div>
<div class="line"><span class="lineno">  408</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">invalid_rule</a>.target_metric_prefix = <span class="stringliteral">&quot;test&quot;</span>;</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>.add_aggregation_rule(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">invalid_rule</a>);</div>
<div class="line"><span class="lineno">  411</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_FALSE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result</a>.is_ok());</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>    <span class="comment">// Test duplicate rule</span></div>
<div class="line"><span class="lineno">  414</span>    <a class="code hl_struct" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html">aggregation_rule</a> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">valid_rule</a>;</div>
<div class="line"><span class="lineno">  415</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">valid_rule</a>.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#ac02a8a584cf93fb088ca0da12ea26b24">source_metric</a> = <span class="stringliteral">&quot;test_metric&quot;</span>;</div>
<div class="line"><span class="lineno">  416</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">valid_rule</a>.target_metric_prefix = <span class="stringliteral">&quot;test_stats&quot;</span>;</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result1</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>.add_aggregation_rule(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">valid_rule</a>);</div>
<div class="line"><span class="lineno">  419</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result1</a>.is_ok());</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result2</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>.add_aggregation_rule(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">valid_rule</a>);  <span class="comment">// Duplicate</span></div>
<div class="line"><span class="lineno">  422</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_FALSE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result2</a>.is_ok());</div>
<div class="line"><span class="lineno">  423</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aefb77db560ad73ad96f2e7ddfcbc1d24" name="aefb77db560ad73ad96f2e7ddfcbc1d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefb77db560ad73ad96f2e7ddfcbc1d24">&#9670;&#160;</a></span>TEST_F() <span class="overload">[4/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">AggregationProcessorMultipleMetrics</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00335">335</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  335</span>                                                                   {</div>
<div class="line"><span class="lineno">  336</span>    <a class="code hl_class" href="../../df/d6f/classkcenon_1_1monitoring_1_1aggregation__processor.html">aggregation_processor</a> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>;</div>
<div class="line"><span class="lineno">  337</span>    </div>
<div class="line"><span class="lineno">  338</span>    <span class="comment">// Add rules for multiple metrics</span></div>
<div class="line"><span class="lineno">  339</span>    std::vector&lt;std::string&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">metric_names</a> = {<span class="stringliteral">&quot;cpu_usage&quot;</span>, <span class="stringliteral">&quot;memory_usage&quot;</span>, <span class="stringliteral">&quot;network_io&quot;</span>};</div>
<div class="line"><span class="lineno">  340</span>    </div>
<div class="line"><span class="lineno">  341</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; metric_name : <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">metric_names</a>) {</div>
<div class="line"><span class="lineno">  342</span>        <a class="code hl_struct" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html">aggregation_rule</a> rule;</div>
<div class="line"><span class="lineno">  343</span>        rule.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#ac02a8a584cf93fb088ca0da12ea26b24">source_metric</a> = metric_name;</div>
<div class="line"><span class="lineno">  344</span>        rule.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#a81a4de8094e105aff4cf871aa8a48bac">target_metric_prefix</a> = metric_name + <span class="stringliteral">&quot;_stats&quot;</span>;</div>
<div class="line"><span class="lineno">  345</span>        rule.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#a22f8a3f3220dcbb7b8f6a9e2cddef300">aggregation_interval</a> = std::chrono::milliseconds(500);</div>
<div class="line"><span class="lineno">  346</span>        </div>
<div class="line"><span class="lineno">  347</span>        <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>.add_aggregation_rule(rule);</div>
<div class="line"><span class="lineno">  348</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result</a>.is_ok());</div>
<div class="line"><span class="lineno">  349</span>    }</div>
<div class="line"><span class="lineno">  350</span>    </div>
<div class="line"><span class="lineno">  351</span>    <span class="comment">// Add observations to each metric</span></div>
<div class="line"><span class="lineno">  352</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; metric_name : <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">metric_names</a>) {</div>
<div class="line"><span class="lineno">  353</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> = 1; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> &lt;= 50; ++<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>) {</div>
<div class="line"><span class="lineno">  354</span>            <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>.process_observation(metric_name, <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>));</div>
<div class="line"><span class="lineno">  355</span>            <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result</a>.is_ok());</div>
<div class="line"><span class="lineno">  356</span>        }</div>
<div class="line"><span class="lineno">  357</span>    }</div>
<div class="line"><span class="lineno">  358</span>    </div>
<div class="line"><span class="lineno">  359</span>    <span class="comment">// Check configured metrics</span></div>
<div class="line"><span class="lineno">  360</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">configured</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">processor</a>.get_configured_metrics();</div>
<div class="line"><span class="lineno">  361</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">configured</a>.size(), 3);</div>
<div class="line"><span class="lineno">  362</span>    </div>
<div class="line"><span class="lineno">  363</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; metric_name : <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">metric_names</a>) {</div>
<div class="line"><span class="lineno">  364</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_NE</a>(std::find(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">configured</a>.begin(), <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">configured</a>.end(), metric_name), <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">configured</a>.end());</div>
<div class="line"><span class="lineno">  365</span>    }</div>
<div class="line"><span class="lineno">  366</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad11423cc9fdc4248c8eb7383269c8ca5" name="ad11423cc9fdc4248c8eb7383269c8ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad11423cc9fdc4248c8eb7383269c8ca5">&#9670;&#160;</a></span>TEST_F() <span class="overload">[5/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">ConfigurationValidation</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00483">483</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  483</span>                                                       {</div>
<div class="line"><span class="lineno">  484</span>    <span class="comment">// Test invalid stream aggregator config</span></div>
<div class="line"><span class="lineno">  485</span>    <a class="code hl_struct" href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html">stream_aggregator_config</a> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">invalid_config</a>;</div>
<div class="line"><span class="lineno">  486</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">invalid_config</a>.<a class="code hl_variable" href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html#a0e2d1931ecaf34655ce7a8e298d5500c">window_size</a> = 0;  <span class="comment">// Invalid</span></div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">validation</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">invalid_config</a>.validate();</div>
<div class="line"><span class="lineno">  489</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_FALSE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">validation</a>.is_ok());</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>    <span class="comment">// Test valid config</span></div>
<div class="line"><span class="lineno">  492</span>    <a class="code hl_struct" href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html">stream_aggregator_config</a> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">valid_config</a>;</div>
<div class="line"><span class="lineno">  493</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">valid_config</a>.<a class="code hl_variable" href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html#a0e2d1931ecaf34655ce7a8e298d5500c">window_size</a> = 1000;</div>
<div class="line"><span class="lineno">  494</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">valid_config</a>.window_duration = std::chrono::milliseconds(60000);</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">validation</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">valid_config</a>.validate();</div>
<div class="line"><span class="lineno">  497</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">validation</a>.is_ok());</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>    <span class="comment">// Test invalid aggregation rule</span></div>
<div class="line"><span class="lineno">  500</span>    <a class="code hl_struct" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html">aggregation_rule</a> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">invalid_rule</a>;</div>
<div class="line"><span class="lineno">  501</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">invalid_rule</a>.<a class="code hl_variable" href="../../d0/dba/structkcenon_1_1monitoring_1_1aggregation__rule.html#ac02a8a584cf93fb088ca0da12ea26b24">source_metric</a> = <span class="stringliteral">&quot;test&quot;</span>;</div>
<div class="line"><span class="lineno">  502</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">invalid_rule</a>.target_metric_prefix = <span class="stringliteral">&quot;&quot;</span>;  <span class="comment">// Invalid</span></div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">validation</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">invalid_rule</a>.validate();</div>
<div class="line"><span class="lineno">  505</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_FALSE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">validation</a>.is_ok());</div>
<div class="line"><span class="lineno">  506</span>}</div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1stream__aggregator__config_html"><div class="ttname"><a href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html">kcenon::monitoring::stream_aggregator_config</a></div><div class="ttdoc">Configuration for stream aggregator.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00514">stream_aggregator.h:514</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1stream__aggregator__config_html_a0e2d1931ecaf34655ce7a8e298d5500c"><div class="ttname"><a href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html#a0e2d1931ecaf34655ce7a8e298d5500c">kcenon::monitoring::stream_aggregator_config::window_size</a></div><div class="ttdeci">size_t window_size</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00515">stream_aggregator.h:515</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7bb4b18f960737767b7e5d50e5ab550d" name="a7bb4b18f960737767b7e5d50e5ab550d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bb4b18f960737767b7e5d50e5ab550d">&#9670;&#160;</a></span>TEST_F() <span class="overload">[6/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">MovingWindowBasic</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00168">168</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  168</span>                                                 {</div>
<div class="line"><span class="lineno">  169</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">moving_window_aggregator&lt;double&gt;</a> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">window</a>(std::chrono::milliseconds(1000), 100);</div>
<div class="line"><span class="lineno">  170</span>    </div>
<div class="line"><span class="lineno">  171</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">now</a> = std::chrono::system_clock::now();</div>
<div class="line"><span class="lineno">  172</span>    </div>
<div class="line"><span class="lineno">  173</span>    <span class="comment">// Add values</span></div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> = 0; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> &lt; 10; ++<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>) {</div>
<div class="line"><span class="lineno">  175</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">window</a>.add_value(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>), <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">now</a> + std::chrono::milliseconds(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> * 10));</div>
<div class="line"><span class="lineno">  176</span>    }</div>
<div class="line"><span class="lineno">  177</span>    </div>
<div class="line"><span class="lineno">  178</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">window</a>.size(), 10);</div>
<div class="line"><span class="lineno">  179</span>    </div>
<div class="line"><span class="lineno">  180</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">values</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">window</a>.get_values();</div>
<div class="line"><span class="lineno">  181</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">values</a>.size(), 10);</div>
<div class="line"><span class="lineno">  182</span>    </div>
<div class="line"><span class="lineno">  183</span>    <span class="comment">// Check values are correct</span></div>
<div class="line"><span class="lineno">  184</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> = 0; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> &lt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">values</a>.size(); ++<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>) {</div>
<div class="line"><span class="lineno">  185</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">values</a>[<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>], <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>));</div>
<div class="line"><span class="lineno">  186</span>    }</div>
<div class="line"><span class="lineno">  187</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aded858f52b7bf943fd006231d3ee9373" name="aded858f52b7bf943fd006231d3ee9373"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded858f52b7bf943fd006231d3ee9373">&#9670;&#160;</a></span>TEST_F() <span class="overload">[7/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">MovingWindowExpiration</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00189">189</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  189</span>                                                      {</div>
<div class="line"><span class="lineno">  190</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">moving_window_aggregator&lt;double&gt;</a> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">window</a>(std::chrono::milliseconds(100), 1000);</div>
<div class="line"><span class="lineno">  191</span>    </div>
<div class="line"><span class="lineno">  192</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">now</a> = std::chrono::system_clock::now();</div>
<div class="line"><span class="lineno">  193</span>    </div>
<div class="line"><span class="lineno">  194</span>    <span class="comment">// Add old values (should expire)</span></div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> = 0; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> &lt; 5; ++<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>) {</div>
<div class="line"><span class="lineno">  196</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">window</a>.add_value(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>), <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">now</a> - std::chrono::milliseconds(200));</div>
<div class="line"><span class="lineno">  197</span>    }</div>
<div class="line"><span class="lineno">  198</span>    </div>
<div class="line"><span class="lineno">  199</span>    <span class="comment">// Add new values (should remain)</span></div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> = 10; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> &lt; 15; ++<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>) {</div>
<div class="line"><span class="lineno">  201</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">window</a>.add_value(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>), <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">now</a>);</div>
<div class="line"><span class="lineno">  202</span>    }</div>
<div class="line"><span class="lineno">  203</span>    </div>
<div class="line"><span class="lineno">  204</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">values</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">window</a>.get_values();</div>
<div class="line"><span class="lineno">  205</span>    </div>
<div class="line"><span class="lineno">  206</span>    <span class="comment">// Should only have the new values</span></div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">values</a>.size(), 5);</div>
<div class="line"><span class="lineno">  208</span>    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> = 0; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> &lt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">values</a>.size(); ++<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>) {</div>
<div class="line"><span class="lineno">  209</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">values</a>[<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>], <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> + 10));</div>
<div class="line"><span class="lineno">  210</span>    }</div>
<div class="line"><span class="lineno">  211</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6259aaedec28561d66a4f209f7e6a02" name="ac6259aaedec28561d66a4f209f7e6a02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6259aaedec28561d66a4f209f7e6a02">&#9670;&#160;</a></span>TEST_F() <span class="overload">[8/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">OnlineStatisticsBasic</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00093">93</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   93</span>                                                     {</div>
<div class="line"><span class="lineno">   94</span>    <a class="code hl_class" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html">online_statistics</a> stats;</div>
<div class="line"><span class="lineno">   95</span>    </div>
<div class="line"><span class="lineno">   96</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(stats.<a class="code hl_function" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af8777b1253df450eb2cf4b8ee3a43fae">count</a>(), 0);</div>
<div class="line"><span class="lineno">   97</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(stats.<a class="code hl_function" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af58b9b80277dae07ac8b964c75fd6124">mean</a>(), 0.0);</div>
<div class="line"><span class="lineno">   98</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(stats.<a class="code hl_function" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a3df0289eb787ad8866a8ce611d440b3e">variance</a>(), 0.0);</div>
<div class="line"><span class="lineno">   99</span>    </div>
<div class="line"><span class="lineno">  100</span>    <span class="comment">// Add some values</span></div>
<div class="line"><span class="lineno">  101</span>    std::vector&lt;double&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">values</a> = {1.0, 2.0, 3.0, 4.0, 5.0};</div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">for</span> (<span class="keywordtype">double</span> value : <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">values</a>) {</div>
<div class="line"><span class="lineno">  103</span>        stats.<a class="code hl_function" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a82194409e4e712ccb2f60da2576c74cf">add_value</a>(value);</div>
<div class="line"><span class="lineno">  104</span>    }</div>
<div class="line"><span class="lineno">  105</span>    </div>
<div class="line"><span class="lineno">  106</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(stats.<a class="code hl_function" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af8777b1253df450eb2cf4b8ee3a43fae">count</a>(), 5);</div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_DOUBLE_EQ</a>(stats.<a class="code hl_function" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af58b9b80277dae07ac8b964c75fd6124">mean</a>(), 3.0);  <span class="comment">// (1+2+3+4+5)/5 = 3</span></div>
<div class="line"><span class="lineno">  108</span>    </div>
<div class="line"><span class="lineno">  109</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">full_stats</a> = stats.<a class="code hl_function" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af747480f239c364c289c786d693fc68c">get_statistics</a>();</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">full_stats</a>.count, 5);</div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_DOUBLE_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">full_stats</a>.mean, 3.0);</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_DOUBLE_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">full_stats</a>.min_value, 1.0);</div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_DOUBLE_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">full_stats</a>.max_value, 5.0);</div>
<div class="line"><span class="lineno">  114</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_GT</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">full_stats</a>.variance, 0.0);</div>
<div class="line"><span class="lineno">  115</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_GT</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">full_stats</a>.std_deviation, 0.0);</div>
<div class="line"><span class="lineno">  116</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1online__statistics_html"><div class="ttname"><a href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html">kcenon::monitoring::online_statistics</a></div><div class="ttdoc">Welford's algorithm for computing streaming statistics.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00083">stream_aggregator.h:83</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1online__statistics_html_a3df0289eb787ad8866a8ce611d440b3e"><div class="ttname"><a href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a3df0289eb787ad8866a8ce611d440b3e">kcenon::monitoring::online_statistics::variance</a></div><div class="ttdeci">double variance() const</div><div class="ttdoc">Get running variance (sample variance)</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00129">stream_aggregator.h:129</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1online__statistics_html_a82194409e4e712ccb2f60da2576c74cf"><div class="ttname"><a href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a82194409e4e712ccb2f60da2576c74cf">kcenon::monitoring::online_statistics::add_value</a></div><div class="ttdeci">void add_value(double value)</div><div class="ttdoc">Add a value to the statistics.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00091">stream_aggregator.h:91</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1online__statistics_html_af58b9b80277dae07ac8b964c75fd6124"><div class="ttname"><a href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af58b9b80277dae07ac8b964c75fd6124">kcenon::monitoring::online_statistics::mean</a></div><div class="ttdeci">double mean() const</div><div class="ttdoc">Get running mean.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00121">stream_aggregator.h:121</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1online__statistics_html_af747480f239c364c289c786d693fc68c"><div class="ttname"><a href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af747480f239c364c289c786d693fc68c">kcenon::monitoring::online_statistics::get_statistics</a></div><div class="ttdeci">streaming_statistics get_statistics() const</div><div class="ttdoc">Get full statistics.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00171">stream_aggregator.h:171</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1online__statistics_html_af8777b1253df450eb2cf4b8ee3a43fae"><div class="ttname"><a href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af8777b1253df450eb2cf4b8ee3a43fae">kcenon::monitoring::online_statistics::count</a></div><div class="ttdeci">size_t count() const</div><div class="ttdoc">Get sample count.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00113">stream_aggregator.h:113</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d5e/test__stream__aggregation_8cpp_ac6259aaedec28561d66a4f209f7e6a02_cgraph.png" border="0" usemap="#adb/d5e/test__stream__aggregation_8cpp_ac6259aaedec28561d66a4f209f7e6a02_cgraph" alt=""/></div>
<map name="adb/d5e/test__stream__aggregation_8cpp_ac6259aaedec28561d66a4f209f7e6a02_cgraph" id="adb/d5e/test__stream__aggregation_8cpp_ac6259aaedec28561d66a4f209f7e6a02_cgraph">
<area shape="rect" title=" " alt="" coords="5,177,75,203"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a82194409e4e712ccb2f60da2576c74cf" title="Add a value to the statistics." alt="" coords="139,5,287,60"/>
<area shape="poly" title=" " alt="" coords="45,176,73,125,95,96,121,69,126,65,129,70,124,73,99,99,77,128,49,178"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af8777b1253df450eb2cf4b8ee3a43fae" title="Get sample count." alt="" coords="139,84,287,139"/>
<area shape="poly" title=" " alt="" coords="65,175,122,148,134,142,136,147,124,152,68,180"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af747480f239c364c289c786d693fc68c" title="Get full statistics." alt="" coords="139,163,287,217"/>
<area shape="poly" title=" " alt="" coords="75,187,125,187,125,193,75,193"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af58b9b80277dae07ac8b964c75fd6124" title="Get running mean." alt="" coords="123,242,304,282"/>
<area shape="poly" title=" " alt="" coords="68,200,124,226,144,235,142,240,122,231,66,205"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a3df0289eb787ad8866a8ce611d440b3e" title="Get running variance (sample variance)" alt="" coords="139,307,287,361"/>
<area shape="poly" title=" " alt="" coords="51,201,80,245,101,270,124,292,132,297,129,302,121,296,97,273,76,248,46,204"/>
</map>
</div>

</div>
</div>
<a id="aba61e40ebb70470d2ce06126ce658c0a" name="aba61e40ebb70470d2ce06126ce658c0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba61e40ebb70470d2ce06126ce658c0a">&#9670;&#160;</a></span>TEST_F() <span class="overload">[9/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">OnlineStatisticsLargeDataset</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00118">118</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  118</span>                                                            {</div>
<div class="line"><span class="lineno">  119</span>    <a class="code hl_class" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html">online_statistics</a> stats;</div>
<div class="line"><span class="lineno">  120</span>    </div>
<div class="line"><span class="lineno">  121</span>    <span class="comment">// Generate a large dataset with known properties</span></div>
<div class="line"><span class="lineno">  122</span>    <span class="keyword">auto</span> samples = generate_normal_samples(10000, 100.0, 15.0);</div>
<div class="line"><span class="lineno">  123</span>    </div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">for</span> (<span class="keywordtype">double</span> sample : samples) {</div>
<div class="line"><span class="lineno">  125</span>        stats.<a class="code hl_function" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a82194409e4e712ccb2f60da2576c74cf">add_value</a>(sample);</div>
<div class="line"><span class="lineno">  126</span>    }</div>
<div class="line"><span class="lineno">  127</span>    </div>
<div class="line"><span class="lineno">  128</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">full_stats</a> = stats.<a class="code hl_function" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af747480f239c364c289c786d693fc68c">get_statistics</a>();</div>
<div class="line"><span class="lineno">  129</span>    </div>
<div class="line"><span class="lineno">  130</span>    <span class="comment">// Check that the statistics are close to the expected values</span></div>
<div class="line"><span class="lineno">  131</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_NEAR</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">full_stats</a>.mean, 100.0, 1.0);  <span class="comment">// Should be close to 100</span></div>
<div class="line"><span class="lineno">  132</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_NEAR</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">full_stats</a>.std_deviation, 15.0, 1.0);  <span class="comment">// Should be close to 15</span></div>
<div class="line"><span class="lineno">  133</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">full_stats</a>.count, 10000);</div>
<div class="line"><span class="lineno">  134</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d5e/test__stream__aggregation_8cpp_aba61e40ebb70470d2ce06126ce658c0a_cgraph.png" border="0" usemap="#adb/d5e/test__stream__aggregation_8cpp_aba61e40ebb70470d2ce06126ce658c0a_cgraph" alt=""/></div>
<map name="adb/d5e/test__stream__aggregation_8cpp_aba61e40ebb70470d2ce06126ce658c0a_cgraph" id="adb/d5e/test__stream__aggregation_8cpp_aba61e40ebb70470d2ce06126ce658c0a_cgraph">
<area shape="rect" title=" " alt="" coords="5,60,75,85"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a82194409e4e712ccb2f60da2576c74cf" title="Add a value to the statistics." alt="" coords="123,5,271,60"/>
<area shape="poly" title=" " alt="" coords="74,61,108,53,110,58,75,67"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af747480f239c364c289c786d693fc68c" title="Get full statistics." alt="" coords="123,84,271,139"/>
<area shape="poly" title=" " alt="" coords="75,78,110,87,108,92,74,84"/>
</map>
</div>

</div>
</div>
<a id="a7c56ebe352f17f0bd6b30c74c63d2e59" name="a7c56ebe352f17f0bd6b30c74c63d2e59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c56ebe352f17f0bd6b30c74c63d2e59">&#9670;&#160;</a></span>TEST_F() <span class="overload">[10/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">PearsonCorrelation</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00426">426</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  426</span>                                                  {</div>
<div class="line"><span class="lineno">  427</span>    <span class="comment">// Perfect positive correlation</span></div>
<div class="line"><span class="lineno">  428</span>    std::vector&lt;double&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">x1</a> = {1, 2, 3, 4, 5};</div>
<div class="line"><span class="lineno">  429</span>    std::vector&lt;double&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">y1</a> = {2, 4, 6, 8, 10};</div>
<div class="line"><span class="lineno">  430</span>    </div>
<div class="line"><span class="lineno">  431</span>    <span class="keywordtype">double</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">corr1</a> = <a class="code hl_function" href="../../db/d50/namespacekcenon_1_1monitoring.html#a1ad5190fe452215ae5942b6f1f73b9be">pearson_correlation</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">x1</a>, <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">y1</a>);</div>
<div class="line"><span class="lineno">  432</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_NEAR</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">corr1</a>, 1.0, 0.001);</div>
<div class="line"><span class="lineno">  433</span>    </div>
<div class="line"><span class="lineno">  434</span>    <span class="comment">// Perfect negative correlation</span></div>
<div class="line"><span class="lineno">  435</span>    std::vector&lt;double&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">x2</a> = {1, 2, 3, 4, 5};</div>
<div class="line"><span class="lineno">  436</span>    std::vector&lt;double&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">y2</a> = {5, 4, 3, 2, 1};</div>
<div class="line"><span class="lineno">  437</span>    </div>
<div class="line"><span class="lineno">  438</span>    <span class="keywordtype">double</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">corr2</a> = <a class="code hl_function" href="../../db/d50/namespacekcenon_1_1monitoring.html#a1ad5190fe452215ae5942b6f1f73b9be">pearson_correlation</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">x2</a>, <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">y2</a>);</div>
<div class="line"><span class="lineno">  439</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_NEAR</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">corr2</a>, -1.0, 0.001);</div>
<div class="line"><span class="lineno">  440</span>    </div>
<div class="line"><span class="lineno">  441</span>    <span class="comment">// No correlation</span></div>
<div class="line"><span class="lineno">  442</span>    std::vector&lt;double&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">x3</a> = {1, 2, 3, 4, 5};</div>
<div class="line"><span class="lineno">  443</span>    std::vector&lt;double&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">y3</a> = {3, 3, 3, 3, 3};  <span class="comment">// Constant</span></div>
<div class="line"><span class="lineno">  444</span>    </div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordtype">double</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">corr3</a> = <a class="code hl_function" href="../../db/d50/namespacekcenon_1_1monitoring.html#a1ad5190fe452215ae5942b6f1f73b9be">pearson_correlation</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">x3</a>, <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">y3</a>);</div>
<div class="line"><span class="lineno">  446</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_NEAR</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">corr3</a>, 0.0, 0.001);</div>
<div class="line"><span class="lineno">  447</span>    </div>
<div class="line"><span class="lineno">  448</span>    <span class="comment">// Different sizes (should return 0)</span></div>
<div class="line"><span class="lineno">  449</span>    std::vector&lt;double&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">x4</a> = {1, 2, 3};</div>
<div class="line"><span class="lineno">  450</span>    std::vector&lt;double&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">y4</a> = {1, 2, 3, 4, 5};</div>
<div class="line"><span class="lineno">  451</span>    </div>
<div class="line"><span class="lineno">  452</span>    <span class="keywordtype">double</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">corr4</a> = <a class="code hl_function" href="../../db/d50/namespacekcenon_1_1monitoring.html#a1ad5190fe452215ae5942b6f1f73b9be">pearson_correlation</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">x4</a>, <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">y4</a>);</div>
<div class="line"><span class="lineno">  453</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">corr4</a>, 0.0);</div>
<div class="line"><span class="lineno">  454</span>}</div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_a1ad5190fe452215ae5942b6f1f73b9be"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#a1ad5190fe452215ae5942b6f1f73b9be">kcenon::monitoring::pearson_correlation</a></div><div class="ttdeci">double pearson_correlation(const std::vector&lt; double &gt; &amp;x, const std::vector&lt; double &gt; &amp;y)</div><div class="ttdoc">Calculate Pearson correlation coefficient.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00685">stream_aggregator.h:685</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d5e/test__stream__aggregation_8cpp_a7c56ebe352f17f0bd6b30c74c63d2e59_cgraph.png" border="0" usemap="#adb/d5e/test__stream__aggregation_8cpp_a7c56ebe352f17f0bd6b30c74c63d2e59_cgraph" alt=""/></div>
<map name="adb/d5e/test__stream__aggregation_8cpp_a7c56ebe352f17f0bd6b30c74c63d2e59_cgraph" id="adb/d5e/test__stream__aggregation_8cpp_a7c56ebe352f17f0bd6b30c74c63d2e59_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,75,38"/>
<area shape="rect" href="../../db/d50/namespacekcenon_1_1monitoring.html#a1ad5190fe452215ae5942b6f1f73b9be" title="Calculate Pearson correlation coefficient." alt="" coords="123,5,281,45"/>
<area shape="poly" title=" " alt="" coords="75,23,108,23,108,28,75,28"/>
</map>
</div>

</div>
</div>
<a id="aa41c128a37e4b80eefc11e981672b57e" name="aa41c128a37e4b80eefc11e981672b57e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa41c128a37e4b80eefc11e981672b57e">&#9670;&#160;</a></span>TEST_F() <span class="overload">[11/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">QuantileEstimatorMedian</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00137">137</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  137</span>                                                       {</div>
<div class="line"><span class="lineno">  138</span>    <a class="code hl_class" href="../../dc/ded/classkcenon_1_1monitoring_1_1quantile__estimator.html">quantile_estimator</a> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">median_estimator</a>(0.5);</div>
<div class="line"><span class="lineno">  139</span>    </div>
<div class="line"><span class="lineno">  140</span>    <span class="comment">// Add values 1 through 100</span></div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> = 1; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> &lt;= 100; ++<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>) {</div>
<div class="line"><span class="lineno">  142</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">median_estimator</a>.add_observation(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>));</div>
<div class="line"><span class="lineno">  143</span>    }</div>
<div class="line"><span class="lineno">  144</span>    </div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordtype">double</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">estimated_median</a> = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">median_estimator</a>.get_quantile();</div>
<div class="line"><span class="lineno">  146</span>    </div>
<div class="line"><span class="lineno">  147</span>    <span class="comment">// For 1-100, median should be around 50.5</span></div>
<div class="line"><span class="lineno">  148</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_NEAR</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">estimated_median</a>, 50.5, 5.0);  <span class="comment">// Allow some tolerance for P algorithm</span></div>
<div class="line"><span class="lineno">  149</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1quantile__estimator_html"><div class="ttname"><a href="../../dc/ded/classkcenon_1_1monitoring_1_1quantile__estimator.html">kcenon::monitoring::quantile_estimator</a></div><div class="ttdoc">P algorithm for streaming quantile estimation.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00218">stream_aggregator.h:218</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a34a4dde1c5b7544f0df993f47b8d068d" name="a34a4dde1c5b7544f0df993f47b8d068d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a4dde1c5b7544f0df993f47b8d068d">&#9670;&#160;</a></span>TEST_F() <span class="overload">[12/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">QuantileEstimatorPercentiles</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00151">151</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  151</span>                                                            {</div>
<div class="line"><span class="lineno">  152</span>    <a class="code hl_class" href="../../dc/ded/classkcenon_1_1monitoring_1_1quantile__estimator.html">quantile_estimator</a> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">p95_estimator</a>(0.95);</div>
<div class="line"><span class="lineno">  153</span>    </div>
<div class="line"><span class="lineno">  154</span>    <span class="comment">// Add uniform samples 0-100</span></div>
<div class="line"><span class="lineno">  155</span>    <span class="keyword">auto</span> samples = generate_uniform_samples(1000, 0.0, 100.0);</div>
<div class="line"><span class="lineno">  156</span>    </div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">for</span> (<span class="keywordtype">double</span> sample : samples) {</div>
<div class="line"><span class="lineno">  158</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">p95_estimator</a>.add_observation(sample);</div>
<div class="line"><span class="lineno">  159</span>    }</div>
<div class="line"><span class="lineno">  160</span>    </div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordtype">double</span> p95 = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">p95_estimator</a>.get_quantile();</div>
<div class="line"><span class="lineno">  162</span>    </div>
<div class="line"><span class="lineno">  163</span>    <span class="comment">// 95th percentile should be around 95</span></div>
<div class="line"><span class="lineno">  164</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_NEAR</a>(p95, 95.0, 10.0);  <span class="comment">// P algorithm has some approximation error</span></div>
<div class="line"><span class="lineno">  165</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3bf4cc5bbb44a244bbbda1f0614cefb6" name="a3bf4cc5bbb44a244bbbda1f0614cefb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bf4cc5bbb44a244bbbda1f0614cefb6">&#9670;&#160;</a></span>TEST_F() <span class="overload">[13/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">StandardAggregationRules</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00456">456</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  456</span>                                                        {</div>
<div class="line"><span class="lineno">  457</span>    <span class="keyword">auto</span> rules = <a class="code hl_function" href="../../db/d50/namespacekcenon_1_1monitoring.html#abb89da990039386ef627a76a64cf6abe">create_standard_aggregation_rules</a>();</div>
<div class="line"><span class="lineno">  458</span>    </div>
<div class="line"><span class="lineno">  459</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_GT</a>(rules.size(), 0);</div>
<div class="line"><span class="lineno">  460</span>    </div>
<div class="line"><span class="lineno">  461</span>    <span class="comment">// Validate all rules</span></div>
<div class="line"><span class="lineno">  462</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; rule : rules) {</div>
<div class="line"><span class="lineno">  463</span>        <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">validation</a> = rule.validate();</div>
<div class="line"><span class="lineno">  464</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">validation</a>.is_ok()) &lt;&lt; <span class="stringliteral">&quot;Rule validation failed for: &quot;</span> &lt;&lt; rule.source_metric;</div>
<div class="line"><span class="lineno">  465</span>    }</div>
<div class="line"><span class="lineno">  466</span>    </div>
<div class="line"><span class="lineno">  467</span>    <span class="comment">// Check that standard metrics are included</span></div>
<div class="line"><span class="lineno">  468</span>    std::vector&lt;std::string&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">expected_metrics</a> = {<span class="stringliteral">&quot;response_time&quot;</span>, <span class="stringliteral">&quot;request_count&quot;</span>, <span class="stringliteral">&quot;error_count&quot;</span>};</div>
<div class="line"><span class="lineno">  469</span>    </div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">expected</a> : <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">expected_metrics</a>) {</div>
<div class="line"><span class="lineno">  471</span>        <span class="keywordtype">bool</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">found</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  472</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; rule : rules) {</div>
<div class="line"><span class="lineno">  473</span>            <span class="keywordflow">if</span> (rule.source_metric == <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">expected</a>) {</div>
<div class="line"><span class="lineno">  474</span>                <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">found</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  475</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  476</span>            }</div>
<div class="line"><span class="lineno">  477</span>        }</div>
<div class="line"><span class="lineno">  478</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">found</a>) &lt;&lt; <span class="stringliteral">&quot;Expected metric not found: &quot;</span> &lt;&lt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">expected</a>;</div>
<div class="line"><span class="lineno">  479</span>    }</div>
<div class="line"><span class="lineno">  480</span>}</div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_abb89da990039386ef627a76a64cf6abe"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#abb89da990039386ef627a76a64cf6abe">kcenon::monitoring::create_standard_aggregation_rules</a></div><div class="ttdeci">std::vector&lt; aggregation_rule &gt; create_standard_aggregation_rules()</div><div class="ttdoc">Create standard aggregation rules for common metrics.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/db7/aggregation__processor_8h_source.html#l00333">aggregation_processor.h:333</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d5e/test__stream__aggregation_8cpp_a3bf4cc5bbb44a244bbbda1f0614cefb6_cgraph.png" border="0" usemap="#adb/d5e/test__stream__aggregation_8cpp_a3bf4cc5bbb44a244bbbda1f0614cefb6_cgraph" alt=""/></div>
<map name="adb/d5e/test__stream__aggregation_8cpp_a3bf4cc5bbb44a244bbbda1f0614cefb6_cgraph" id="adb/d5e/test__stream__aggregation_8cpp_a3bf4cc5bbb44a244bbbda1f0614cefb6_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,75,38"/>
<area shape="rect" href="../../db/d50/namespacekcenon_1_1monitoring.html#abb89da990039386ef627a76a64cf6abe" title="Create standard aggregation rules for common metrics." alt="" coords="123,5,381,45"/>
<area shape="poly" title=" " alt="" coords="75,23,109,23,109,28,75,28"/>
</map>
</div>

</div>
</div>
<a id="aba0eacefc5906f9f45a5ba8f527ad9a5" name="aba0eacefc5906f9f45a5ba8f527ad9a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba0eacefc5906f9f45a5ba8f527ad9a5">&#9670;&#160;</a></span>TEST_F() <span class="overload">[14/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">StreamAggregatorBasic</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00214">214</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  214</span>                                                     {</div>
<div class="line"><span class="lineno">  215</span>    <a class="code hl_struct" href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html">stream_aggregator_config</a> config;</div>
<div class="line"><span class="lineno">  216</span>    config.<a class="code hl_variable" href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html#a0e2d1931ecaf34655ce7a8e298d5500c">window_size</a> = 1000;</div>
<div class="line"><span class="lineno">  217</span>    config.<a class="code hl_variable" href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html#ae4def0cfe34c4c33f87cff3ec64a82e5">enable_outlier_detection</a> = <span class="keyword">false</span>;  <span class="comment">// Disable for predictable testing</span></div>
<div class="line"><span class="lineno">  218</span>    </div>
<div class="line"><span class="lineno">  219</span>    <a class="code hl_class" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html">stream_aggregator</a> aggregator(config);</div>
<div class="line"><span class="lineno">  220</span>    </div>
<div class="line"><span class="lineno">  221</span>    <span class="comment">// Add observations</span></div>
<div class="line"><span class="lineno">  222</span>    std::vector&lt;double&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">values</a> = {1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0, 10.0};</div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">for</span> (<span class="keywordtype">double</span> value : <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">values</a>) {</div>
<div class="line"><span class="lineno">  224</span>        <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result</a> = aggregator.add_observation(value);</div>
<div class="line"><span class="lineno">  225</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">result</a>.is_ok());</div>
<div class="line"><span class="lineno">  226</span>    }</div>
<div class="line"><span class="lineno">  227</span>    </div>
<div class="line"><span class="lineno">  228</span>    <span class="keyword">auto</span> stats = aggregator.get_statistics();</div>
<div class="line"><span class="lineno">  229</span>    </div>
<div class="line"><span class="lineno">  230</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(stats.count, 10);</div>
<div class="line"><span class="lineno">  231</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_DOUBLE_EQ</a>(stats.mean, 5.5);</div>
<div class="line"><span class="lineno">  232</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_DOUBLE_EQ</a>(stats.min_value, 1.0);</div>
<div class="line"><span class="lineno">  233</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_DOUBLE_EQ</a>(stats.max_value, 10.0);</div>
<div class="line"><span class="lineno">  234</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_GT</a>(stats.std_deviation, 0.0);</div>
<div class="line"><span class="lineno">  235</span>    </div>
<div class="line"><span class="lineno">  236</span>    <span class="comment">// Check percentiles</span></div>
<div class="line"><span class="lineno">  237</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_GT</a>(stats.percentiles.size(), 0);</div>
<div class="line"><span class="lineno">  238</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1stream__aggregator_html"><div class="ttname"><a href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html">kcenon::monitoring::stream_aggregator</a></div><div class="ttdoc">Full-featured streaming aggregation.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00548">stream_aggregator.h:548</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1stream__aggregator__config_html_ae4def0cfe34c4c33f87cff3ec64a82e5"><div class="ttname"><a href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html#ae4def0cfe34c4c33f87cff3ec64a82e5">kcenon::monitoring::stream_aggregator_config::enable_outlier_detection</a></div><div class="ttdeci">bool enable_outlier_detection</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00517">stream_aggregator.h:517</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d5e/test__stream__aggregation_8cpp_aba0eacefc5906f9f45a5ba8f527ad9a5_cgraph.png" border="0" usemap="#adb/d5e/test__stream__aggregation_8cpp_aba0eacefc5906f9f45a5ba8f527ad9a5_cgraph" alt=""/></div>
<map name="adb/d5e/test__stream__aggregation_8cpp_aba0eacefc5906f9f45a5ba8f527ad9a5_cgraph" id="adb/d5e/test__stream__aggregation_8cpp_aba0eacefc5906f9f45a5ba8f527ad9a5_cgraph">
<area shape="rect" title=" " alt="" coords="5,279,75,304"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#aab112b451840cf6a67935ebdb7c1c803" title="Add an observation." alt="" coords="123,188,277,243"/>
<area shape="poly" title=" " alt="" coords="67,276,128,246,131,251,69,281"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#a6040464852941cdad84d6d4dd13eb7a5" title="Get full statistics." alt="" coords="123,303,277,357"/>
<area shape="poly" title=" " alt="" coords="75,297,110,306,109,311,74,302"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a82194409e4e712ccb2f60da2576c74cf" title="Add a value to the statistics." alt="" coords="342,5,490,60"/>
<area shape="poly" title=" " alt="" coords="217,186,262,128,291,97,324,69,330,65,333,70,327,73,295,101,266,132,222,189"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af8777b1253df450eb2cf4b8ee3a43fae" title="Get sample count." alt="" coords="342,84,490,139"/>
<area shape="poly" title=" " alt="" coords="252,186,324,149,339,142,341,147,327,154,254,190"/>
<area shape="rect" href="../../db/d50/namespacekcenon_1_1monitoring.html#a5831822659b3edfa93f8cc4b75357478" title="Helper function to create successful VoidResult." alt="" coords="337,163,495,203"/>
<area shape="poly" title=" " alt="" coords="277,201,323,194,324,200,278,207"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af58b9b80277dae07ac8b964c75fd6124" title="Get running mean." alt="" coords="325,227,507,267"/>
<area shape="poly" title=" " alt="" coords="278,224,312,229,311,235,277,229"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a96b3000d209fca8bf2718c8cca30d410" title="Get running standard deviation." alt="" coords="342,292,490,347"/>
<area shape="poly" title=" " alt="" coords="254,240,327,277,341,284,339,289,324,282,252,245"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a3df0289eb787ad8866a8ce611d440b3e" title="Get running variance (sample variance)" alt="" coords="555,292,703,347"/>
<area shape="poly" title=" " alt="" coords="490,317,541,317,541,322,490,322"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af747480f239c364c289c786d693fc68c" title="Get full statistics." alt="" coords="342,371,490,425"/>
<area shape="poly" title=" " alt="" coords="279,352,330,368,328,373,277,357"/>
</map>
</div>

</div>
</div>
<a id="a8c859001554622a134ec0a6430225f6b" name="a8c859001554622a134ec0a6430225f6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c859001554622a134ec0a6430225f6b">&#9670;&#160;</a></span>TEST_F() <span class="overload">[15/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">StreamAggregatorOutlierDetection</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00263">263</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  263</span>                                                                {</div>
<div class="line"><span class="lineno">  264</span>    <a class="code hl_struct" href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html">stream_aggregator_config</a> config;</div>
<div class="line"><span class="lineno">  265</span>    config.<a class="code hl_variable" href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html#ae4def0cfe34c4c33f87cff3ec64a82e5">enable_outlier_detection</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  266</span>    config.<a class="code hl_variable" href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html#a39ce9a7e8d372ebfdf19666407f214ee">outlier_threshold</a> = 2.0;  <span class="comment">// 2 standard deviations</span></div>
<div class="line"><span class="lineno">  267</span>    </div>
<div class="line"><span class="lineno">  268</span>    <a class="code hl_class" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html">stream_aggregator</a> aggregator(config);</div>
<div class="line"><span class="lineno">  269</span>    </div>
<div class="line"><span class="lineno">  270</span>    <span class="comment">// Add normal values around 50</span></div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> = 45; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> &lt;= 55; ++<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>) {</div>
<div class="line"><span class="lineno">  272</span>        aggregator.add_observation(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>));</div>
<div class="line"><span class="lineno">  273</span>    }</div>
<div class="line"><span class="lineno">  274</span>    </div>
<div class="line"><span class="lineno">  275</span>    <span class="comment">// Add outliers</span></div>
<div class="line"><span class="lineno">  276</span>    aggregator.add_observation(100.0);  <span class="comment">// Should be detected as outlier</span></div>
<div class="line"><span class="lineno">  277</span>    aggregator.add_observation(0.0);    <span class="comment">// Should be detected as outlier</span></div>
<div class="line"><span class="lineno">  278</span>    </div>
<div class="line"><span class="lineno">  279</span>    <span class="keyword">auto</span> stats = aggregator.get_statistics();</div>
<div class="line"><span class="lineno">  280</span>    </div>
<div class="line"><span class="lineno">  281</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_GT</a>(stats.outlier_count, 0);</div>
<div class="line"><span class="lineno">  282</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_GT</a>(stats.outliers.size(), 0);</div>
<div class="line"><span class="lineno">  283</span>}</div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1stream__aggregator__config_html_a39ce9a7e8d372ebfdf19666407f214ee"><div class="ttname"><a href="../../dd/d14/structkcenon_1_1monitoring_1_1stream__aggregator__config.html#a39ce9a7e8d372ebfdf19666407f214ee">kcenon::monitoring::stream_aggregator_config::outlier_threshold</a></div><div class="ttdeci">double outlier_threshold</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00518">stream_aggregator.h:518</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d5e/test__stream__aggregation_8cpp_a8c859001554622a134ec0a6430225f6b_cgraph.png" border="0" usemap="#adb/d5e/test__stream__aggregation_8cpp_a8c859001554622a134ec0a6430225f6b_cgraph" alt=""/></div>
<map name="adb/d5e/test__stream__aggregation_8cpp_a8c859001554622a134ec0a6430225f6b_cgraph" id="adb/d5e/test__stream__aggregation_8cpp_a8c859001554622a134ec0a6430225f6b_cgraph">
<area shape="rect" title=" " alt="" coords="5,279,75,304"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#aab112b451840cf6a67935ebdb7c1c803" title="Add an observation." alt="" coords="123,188,277,243"/>
<area shape="poly" title=" " alt="" coords="67,276,128,246,131,251,69,281"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#a6040464852941cdad84d6d4dd13eb7a5" title="Get full statistics." alt="" coords="123,303,277,357"/>
<area shape="poly" title=" " alt="" coords="75,297,110,306,109,311,74,302"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a82194409e4e712ccb2f60da2576c74cf" title="Add a value to the statistics." alt="" coords="342,5,490,60"/>
<area shape="poly" title=" " alt="" coords="217,186,262,128,291,97,324,69,330,65,333,70,327,73,295,101,266,132,222,189"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af8777b1253df450eb2cf4b8ee3a43fae" title="Get sample count." alt="" coords="342,84,490,139"/>
<area shape="poly" title=" " alt="" coords="252,186,324,149,339,142,341,147,327,154,254,190"/>
<area shape="rect" href="../../db/d50/namespacekcenon_1_1monitoring.html#a5831822659b3edfa93f8cc4b75357478" title="Helper function to create successful VoidResult." alt="" coords="337,163,495,203"/>
<area shape="poly" title=" " alt="" coords="277,201,323,194,324,200,278,207"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af58b9b80277dae07ac8b964c75fd6124" title="Get running mean." alt="" coords="325,227,507,267"/>
<area shape="poly" title=" " alt="" coords="278,224,312,229,311,235,277,229"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a96b3000d209fca8bf2718c8cca30d410" title="Get running standard deviation." alt="" coords="342,292,490,347"/>
<area shape="poly" title=" " alt="" coords="254,240,327,277,341,284,339,289,324,282,252,245"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a3df0289eb787ad8866a8ce611d440b3e" title="Get running variance (sample variance)" alt="" coords="555,292,703,347"/>
<area shape="poly" title=" " alt="" coords="490,317,541,317,541,322,490,322"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af747480f239c364c289c786d693fc68c" title="Get full statistics." alt="" coords="342,371,490,425"/>
<area shape="poly" title=" " alt="" coords="279,352,330,368,328,373,277,357"/>
</map>
</div>

</div>
</div>
<a id="a4bfa763734f0e58fd6d0da7ac718425b" name="a4bfa763734f0e58fd6d0da7ac718425b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bfa763734f0e58fd6d0da7ac718425b">&#9670;&#160;</a></span>TEST_F() <span class="overload">[16/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">StreamAggregatorPercentiles</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00240">240</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  240</span>                                                           {</div>
<div class="line"><span class="lineno">  241</span>    <a class="code hl_class" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html">stream_aggregator</a> aggregator;</div>
<div class="line"><span class="lineno">  242</span>    </div>
<div class="line"><span class="lineno">  243</span>    <span class="comment">// Add 100 values from 1 to 100</span></div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> = 1; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> &lt;= 100; ++<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>) {</div>
<div class="line"><span class="lineno">  245</span>        aggregator.<a class="code hl_function" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#aab112b451840cf6a67935ebdb7c1c803">add_observation</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>));</div>
<div class="line"><span class="lineno">  246</span>    }</div>
<div class="line"><span class="lineno">  247</span>    </div>
<div class="line"><span class="lineno">  248</span>    <span class="comment">// Get specific percentiles</span></div>
<div class="line"><span class="lineno">  249</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">p50_result</a> = aggregator.<a class="code hl_function" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#acbef0fc63bdd810be1c7521cb4ac74c2">get_percentile</a>(0.5);</div>
<div class="line"><span class="lineno">  250</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">p95_result</a> = aggregator.<a class="code hl_function" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#acbef0fc63bdd810be1c7521cb4ac74c2">get_percentile</a>(0.95);</div>
<div class="line"><span class="lineno">  251</span>    <span class="keyword">auto</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">p99_result</a> = aggregator.<a class="code hl_function" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#acbef0fc63bdd810be1c7521cb4ac74c2">get_percentile</a>(0.99);</div>
<div class="line"><span class="lineno">  252</span>    </div>
<div class="line"><span class="lineno">  253</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">p50_result</a>);</div>
<div class="line"><span class="lineno">  254</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">p95_result</a>);</div>
<div class="line"><span class="lineno">  255</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_TRUE</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">p99_result</a>);</div>
<div class="line"><span class="lineno">  256</span>    </div>
<div class="line"><span class="lineno">  257</span>    <span class="comment">// Check approximate values</span></div>
<div class="line"><span class="lineno">  258</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_NEAR</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">p50_result</a>.value(), 50.0, 10.0);</div>
<div class="line"><span class="lineno">  259</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_NEAR</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">p95_result</a>.value(), 95.0, 10.0);</div>
<div class="line"><span class="lineno">  260</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_NEAR</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">p99_result</a>.value(), 99.0, 10.0);</div>
<div class="line"><span class="lineno">  261</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1stream__aggregator_html_aab112b451840cf6a67935ebdb7c1c803"><div class="ttname"><a href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#aab112b451840cf6a67935ebdb7c1c803">kcenon::monitoring::stream_aggregator::add_observation</a></div><div class="ttdeci">result_void add_observation(double value)</div><div class="ttdoc">Add an observation.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00572">stream_aggregator.h:572</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1stream__aggregator_html_acbef0fc63bdd810be1c7521cb4ac74c2"><div class="ttname"><a href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#acbef0fc63bdd810be1c7521cb4ac74c2">kcenon::monitoring::stream_aggregator::get_percentile</a></div><div class="ttdeci">std::optional&lt; double &gt; get_percentile(double p) const</div><div class="ttdoc">Get specific percentile.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00620">stream_aggregator.h:620</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d5e/test__stream__aggregation_8cpp_a4bfa763734f0e58fd6d0da7ac718425b_cgraph.png" border="0" usemap="#adb/d5e/test__stream__aggregation_8cpp_a4bfa763734f0e58fd6d0da7ac718425b_cgraph" alt=""/></div>
<map name="adb/d5e/test__stream__aggregation_8cpp_a4bfa763734f0e58fd6d0da7ac718425b_cgraph" id="adb/d5e/test__stream__aggregation_8cpp_a4bfa763734f0e58fd6d0da7ac718425b_cgraph">
<area shape="rect" title=" " alt="" coords="5,211,75,236"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#aab112b451840cf6a67935ebdb7c1c803" title="Add an observation." alt="" coords="123,156,277,211"/>
<area shape="poly" title=" " alt="" coords="74,212,109,203,110,209,75,217"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#acbef0fc63bdd810be1c7521cb4ac74c2" title="Get specific percentile." alt="" coords="123,235,277,289"/>
<area shape="poly" title=" " alt="" coords="75,229,110,238,109,243,74,234"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a82194409e4e712ccb2f60da2576c74cf" title="Add a value to the statistics." alt="" coords="342,5,490,60"/>
<area shape="poly" title=" " alt="" coords="225,154,269,111,324,69,332,64,335,69,327,74,273,115,229,158"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af8777b1253df450eb2cf4b8ee3a43fae" title="Get sample count." alt="" coords="342,84,490,139"/>
<area shape="poly" title=" " alt="" coords="277,155,328,138,330,143,279,160"/>
<area shape="rect" href="../../db/d50/namespacekcenon_1_1monitoring.html#a5831822659b3edfa93f8cc4b75357478" title="Helper function to create successful VoidResult." alt="" coords="337,163,495,203"/>
<area shape="poly" title=" " alt="" coords="278,181,323,181,323,186,278,186"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af58b9b80277dae07ac8b964c75fd6124" title="Get running mean." alt="" coords="325,227,507,267"/>
<area shape="poly" title=" " alt="" coords="279,204,336,221,334,226,277,209"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a96b3000d209fca8bf2718c8cca30d410" title="Get running standard deviation." alt="" coords="342,292,490,347"/>
<area shape="poly" title=" " alt="" coords="263,209,279,220,294,235,303,249,312,263,327,277,334,282,331,287,324,281,308,267,299,252,290,239,276,224,260,213"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a3df0289eb787ad8866a8ce611d440b3e" title="Get running variance (sample variance)" alt="" coords="555,292,703,347"/>
<area shape="poly" title=" " alt="" coords="490,317,541,317,541,322,490,322"/>
</map>
</div>

</div>
</div>
<a id="aa3f1c151b222afe1e4a5d28878eff971" name="aa3f1c151b222afe1e4a5d28878eff971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3f1c151b222afe1e4a5d28878eff971">&#9670;&#160;</a></span>TEST_F() <span class="overload">[17/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">StreamAggregatorReset</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00285">285</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  285</span>                                                     {</div>
<div class="line"><span class="lineno">  286</span>    <a class="code hl_class" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html">stream_aggregator</a> aggregator;</div>
<div class="line"><span class="lineno">  287</span>    </div>
<div class="line"><span class="lineno">  288</span>    <span class="comment">// Add some observations</span></div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> = 1; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> &lt;= 10; ++<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>) {</div>
<div class="line"><span class="lineno">  290</span>        aggregator.<a class="code hl_function" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#aab112b451840cf6a67935ebdb7c1c803">add_observation</a>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>));</div>
<div class="line"><span class="lineno">  291</span>    }</div>
<div class="line"><span class="lineno">  292</span>    </div>
<div class="line"><span class="lineno">  293</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(aggregator.<a class="code hl_function" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#ae62ec6819e64b884c7760c0049d5747b">count</a>(), 10);</div>
<div class="line"><span class="lineno">  294</span>    </div>
<div class="line"><span class="lineno">  295</span>    <span class="comment">// Reset</span></div>
<div class="line"><span class="lineno">  296</span>    aggregator.<a class="code hl_function" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#ae14b5244b5610e4c7dd3308ad4a27886">reset</a>();</div>
<div class="line"><span class="lineno">  297</span>    </div>
<div class="line"><span class="lineno">  298</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(aggregator.<a class="code hl_function" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#ae62ec6819e64b884c7760c0049d5747b">count</a>(), 0);</div>
<div class="line"><span class="lineno">  299</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(aggregator.<a class="code hl_function" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#a15eb9d03bc572c748fb551d9c307fec9">mean</a>(), 0.0);</div>
<div class="line"><span class="lineno">  300</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(aggregator.<a class="code hl_function" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#ab3e18ed7c0bc4a17130e91048a99c6a6">variance</a>(), 0.0);</div>
<div class="line"><span class="lineno">  301</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1stream__aggregator_html_a15eb9d03bc572c748fb551d9c307fec9"><div class="ttname"><a href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#a15eb9d03bc572c748fb551d9c307fec9">kcenon::monitoring::stream_aggregator::mean</a></div><div class="ttdeci">double mean() const</div><div class="ttdoc">Get mean.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00639">stream_aggregator.h:639</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1stream__aggregator_html_ab3e18ed7c0bc4a17130e91048a99c6a6"><div class="ttname"><a href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#ab3e18ed7c0bc4a17130e91048a99c6a6">kcenon::monitoring::stream_aggregator::variance</a></div><div class="ttdeci">double variance() const</div><div class="ttdoc">Get variance.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00646">stream_aggregator.h:646</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1stream__aggregator_html_ae14b5244b5610e4c7dd3308ad4a27886"><div class="ttname"><a href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#ae14b5244b5610e4c7dd3308ad4a27886">kcenon::monitoring::stream_aggregator::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Reset the aggregator.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00660">stream_aggregator.h:660</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1stream__aggregator_html_ae62ec6819e64b884c7760c0049d5747b"><div class="ttname"><a href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#ae62ec6819e64b884c7760c0049d5747b">kcenon::monitoring::stream_aggregator::count</a></div><div class="ttdeci">size_t count() const</div><div class="ttdoc">Get observation count.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00632">stream_aggregator.h:632</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d5e/test__stream__aggregation_8cpp_aa3f1c151b222afe1e4a5d28878eff971_cgraph.png" border="0" usemap="#adb/d5e/test__stream__aggregation_8cpp_aa3f1c151b222afe1e4a5d28878eff971_cgraph" alt=""/></div>
<map name="adb/d5e/test__stream__aggregation_8cpp_aa3f1c151b222afe1e4a5d28878eff971_cgraph" id="adb/d5e/test__stream__aggregation_8cpp_aa3f1c151b222afe1e4a5d28878eff971_cgraph">
<area shape="rect" title=" " alt="" coords="5,301,75,327"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#aab112b451840cf6a67935ebdb7c1c803" title="Add an observation." alt="" coords="145,185,299,240"/>
<area shape="poly" title=" " alt="" coords="63,299,159,244,162,249,65,303"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#ae62ec6819e64b884c7760c0049d5747b" title="Get observation count." alt="" coords="145,56,299,111"/>
<area shape="poly" title=" " alt="" coords="45,300,74,242,96,206,121,171,173,118,177,122,125,174,100,209,79,245,49,302"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#a15eb9d03bc572c748fb551d9c307fec9" title="Get mean." alt="" coords="123,294,321,334"/>
<area shape="poly" title=" " alt="" coords="75,311,109,311,109,317,75,317"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#ae14b5244b5610e4c7dd3308ad4a27886" title="Reset the aggregator." alt="" coords="145,359,299,413"/>
<area shape="poly" title=" " alt="" coords="74,324,141,351,139,356,72,329"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#ab3e18ed7c0bc4a17130e91048a99c6a6" title="Get variance." alt="" coords="145,437,299,492"/>
<area shape="poly" title=" " alt="" coords="50,325,78,372,100,399,124,423,134,430,131,434,121,427,96,403,74,375,45,328"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a82194409e4e712ccb2f60da2576c74cf" title="Add a value to the statistics." alt="" coords="386,84,534,139"/>
<area shape="poly" title=" " alt="" coords="286,183,381,142,384,147,288,188"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af8777b1253df450eb2cf4b8ee3a43fae" title="Get sample count." alt="" coords="386,5,534,60"/>
<area shape="poly" title=" " alt="" coords="252,183,319,120,342,93,368,69,375,65,378,69,371,73,346,97,323,124,256,187"/>
<area shape="rect" href="../../db/d50/namespacekcenon_1_1monitoring.html#a5831822659b3edfa93f8cc4b75357478" title="Helper function to create successful VoidResult." alt="" coords="381,163,539,203"/>
<area shape="poly" title=" " alt="" coords="299,200,367,192,367,197,300,206"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af58b9b80277dae07ac8b964c75fd6124" title="Get running mean." alt="" coords="369,307,551,347"/>
<area shape="poly" title=" " alt="" coords="270,238,370,292,389,300,387,305,368,296,267,242"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a96b3000d209fca8bf2718c8cca30d410" title="Get running standard deviation." alt="" coords="386,228,534,283"/>
<area shape="poly" title=" " alt="" coords="300,224,373,237,372,242,299,229"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a3df0289eb787ad8866a8ce611d440b3e" title="Get running variance (sample variance)" alt="" coords="599,333,747,388"/>
<area shape="poly" title=" " alt="" coords="525,280,552,293,612,324,609,329,549,298,523,285"/>
<area shape="poly" title=" " alt="" coords="299,64,372,49,373,54,300,69"/>
<area shape="poly" title=" " alt="" coords="322,317,356,319,355,324,321,322"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#afe0865f111e37ebcfe1654aeccb36fa9" title="Reset statistics." alt="" coords="386,372,534,427"/>
<area shape="poly" title=" " alt="" coords="300,388,372,392,372,397,300,393"/>
<area shape="poly" title=" " alt="" coords="300,466,356,466,419,462,486,452,550,435,590,417,626,394,629,398,592,422,552,441,487,457,420,467,356,471,300,471"/>
</map>
</div>

</div>
</div>
<a id="a655d41a2c943c855a7b07d0be4158469" name="a655d41a2c943c855a7b07d0be4158469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a655d41a2c943c855a7b07d0be4158469">&#9670;&#160;</a></span>TEST_F() <span class="overload">[18/18]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d8e/classStreamAggregationTest.html">StreamAggregationTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">StreamAggregatorThreadSafety</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html#l00509">509</a> of file <a class="el" href="../../db/d5e/test__stream__aggregation_8cpp_source.html">test_stream_aggregation.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  509</span>                                                            {</div>
<div class="line"><span class="lineno">  510</span>    <a class="code hl_class" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html">stream_aggregator</a> aggregator;</div>
<div class="line"><span class="lineno">  511</span>    </div>
<div class="line"><span class="lineno">  512</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">num_threads</a> = 4;</div>
<div class="line"><span class="lineno">  513</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">observations_per_thread</a> = 1000;</div>
<div class="line"><span class="lineno">  514</span>    std::vector&lt;std::thread&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">threads</a>;</div>
<div class="line"><span class="lineno">  515</span>    </div>
<div class="line"><span class="lineno">  516</span>    <span class="comment">// Launch multiple threads adding observations</span></div>
<div class="line"><span class="lineno">  517</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">t</a> = 0; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">t</a> &lt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">num_threads</a>; ++<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">t</a>) {</div>
<div class="line"><span class="lineno">  518</span>        <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">threads</a>.emplace_back([&amp;aggregator, <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">t</a>, <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">observations_per_thread</a>]() {</div>
<div class="line"><span class="lineno">  519</span>            std::random_device <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">rd</a>;</div>
<div class="line"><span class="lineno">  520</span>            std::mt19937 <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">gen</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">rd</a>());</div>
<div class="line"><span class="lineno">  521</span>            std::uniform_real_distribution&lt;&gt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">dis</a>(0.0, 100.0);</div>
<div class="line"><span class="lineno">  522</span>            </div>
<div class="line"><span class="lineno">  523</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> = 0; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a> &lt; <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">observations_per_thread</a>; ++<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">i</a>) {</div>
<div class="line"><span class="lineno">  524</span>                <span class="keywordtype">double</span> value = <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">dis</a>(<a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">gen</a>);</div>
<div class="line"><span class="lineno">  525</span>                aggregator.<a class="code hl_function" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#aab112b451840cf6a67935ebdb7c1c803">add_observation</a>(value);</div>
<div class="line"><span class="lineno">  526</span>                </div>
<div class="line"><span class="lineno">  527</span>                <span class="comment">// Small delay to increase chance of contention</span></div>
<div class="line"><span class="lineno">  528</span>                std::this_thread::sleep_for(std::chrono::microseconds(1));</div>
<div class="line"><span class="lineno">  529</span>            }</div>
<div class="line"><span class="lineno">  530</span>        });</div>
<div class="line"><span class="lineno">  531</span>    }</div>
<div class="line"><span class="lineno">  532</span>    </div>
<div class="line"><span class="lineno">  533</span>    <span class="comment">// Wait for all threads to complete</span></div>
<div class="line"><span class="lineno">  534</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; thread : <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">threads</a>) {</div>
<div class="line"><span class="lineno">  535</span>        thread.join();</div>
<div class="line"><span class="lineno">  536</span>    }</div>
<div class="line"><span class="lineno">  537</span>    </div>
<div class="line"><span class="lineno">  538</span>    <span class="comment">// Verify we processed all observations</span></div>
<div class="line"><span class="lineno">  539</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_EQ</a>(aggregator.<a class="code hl_function" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#ae62ec6819e64b884c7760c0049d5747b">count</a>(), <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">num_threads</a> * <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">observations_per_thread</a>);</div>
<div class="line"><span class="lineno">  540</span>    </div>
<div class="line"><span class="lineno">  541</span>    <span class="keyword">auto</span> stats = aggregator.<a class="code hl_function" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#a6040464852941cdad84d6d4dd13eb7a5">get_statistics</a>();</div>
<div class="line"><span class="lineno">  542</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_GT</a>(stats.mean, 0.0);</div>
<div class="line"><span class="lineno">  543</span>    <a class="code hl_typedef" href="../../db/d50/namespacekcenon_1_1monitoring.html#aa50eefd048f6e0abb82f1ec84a421dd0">EXPECT_GT</a>(stats.std_deviation, 0.0);</div>
<div class="line"><span class="lineno">  544</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1stream__aggregator_html_a6040464852941cdad84d6d4dd13eb7a5"><div class="ttname"><a href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#a6040464852941cdad84d6d4dd13eb7a5">kcenon::monitoring::stream_aggregator::get_statistics</a></div><div class="ttdeci">streaming_statistics get_statistics() const</div><div class="ttdoc">Get full statistics.</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d7b/stream__aggregator_8h_source.html#l00601">stream_aggregator.h:601</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d5e/test__stream__aggregation_8cpp_a655d41a2c943c855a7b07d0be4158469_cgraph.png" border="0" usemap="#adb/d5e/test__stream__aggregation_8cpp_a655d41a2c943c855a7b07d0be4158469_cgraph" alt=""/></div>
<map name="adb/d5e/test__stream__aggregation_8cpp_a655d41a2c943c855a7b07d0be4158469_cgraph" id="adb/d5e/test__stream__aggregation_8cpp_a655d41a2c943c855a7b07d0be4158469_cgraph">
<area shape="rect" title=" " alt="" coords="5,171,75,196"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#aab112b451840cf6a67935ebdb7c1c803" title="Add an observation." alt="" coords="123,156,277,211"/>
<area shape="poly" title=" " alt="" coords="75,181,109,181,109,186,75,186"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#ae62ec6819e64b884c7760c0049d5747b" title="Get observation count." alt="" coords="123,41,277,96"/>
<area shape="poly" title=" " alt="" coords="57,168,148,102,151,106,60,173"/>
<area shape="rect" href="../../d3/d10/classkcenon_1_1monitoring_1_1stream__aggregator.html#a6040464852941cdad84d6d4dd13eb7a5" title="Get full statistics." alt="" coords="123,303,277,357"/>
<area shape="poly" title=" " alt="" coords="57,194,161,291,157,295,53,198"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a82194409e4e712ccb2f60da2576c74cf" title="Add a value to the statistics." alt="" coords="342,84,490,139"/>
<area shape="poly" title=" " alt="" coords="277,155,328,138,330,143,279,160"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af8777b1253df450eb2cf4b8ee3a43fae" title="Get sample count." alt="" coords="342,5,490,60"/>
<area shape="poly" title=" " alt="" coords="225,154,269,111,324,69,332,64,335,69,327,74,273,115,229,158"/>
<area shape="rect" href="../../db/d50/namespacekcenon_1_1monitoring.html#a5831822659b3edfa93f8cc4b75357478" title="Helper function to create successful VoidResult." alt="" coords="337,163,495,203"/>
<area shape="poly" title=" " alt="" coords="278,181,323,181,323,186,278,186"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af58b9b80277dae07ac8b964c75fd6124" title="Get running mean." alt="" coords="325,227,507,267"/>
<area shape="poly" title=" " alt="" coords="279,204,336,221,334,226,277,209"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a96b3000d209fca8bf2718c8cca30d410" title="Get running standard deviation." alt="" coords="342,292,490,347"/>
<area shape="poly" title=" " alt="" coords="234,209,277,243,327,277,338,283,335,288,324,282,274,247,231,213"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#a3df0289eb787ad8866a8ce611d440b3e" title="Get running variance (sample variance)" alt="" coords="555,292,703,347"/>
<area shape="poly" title=" " alt="" coords="490,317,541,317,541,322,490,322"/>
<area shape="poly" title=" " alt="" coords="277,53,328,45,329,50,278,58"/>
<area shape="rect" href="../../d8/dca/classkcenon_1_1monitoring_1_1online__statistics.html#af747480f239c364c289c786d693fc68c" title="Get full statistics." alt="" coords="342,371,490,425"/>
<area shape="poly" title=" " alt="" coords="279,352,330,368,328,373,277,357"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jan 11 2026 09:30:45 for Monitoring System by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
