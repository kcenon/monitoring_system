<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monitoring System: kcenon::monitoring::statsd_exporter Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Monitoring System
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d9/d03/namespacekcenon.html">kcenon</a></li><li class="navelem"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html">monitoring</a></li><li class="navelem"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html">statsd_exporter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d3/d87/classkcenon_1_1monitoring_1_1statsd__exporter-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">kcenon::monitoring::statsd_exporter Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>StatsD metric exporter implementation.  
 <a href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for kcenon::monitoring::statsd_exporter:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/d42/classkcenon_1_1monitoring_1_1statsd__exporter__inherit__graph.png" border="0" usemap="#akcenon_1_1monitoring_1_1statsd__exporter_inherit__map" alt="Inheritance graph"/></div>
<map name="akcenon_1_1monitoring_1_1statsd__exporter_inherit__map" id="akcenon_1_1monitoring_1_1statsd__exporter_inherit__map">
<area shape="rect" title="StatsD metric exporter implementation." alt="" coords="23,273,206,728"/>
<area shape="rect" href="../../d9/d3c/classkcenon_1_1monitoring_1_1metric__exporter__interface.html" title="Abstract interface for metric exporters." alt="" coords="5,5,224,225"/>
<area shape="poly" title=" " alt="" coords="117,239,117,273,112,273,112,239"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for kcenon::monitoring::statsd_exporter:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dc6/classkcenon_1_1monitoring_1_1statsd__exporter__coll__graph.png" border="0" usemap="#akcenon_1_1monitoring_1_1statsd__exporter_coll__map" alt="Collaboration graph"/></div>
<map name="akcenon_1_1monitoring_1_1statsd__exporter_coll__map" id="akcenon_1_1monitoring_1_1statsd__exporter_coll__map">
<area shape="rect" title="StatsD metric exporter implementation." alt="" coords="342,927,525,1281"/>
<area shape="rect" href="../../d9/d3c/classkcenon_1_1monitoring_1_1metric__exporter__interface.html" title="Abstract interface for metric exporters." alt="" coords="5,615,224,835"/>
<area shape="poly" title=" " alt="" coords="218,844,344,993,340,996,214,847"/>
<area shape="rect" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html" title="Configuration for metric exporters." alt="" coords="248,625,411,825"/>
<area shape="poly" title=" " alt="" coords="359,824,383,910,378,912,354,826"/>
<area shape="rect" title=" " alt="" coords="151,135,230,200"/>
<area shape="poly" title=" " alt="" coords="185,201,173,264,163,349,165,444,171,491,184,536,202,565,239,612,235,615,198,568,179,538,166,492,159,444,158,349,168,264,180,200"/>
<area shape="rect" title=" " alt="" coords="279,360,423,455"/>
<area shape="poly" title=" " alt="" coords="214,199,312,344,308,347,210,202"/>
<area shape="rect" title=" " alt="" coords="125,5,256,85"/>
<area shape="poly" title=" " alt="" coords="193,99,193,134,188,134,188,99"/>
<area shape="poly" title=" " alt="" coords="350,455,340,608,334,608,345,455"/>
<area shape="rect" title=" " alt="" coords="435,685,642,765"/>
<area shape="poly" title=" " alt="" coords="530,766,490,912,484,910,525,764"/>
<area shape="rect" href="../../d7/dda/classkcenon_1_1monitoring_1_1udp__transport.html" title="Abstract UDP transport interface." alt="" coords="469,277,609,537"/>
<area shape="poly" title=" " alt="" coords="541,538,541,668,536,668,536,538"/>
<area shape="rect" title=" " alt="" coords="666,692,849,757"/>
<area shape="poly" title=" " alt="" coords="732,759,537,986,533,982,728,756"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afc943755406f0908df57a5a2d9edf4e3" id="r_afc943755406f0908df57a5a2d9edf4e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#afc943755406f0908df57a5a2d9edf4e3">statsd_exporter</a> (const <a class="el" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html">metric_export_config</a> &amp;config)</td></tr>
<tr class="memdesc:afc943755406f0908df57a5a2d9edf4e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct StatsD exporter with default UDP transport.  <br /></td></tr>
<tr class="separator:afc943755406f0908df57a5a2d9edf4e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293d8f520b15d610b8e062f3bdc3d2e5" id="r_a293d8f520b15d610b8e062f3bdc3d2e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a293d8f520b15d610b8e062f3bdc3d2e5">statsd_exporter</a> (const <a class="el" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html">metric_export_config</a> &amp;config, std::unique_ptr&lt; <a class="el" href="../../d7/dda/classkcenon_1_1monitoring_1_1udp__transport.html">udp_transport</a> &gt; transport)</td></tr>
<tr class="memdesc:a293d8f520b15d610b8e062f3bdc3d2e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct StatsD exporter with custom UDP transport.  <br /></td></tr>
<tr class="separator:a293d8f520b15d610b8e062f3bdc3d2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af99d011b6f35828f9e3ba6d18e9f4c3f" id="r_af99d011b6f35828f9e3ba6d18e9f4c3f"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d0/d5e/structkcenon_1_1monitoring_1_1statsd__metric__data.html">statsd_metric_data</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#af99d011b6f35828f9e3ba6d18e9f4c3f">convert_monitoring_data</a> (const <a class="el" href="../../df/d98/structkcenon_1_1monitoring_1_1monitoring__data.html">monitoring_data</a> &amp;data) const</td></tr>
<tr class="memdesc:af99d011b6f35828f9e3ba6d18e9f4c3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert <a class="el" href="../../df/d98/structkcenon_1_1monitoring_1_1monitoring__data.html" title="Container for monitoring metrics from a component.">monitoring_data</a> to StatsD format.  <br /></td></tr>
<tr class="separator:af99d011b6f35828f9e3ba6d18e9f4c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d66e7a9253ee852bced5ec721e3bfcc" id="r_a9d66e7a9253ee852bced5ec721e3bfcc"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d0/d5e/structkcenon_1_1monitoring_1_1statsd__metric__data.html">statsd_metric_data</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a9d66e7a9253ee852bced5ec721e3bfcc">convert_snapshot</a> (const <a class="el" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html">metrics_snapshot</a> &amp;snapshot) const</td></tr>
<tr class="memdesc:a9d66e7a9253ee852bced5ec721e3bfcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert <a class="el" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html" title="Complete snapshot of metrics at a point in time.">metrics_snapshot</a> to StatsD format.  <br /></td></tr>
<tr class="separator:a9d66e7a9253ee852bced5ec721e3bfcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2e77e73b3dc0a7532b80abcb03f336b" id="r_af2e77e73b3dc0a7532b80abcb03f336b"><td class="memItemLeft" align="right" valign="top">common::VoidResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#af2e77e73b3dc0a7532b80abcb03f336b">export_metrics</a> (const std::vector&lt; <a class="el" href="../../df/d98/structkcenon_1_1monitoring_1_1monitoring__data.html">monitoring_data</a> &gt; &amp;metrics) override</td></tr>
<tr class="memdesc:af2e77e73b3dc0a7532b80abcb03f336b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export a batch of metrics.  <br /></td></tr>
<tr class="separator:af2e77e73b3dc0a7532b80abcb03f336b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac41f9f5f818171d73310d088b8520c72" id="r_ac41f9f5f818171d73310d088b8520c72"><td class="memItemLeft" align="right" valign="top">common::VoidResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ac41f9f5f818171d73310d088b8520c72">export_snapshot</a> (const <a class="el" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html">metrics_snapshot</a> &amp;snapshot) override</td></tr>
<tr class="memdesc:ac41f9f5f818171d73310d088b8520c72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export a single metrics snapshot.  <br /></td></tr>
<tr class="separator:ac41f9f5f818171d73310d088b8520c72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8bfbdac891fd41dd6dbe194a6073336" id="r_aa8bfbdac891fd41dd6dbe194a6073336"><td class="memItemLeft" align="right" valign="top">common::VoidResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#aa8bfbdac891fd41dd6dbe194a6073336">start</a> () override</td></tr>
<tr class="memdesc:aa8bfbdac891fd41dd6dbe194a6073336"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the exporter (for pull-based systems)  <br /></td></tr>
<tr class="separator:aa8bfbdac891fd41dd6dbe194a6073336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92aab54b15d5be22af048370da977d29" id="r_a92aab54b15d5be22af048370da977d29"><td class="memItemLeft" align="right" valign="top">common::VoidResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a92aab54b15d5be22af048370da977d29">stop</a> () override</td></tr>
<tr class="memdesc:a92aab54b15d5be22af048370da977d29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the exporter.  <br /></td></tr>
<tr class="separator:a92aab54b15d5be22af048370da977d29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd1959730ebfae6d42d576823808e0a4" id="r_acd1959730ebfae6d42d576823808e0a4"><td class="memItemLeft" align="right" valign="top">common::VoidResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#acd1959730ebfae6d42d576823808e0a4">flush</a> () override</td></tr>
<tr class="memdesc:acd1959730ebfae6d42d576823808e0a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush any pending metrics.  <br /></td></tr>
<tr class="separator:acd1959730ebfae6d42d576823808e0a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48e49d082c3e78cb21d01c0e621ed8cc" id="r_a48e49d082c3e78cb21d01c0e621ed8cc"><td class="memItemLeft" align="right" valign="top">common::VoidResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a48e49d082c3e78cb21d01c0e621ed8cc">shutdown</a> () override</td></tr>
<tr class="memdesc:a48e49d082c3e78cb21d01c0e621ed8cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown the exporter.  <br /></td></tr>
<tr class="separator:a48e49d082c3e78cb21d01c0e621ed8cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13d493751cefb0a8376e6a978dce519f" id="r_a13d493751cefb0a8376e6a978dce519f"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; std::string, std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a13d493751cefb0a8376e6a978dce519f">get_stats</a> () const override</td></tr>
<tr class="memdesc:a13d493751cefb0a8376e6a978dce519f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get exporter statistics.  <br /></td></tr>
<tr class="separator:a13d493751cefb0a8376e6a978dce519f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classkcenon_1_1monitoring_1_1metric__exporter__interface"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classkcenon_1_1monitoring_1_1metric__exporter__interface')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../d9/d3c/classkcenon_1_1monitoring_1_1metric__exporter__interface.html">kcenon::monitoring::metric_exporter_interface</a></td></tr>
<tr class="memitem:a0c4c6cafc5b8ba370b4bc41f4b733a63 inherit pub_methods_classkcenon_1_1monitoring_1_1metric__exporter__interface" id="r_a0c4c6cafc5b8ba370b4bc41f4b733a63"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d3c/classkcenon_1_1monitoring_1_1metric__exporter__interface.html#a0c4c6cafc5b8ba370b4bc41f4b733a63">~metric_exporter_interface</a> ()=default</td></tr>
<tr class="separator:a0c4c6cafc5b8ba370b4bc41f4b733a63 inherit pub_methods_classkcenon_1_1monitoring_1_1metric__exporter__interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad6892d84e0f4665e1b464596a36d826d" id="r_ad6892d84e0f4665e1b464596a36d826d"><td class="memItemLeft" align="right" valign="top">common::VoidResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ad6892d84e0f4665e1b464596a36d826d">send_udp_batch</a> (const std::vector&lt; std::string &gt; &amp;lines)</td></tr>
<tr class="separator:ad6892d84e0f4665e1b464596a36d826d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ac2c89255dd869220ffe64fde957b91" id="r_a2ac2c89255dd869220ffe64fde957b91"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2ac2c89255dd869220ffe64fde957b91">sanitize_metric_name</a> (const std::string &amp;name) const</td></tr>
<tr class="separator:a2ac2c89255dd869220ffe64fde957b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7dad8c0e8c27918edc8e5f39fc8b8d3" id="r_ab7dad8c0e8c27918edc8e5f39fc8b8d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#a02c7867f24a6cbd907fdc07b4f294727">metric_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ab7dad8c0e8c27918edc8e5f39fc8b8d3">infer_metric_type</a> (const std::string &amp;name, double) const</td></tr>
<tr class="separator:ab7dad8c0e8c27918edc8e5f39fc8b8d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4106b1ad073304a6fc0b768751567bc7" id="r_a4106b1ad073304a6fc0b768751567bc7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html">metric_export_config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a></td></tr>
<tr class="separator:a4106b1ad073304a6fc0b768751567bc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f4cbb6f108b7c913381d9db4161e4ea" id="r_a5f4cbb6f108b7c913381d9db4161e4ea"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d7/dda/classkcenon_1_1monitoring_1_1udp__transport.html">udp_transport</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">transport_</a></td></tr>
<tr class="separator:a5f4cbb6f108b7c913381d9db4161e4ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a582a728b645658869d29966c7285c06b" id="r_a582a728b645658869d29966c7285c06b"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a582a728b645658869d29966c7285c06b">exported_metrics_</a> {0}</td></tr>
<tr class="separator:a582a728b645658869d29966c7285c06b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b68a1ecb0e86e96eddc9ee09b2c2d3e" id="r_a0b68a1ecb0e86e96eddc9ee09b2c2d3e"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a0b68a1ecb0e86e96eddc9ee09b2c2d3e">failed_exports_</a> {0}</td></tr>
<tr class="separator:a0b68a1ecb0e86e96eddc9ee09b2c2d3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a399319f5035ad0d7957791f3681d77af" id="r_a399319f5035ad0d7957791f3681d77af"><td class="memItemLeft" align="right" valign="top">std::atomic&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a399319f5035ad0d7957791f3681d77af">sent_packets_</a> {0}</td></tr>
<tr class="separator:a399319f5035ad0d7957791f3681d77af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f5ea0e35aef4bfacbcaa531a4ad8990" id="r_a2f5ea0e35aef4bfacbcaa531a4ad8990"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2f5ea0e35aef4bfacbcaa531a4ad8990">started_</a> {false}</td></tr>
<tr class="separator:a2f5ea0e35aef4bfacbcaa531a4ad8990"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>StatsD metric exporter implementation. </p>
<p>Exports metrics to StatsD-compatible backends via UDP. Supports both plain StatsD and DataDog extension formats. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00507">507</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="afc943755406f0908df57a5a2d9edf4e3" name="afc943755406f0908df57a5a2d9edf4e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc943755406f0908df57a5a2d9edf4e3">&#9670;&#160;</a></span>statsd_exporter() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">kcenon::monitoring::statsd_exporter::statsd_exporter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html">metric_export_config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct StatsD exporter with default UDP transport. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Export configuration with endpoint and port </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00521">521</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  522</span>        : <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>(config)</div>
<div class="line"><span class="lineno">  523</span>        , <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">transport_</a>(<a class="code hl_function" href="../../db/d50/namespacekcenon_1_1monitoring.html#a86692b4d92ea83424d60baf99bd891ae">create_default_udp_transport</a>()) {}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1statsd__exporter_html_a4106b1ad073304a6fc0b768751567bc7"><div class="ttname"><a href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">kcenon::monitoring::statsd_exporter::config_</a></div><div class="ttdeci">metric_export_config config_</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00509">metric_exporters.h:509</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1statsd__exporter_html_a5f4cbb6f108b7c913381d9db4161e4ea"><div class="ttname"><a href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">kcenon::monitoring::statsd_exporter::transport_</a></div><div class="ttdeci">std::unique_ptr&lt; udp_transport &gt; transport_</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00510">metric_exporters.h:510</a></div></div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_a86692b4d92ea83424d60baf99bd891ae"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#a86692b4d92ea83424d60baf99bd891ae">kcenon::monitoring::create_default_udp_transport</a></div><div class="ttdeci">std::unique_ptr&lt; udp_transport &gt; create_default_udp_transport()</div><div class="ttdoc">Create default UDP transport.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dea/udp__transport_8h_source.html#l00468">udp_transport.h:468</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a293d8f520b15d610b8e062f3bdc3d2e5" name="a293d8f520b15d610b8e062f3bdc3d2e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a293d8f520b15d610b8e062f3bdc3d2e5">&#9670;&#160;</a></span>statsd_exporter() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">kcenon::monitoring::statsd_exporter::statsd_exporter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html">metric_export_config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="../../d7/dda/classkcenon_1_1monitoring_1_1udp__transport.html">udp_transport</a> &gt;&#160;</td>
          <td class="paramname"><em>transport</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct StatsD exporter with custom UDP transport. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Export configuration </td></tr>
    <tr><td class="paramname">transport</td><td>Custom UDP transport implementation </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00530">530</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  532</span>        : <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>(config)</div>
<div class="line"><span class="lineno">  533</span>        , <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">transport_</a>(std::move(transport)) {}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af99d011b6f35828f9e3ba6d18e9f4c3f" name="af99d011b6f35828f9e3ba6d18e9f4c3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af99d011b6f35828f9e3ba6d18e9f4c3f">&#9670;&#160;</a></span>convert_monitoring_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d0/d5e/structkcenon_1_1monitoring_1_1statsd__metric__data.html">statsd_metric_data</a> &gt; kcenon::monitoring::statsd_exporter::convert_monitoring_data </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../df/d98/structkcenon_1_1monitoring_1_1monitoring__data.html">monitoring_data</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert <a class="el" href="../../df/d98/structkcenon_1_1monitoring_1_1monitoring__data.html" title="Container for monitoring metrics from a component.">monitoring_data</a> to StatsD format. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00538">538</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  538</span>                                                                                             {</div>
<div class="line"><span class="lineno">  539</span>        std::vector&lt;statsd_metric_data&gt; statsd_metrics;</div>
<div class="line"><span class="lineno">  540</span>        </div>
<div class="line"><span class="lineno">  541</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [name, value] : data.get_metrics()) {</div>
<div class="line"><span class="lineno">  542</span>            statsd_metric_data metric;</div>
<div class="line"><span class="lineno">  543</span>            metric.name = <a class="code hl_function" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2ac2c89255dd869220ffe64fde957b91">sanitize_metric_name</a>(name);</div>
<div class="line"><span class="lineno">  544</span>            metric.type = <a class="code hl_function" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ab7dad8c0e8c27918edc8e5f39fc8b8d3">infer_metric_type</a>(name, value);</div>
<div class="line"><span class="lineno">  545</span>            metric.value = value;</div>
<div class="line"><span class="lineno">  546</span>            metric.sample_rate = 1.0;</div>
<div class="line"><span class="lineno">  547</span>            </div>
<div class="line"><span class="lineno">  548</span>            <span class="comment">// Add component as tag</span></div>
<div class="line"><span class="lineno">  549</span>            metric.tags[<span class="stringliteral">&quot;component&quot;</span>] = data.get_component_name();</div>
<div class="line"><span class="lineno">  550</span>            </div>
<div class="line"><span class="lineno">  551</span>            <span class="comment">// Add custom tags from config</span></div>
<div class="line"><span class="lineno">  552</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [key, tag_value] : <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>.labels) {</div>
<div class="line"><span class="lineno">  553</span>                metric.tags[key] = tag_value;</div>
<div class="line"><span class="lineno">  554</span>            }</div>
<div class="line"><span class="lineno">  555</span>            </div>
<div class="line"><span class="lineno">  556</span>            <span class="comment">// Add tags from data</span></div>
<div class="line"><span class="lineno">  557</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [key, tag_value] : data.get_tags()) {</div>
<div class="line"><span class="lineno">  558</span>                metric.tags[key] = tag_value;</div>
<div class="line"><span class="lineno">  559</span>            }</div>
<div class="line"><span class="lineno">  560</span>            </div>
<div class="line"><span class="lineno">  561</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>.<a class="code hl_variable" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a40a24a4246bbb027adb71de8d9fe4c2a">instance_id</a>.empty()) {</div>
<div class="line"><span class="lineno">  562</span>                metric.tags[<span class="stringliteral">&quot;instance&quot;</span>] = <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>.<a class="code hl_variable" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a40a24a4246bbb027adb71de8d9fe4c2a">instance_id</a>;</div>
<div class="line"><span class="lineno">  563</span>            }</div>
<div class="line"><span class="lineno">  564</span>            </div>
<div class="line"><span class="lineno">  565</span>            statsd_metrics.push_back(std::move(metric));</div>
<div class="line"><span class="lineno">  566</span>        }</div>
<div class="line"><span class="lineno">  567</span>        </div>
<div class="line"><span class="lineno">  568</span>        <span class="keywordflow">return</span> statsd_metrics;</div>
<div class="line"><span class="lineno">  569</span>    }</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1statsd__exporter_html_a2ac2c89255dd869220ffe64fde957b91"><div class="ttname"><a href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2ac2c89255dd869220ffe64fde957b91">kcenon::monitoring::statsd_exporter::sanitize_metric_name</a></div><div class="ttdeci">std::string sanitize_metric_name(const std::string &amp;name) const</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00764">metric_exporters.h:764</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1statsd__exporter_html_ab7dad8c0e8c27918edc8e5f39fc8b8d3"><div class="ttname"><a href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ab7dad8c0e8c27918edc8e5f39fc8b8d3">kcenon::monitoring::statsd_exporter::infer_metric_type</a></div><div class="ttdeci">metric_type infer_metric_type(const std::string &amp;name, double) const</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00772">metric_exporters.h:772</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1metric__export__config_html_a40a24a4246bbb027adb71de8d9fe4c2a"><div class="ttname"><a href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a40a24a4246bbb027adb71de8d9fe4c2a">kcenon::monitoring::metric_export_config::instance_id</a></div><div class="ttdeci">std::string instance_id</div><div class="ttdoc">Instance identifier.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00090">metric_exporters.h:90</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af99d011b6f35828f9e3ba6d18e9f4c3f_cgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af99d011b6f35828f9e3ba6d18e9f4c3f_cgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af99d011b6f35828f9e3ba6d18e9f4c3f_cgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af99d011b6f35828f9e3ba6d18e9f4c3f_cgraph">
<area shape="rect" title="Convert monitoring_data to StatsD format." alt="" coords="5,156,195,211"/>
<area shape="rect" href="../../df/d98/structkcenon_1_1monitoring_1_1monitoring__data.html#a860c9ba8130870970fc120f6886da3f3" title="Get the component name." alt="" coords="260,5,427,60"/>
<area shape="poly" title=" " alt="" coords="129,154,180,111,241,69,251,64,254,68,244,74,183,115,133,158"/>
<area shape="rect" href="../../df/d98/structkcenon_1_1monitoring_1_1monitoring__data.html#aac8a337e89e687a28b04d3a18e72f18c" title="Get all metrics." alt="" coords="260,84,427,139"/>
<area shape="poly" title=" " alt="" coords="192,153,246,137,247,142,194,158"/>
<area shape="rect" href="../../df/d98/structkcenon_1_1monitoring_1_1monitoring__data.html#a8b6c86b2470bb87cb8045a2ec7e1d6b3" title="Get all tags." alt="" coords="243,163,444,203"/>
<area shape="poly" title=" " alt="" coords="195,181,229,181,229,186,195,186"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ab7dad8c0e8c27918edc8e5f39fc8b8d3" title=" " alt="" coords="258,228,429,283"/>
<area shape="poly" title=" " alt="" coords="194,208,246,224,244,229,192,213"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2ac2c89255dd869220ffe64fde957b91" title=" " alt="" coords="248,307,439,361"/>
<area shape="poly" title=" " alt="" coords="133,209,183,251,244,292,256,298,254,303,241,296,180,255,130,213"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af99d011b6f35828f9e3ba6d18e9f4c3f_icgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af99d011b6f35828f9e3ba6d18e9f4c3f_icgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af99d011b6f35828f9e3ba6d18e9f4c3f_icgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af99d011b6f35828f9e3ba6d18e9f4c3f_icgraph">
<area shape="rect" title="Convert monitoring_data to StatsD format." alt="" coords="353,128,543,183"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#af2e77e73b3dc0a7532b80abcb03f336b" title="Export a batch of metrics." alt="" coords="123,64,305,119"/>
<area shape="poly" title=" " alt="" coords="339,128,305,119,306,114,341,123"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a883e1be7196e3bddf94fbbeddd244fda" title=" " alt="" coords="179,143,249,168"/>
<area shape="poly" title=" " alt="" coords="340,158,249,158,249,153,340,153"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a27f6a7296c10ed7960f3297350698f46" title=" " alt="" coords="179,192,249,217"/>
<area shape="poly" title=" " alt="" coords="341,181,250,200,248,195,340,175"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a4df08761fc9b30fc11ae252d8017c5d3" title=" " alt="" coords="5,5,75,31"/>
<area shape="poly" title=" " alt="" coords="135,61,70,33,72,28,137,56"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a7b9703cf04ab94fbd627efb90097c3ac" title=" " alt="" coords="5,55,75,80"/>
<area shape="poly" title=" " alt="" coords="109,79,75,75,75,69,109,74"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a1012ceac747be854b5fd8176ba367a11" title=" " alt="" coords="5,104,75,129"/>
<area shape="poly" title=" " alt="" coords="109,109,75,114,75,109,109,104"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#aa5411389d3461a5bc373425c30c122fe" title=" " alt="" coords="5,153,75,179"/>
<area shape="poly" title=" " alt="" coords="137,126,124,132,71,156,69,151,122,128,135,122"/>
</map>
</div>

</div>
</div>
<a id="a9d66e7a9253ee852bced5ec721e3bfcc" name="a9d66e7a9253ee852bced5ec721e3bfcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d66e7a9253ee852bced5ec721e3bfcc">&#9670;&#160;</a></span>convert_snapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d0/d5e/structkcenon_1_1monitoring_1_1statsd__metric__data.html">statsd_metric_data</a> &gt; kcenon::monitoring::statsd_exporter::convert_snapshot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html">metrics_snapshot</a> &amp;&#160;</td>
          <td class="paramname"><em>snapshot</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert <a class="el" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html" title="Complete snapshot of metrics at a point in time.">metrics_snapshot</a> to StatsD format. </p>

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00574">574</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  574</span>                                                                                           {</div>
<div class="line"><span class="lineno">  575</span>        std::vector&lt;statsd_metric_data&gt; statsd_metrics;</div>
<div class="line"><span class="lineno">  576</span>        </div>
<div class="line"><span class="lineno">  577</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; metric_val : snapshot.metrics) {</div>
<div class="line"><span class="lineno">  578</span>            statsd_metric_data metric;</div>
<div class="line"><span class="lineno">  579</span>            metric.name = <a class="code hl_function" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2ac2c89255dd869220ffe64fde957b91">sanitize_metric_name</a>(metric_val.name);</div>
<div class="line"><span class="lineno">  580</span>            metric.type = <a class="code hl_function" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ab7dad8c0e8c27918edc8e5f39fc8b8d3">infer_metric_type</a>(metric_val.name, metric_val.value);</div>
<div class="line"><span class="lineno">  581</span>            metric.value = metric_val.value;</div>
<div class="line"><span class="lineno">  582</span>            metric.sample_rate = 1.0;</div>
<div class="line"><span class="lineno">  583</span>            </div>
<div class="line"><span class="lineno">  584</span>            <span class="comment">// Add source as tag</span></div>
<div class="line"><span class="lineno">  585</span>            <span class="keywordflow">if</span> (!snapshot.source_id.empty()) {</div>
<div class="line"><span class="lineno">  586</span>                metric.tags[<span class="stringliteral">&quot;source&quot;</span>] = snapshot.source_id;</div>
<div class="line"><span class="lineno">  587</span>            }</div>
<div class="line"><span class="lineno">  588</span>            </div>
<div class="line"><span class="lineno">  589</span>            <span class="comment">// Add custom tags from config</span></div>
<div class="line"><span class="lineno">  590</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [key, tag_value] : <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>.labels) {</div>
<div class="line"><span class="lineno">  591</span>                metric.tags[key] = tag_value;</div>
<div class="line"><span class="lineno">  592</span>            }</div>
<div class="line"><span class="lineno">  593</span>            </div>
<div class="line"><span class="lineno">  594</span>            <span class="comment">// Add tags from metric</span></div>
<div class="line"><span class="lineno">  595</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [key, tag_value] : metric_val.tags) {</div>
<div class="line"><span class="lineno">  596</span>                metric.tags[key] = tag_value;</div>
<div class="line"><span class="lineno">  597</span>            }</div>
<div class="line"><span class="lineno">  598</span>            </div>
<div class="line"><span class="lineno">  599</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>.<a class="code hl_variable" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a40a24a4246bbb027adb71de8d9fe4c2a">instance_id</a>.empty()) {</div>
<div class="line"><span class="lineno">  600</span>                metric.tags[<span class="stringliteral">&quot;instance&quot;</span>] = <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>.<a class="code hl_variable" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a40a24a4246bbb027adb71de8d9fe4c2a">instance_id</a>;</div>
<div class="line"><span class="lineno">  601</span>            }</div>
<div class="line"><span class="lineno">  602</span>            </div>
<div class="line"><span class="lineno">  603</span>            statsd_metrics.push_back(std::move(metric));</div>
<div class="line"><span class="lineno">  604</span>        }</div>
<div class="line"><span class="lineno">  605</span>        </div>
<div class="line"><span class="lineno">  606</span>        <span class="keywordflow">return</span> statsd_metrics;</div>
<div class="line"><span class="lineno">  607</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a9d66e7a9253ee852bced5ec721e3bfcc_cgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a9d66e7a9253ee852bced5ec721e3bfcc_cgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a9d66e7a9253ee852bced5ec721e3bfcc_cgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a9d66e7a9253ee852bced5ec721e3bfcc_cgraph">
<area shape="rect" title="Convert metrics_snapshot to StatsD format." alt="" coords="5,45,195,100"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ab7dad8c0e8c27918edc8e5f39fc8b8d3" title=" " alt="" coords="253,5,423,60"/>
<area shape="poly" title=" " alt="" coords="194,54,239,47,240,52,195,59"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2ac2c89255dd869220ffe64fde957b91" title=" " alt="" coords="243,84,433,139"/>
<area shape="poly" title=" " alt="" coords="195,85,230,91,229,96,194,91"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a9d66e7a9253ee852bced5ec721e3bfcc_icgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a9d66e7a9253ee852bced5ec721e3bfcc_icgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a9d66e7a9253ee852bced5ec721e3bfcc_icgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a9d66e7a9253ee852bced5ec721e3bfcc_icgraph">
<area shape="rect" title="Convert metrics_snapshot to StatsD format." alt="" coords="353,37,543,92"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ac41f9f5f818171d73310d088b8520c72" title="Export a single metrics snapshot." alt="" coords="123,5,305,60"/>
<area shape="poly" title=" " alt="" coords="339,53,305,48,306,42,340,47"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a27f6a7296c10ed7960f3297350698f46" title=" " alt="" coords="179,84,249,109"/>
<area shape="poly" title=" " alt="" coords="340,82,249,95,249,89,339,77"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a7b9703cf04ab94fbd627efb90097c3ac" title=" " alt="" coords="5,20,75,45"/>
<area shape="poly" title=" " alt="" coords="109,35,75,35,75,30,109,30"/>
</map>
</div>

</div>
</div>
<a id="af2e77e73b3dc0a7532b80abcb03f336b" name="af2e77e73b3dc0a7532b80abcb03f336b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2e77e73b3dc0a7532b80abcb03f336b">&#9670;&#160;</a></span>export_metrics()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">common::VoidResult kcenon::monitoring::statsd_exporter::export_metrics </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../df/d98/structkcenon_1_1monitoring_1_1monitoring__data.html">monitoring_data</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>metrics</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Export a batch of metrics. </p>

<p>Implements <a class="el" href="../../d9/d3c/classkcenon_1_1monitoring_1_1metric__exporter__interface.html#a5f450e04468d10a4135754604f71205b">kcenon::monitoring::metric_exporter_interface</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00609">609</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  609</span>                                                                                        {</div>
<div class="line"><span class="lineno">  610</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  611</span>            std::vector&lt;std::string&gt; statsd_lines;</div>
<div class="line"><span class="lineno">  612</span>            </div>
<div class="line"><span class="lineno">  613</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; data : metrics) {</div>
<div class="line"><span class="lineno">  614</span>                <span class="keyword">auto</span> statsd_metrics = <a class="code hl_function" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#af99d011b6f35828f9e3ba6d18e9f4c3f">convert_monitoring_data</a>(data);</div>
<div class="line"><span class="lineno">  615</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; metric : statsd_metrics) {</div>
<div class="line"><span class="lineno">  616</span>                    <span class="keywordtype">bool</span> datadog_format = (<a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>.<a class="code hl_variable" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a67ef1a3317e24d916387494e7ce3c8e1">format</a> == <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#a0ae0c187afb749d396a5293dba5a0f23a59ec113a1c4b0649f4ea35445552860e">metric_export_format::statsd_datadog</a>);</div>
<div class="line"><span class="lineno">  617</span>                    statsd_lines.push_back(metric.to_statsd_format(datadog_format));</div>
<div class="line"><span class="lineno">  618</span>                }</div>
<div class="line"><span class="lineno">  619</span>            }</div>
<div class="line"><span class="lineno">  620</span>            </div>
<div class="line"><span class="lineno">  621</span>            <span class="comment">// Send via UDP (simulated)</span></div>
<div class="line"><span class="lineno">  622</span>            <span class="keyword">auto</span> send_result = <a class="code hl_function" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ad6892d84e0f4665e1b464596a36d826d">send_udp_batch</a>(statsd_lines);</div>
<div class="line"><span class="lineno">  623</span>            <span class="keywordflow">if</span> (send_result.is_ok()) {</div>
<div class="line"><span class="lineno">  624</span>                <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a582a728b645658869d29966c7285c06b">exported_metrics_</a> += metrics.size();</div>
<div class="line"><span class="lineno">  625</span>                <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a399319f5035ad0d7957791f3681d77af">sent_packets_</a>++;</div>
<div class="line"><span class="lineno">  626</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  627</span>                <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a0b68a1ecb0e86e96eddc9ee09b2c2d3e">failed_exports_</a>++;</div>
<div class="line"><span class="lineno">  628</span>                <span class="keywordflow">return</span> send_result;</div>
<div class="line"><span class="lineno">  629</span>            }</div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span>            <span class="keywordflow">return</span> common::ok();</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line"><span class="lineno">  634</span>            <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a0b68a1ecb0e86e96eddc9ee09b2c2d3e">failed_exports_</a>++;</div>
<div class="line"><span class="lineno">  635</span>            <span class="keywordflow">return</span> common::VoidResult::err(error_info(<a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ab0f9a44e05c0521f5686fd2ac5d2c83eae84e30f035632b055bfc113f1d7e0a67">monitoring_error_code::operation_failed</a>,</div>
<div class="line"><span class="lineno">  636</span>                             <span class="stringliteral">&quot;StatsD export failed: &quot;</span> + std::string(e.what()), <span class="stringliteral">&quot;monitoring_system&quot;</span>).to_common_error());</div>
<div class="line"><span class="lineno">  637</span>        }</div>
<div class="line"><span class="lineno">  638</span>    }</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1statsd__exporter_html_a0b68a1ecb0e86e96eddc9ee09b2c2d3e"><div class="ttname"><a href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a0b68a1ecb0e86e96eddc9ee09b2c2d3e">kcenon::monitoring::statsd_exporter::failed_exports_</a></div><div class="ttdeci">std::atomic&lt; std::size_t &gt; failed_exports_</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00512">metric_exporters.h:512</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1statsd__exporter_html_a399319f5035ad0d7957791f3681d77af"><div class="ttname"><a href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a399319f5035ad0d7957791f3681d77af">kcenon::monitoring::statsd_exporter::sent_packets_</a></div><div class="ttdeci">std::atomic&lt; std::size_t &gt; sent_packets_</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00513">metric_exporters.h:513</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1statsd__exporter_html_a582a728b645658869d29966c7285c06b"><div class="ttname"><a href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a582a728b645658869d29966c7285c06b">kcenon::monitoring::statsd_exporter::exported_metrics_</a></div><div class="ttdeci">std::atomic&lt; std::size_t &gt; exported_metrics_</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00511">metric_exporters.h:511</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1statsd__exporter_html_ad6892d84e0f4665e1b464596a36d826d"><div class="ttname"><a href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ad6892d84e0f4665e1b464596a36d826d">kcenon::monitoring::statsd_exporter::send_udp_batch</a></div><div class="ttdeci">common::VoidResult send_udp_batch(const std::vector&lt; std::string &gt; &amp;lines)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00733">metric_exporters.h:733</a></div></div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1statsd__exporter_html_af99d011b6f35828f9e3ba6d18e9f4c3f"><div class="ttname"><a href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#af99d011b6f35828f9e3ba6d18e9f4c3f">kcenon::monitoring::statsd_exporter::convert_monitoring_data</a></div><div class="ttdeci">std::vector&lt; statsd_metric_data &gt; convert_monitoring_data(const monitoring_data &amp;data) const</div><div class="ttdoc">Convert monitoring_data to StatsD format.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00538">metric_exporters.h:538</a></div></div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_a0ae0c187afb749d396a5293dba5a0f23a59ec113a1c4b0649f4ea35445552860e"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#a0ae0c187afb749d396a5293dba5a0f23a59ec113a1c4b0649f4ea35445552860e">kcenon::monitoring::metric_export_format::statsd_datadog</a></div><div class="ttdeci">@ statsd_datadog</div><div class="ttdoc">StatsD DataDog extension format.</div></div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_ab0f9a44e05c0521f5686fd2ac5d2c83eae84e30f035632b055bfc113f1d7e0a67"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#ab0f9a44e05c0521f5686fd2ac5d2c83eae84e30f035632b055bfc113f1d7e0a67">kcenon::monitoring::monitoring_error_code::operation_failed</a></div><div class="ttdeci">@ operation_failed</div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1metric__export__config_html_a67ef1a3317e24d916387494e7ce3c8e1"><div class="ttname"><a href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a67ef1a3317e24d916387494e7ce3c8e1">kcenon::monitoring::metric_export_config::format</a></div><div class="ttdeci">metric_export_format format</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00081">metric_exporters.h:81</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af2e77e73b3dc0a7532b80abcb03f336b_cgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af2e77e73b3dc0a7532b80abcb03f336b_cgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af2e77e73b3dc0a7532b80abcb03f336b_cgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af2e77e73b3dc0a7532b80abcb03f336b_cgraph">
<area shape="rect" title="Export a batch of metrics." alt="" coords="5,235,188,289"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#af99d011b6f35828f9e3ba6d18e9f4c3f" title="Convert monitoring_data to StatsD format." alt="" coords="249,156,439,211"/>
<area shape="poly" title=" " alt="" coords="182,232,243,212,245,218,184,237"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ad6892d84e0f4665e1b464596a36d826d" title=" " alt="" coords="259,235,429,289"/>
<area shape="poly" title=" " alt="" coords="188,259,245,259,245,265,188,265"/>
<area shape="rect" href="../../d5/d36/structkcenon_1_1monitoring_1_1error__info.html#a708459545c76e0e9c5d07ffa9b9e2785" title="Convert to common_system error_info." alt="" coords="236,314,452,354"/>
<area shape="poly" title=" " alt="" coords="189,286,263,308,261,313,187,291"/>
<area shape="rect" href="../../df/d98/structkcenon_1_1monitoring_1_1monitoring__data.html#a860c9ba8130870970fc120f6886da3f3" title="Get the component name." alt="" coords="517,5,684,60"/>
<area shape="poly" title=" " alt="" coords="376,154,432,111,499,69,510,63,512,68,501,74,435,116,380,158"/>
<area shape="rect" href="../../df/d98/structkcenon_1_1monitoring_1_1monitoring__data.html#aac8a337e89e687a28b04d3a18e72f18c" title="Get all metrics." alt="" coords="517,84,684,139"/>
<area shape="poly" title=" " alt="" coords="438,154,503,136,505,141,440,159"/>
<area shape="rect" href="../../df/d98/structkcenon_1_1monitoring_1_1monitoring__data.html#a8b6c86b2470bb87cb8045a2ec7e1d6b3" title="Get all tags." alt="" coords="500,163,701,203"/>
<area shape="poly" title=" " alt="" coords="439,181,486,181,486,186,439,186"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ab7dad8c0e8c27918edc8e5f39fc8b8d3" title=" " alt="" coords="515,228,686,283"/>
<area shape="poly" title=" " alt="" coords="440,207,503,225,501,230,438,212"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2ac2c89255dd869220ffe64fde957b91" title=" " alt="" coords="505,307,696,361"/>
<area shape="poly" title=" " alt="" coords="436,209,454,220,470,239,479,257,486,276,502,293,506,297,503,301,498,297,482,278,474,260,466,242,450,224,434,213"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af2e77e73b3dc0a7532b80abcb03f336b_icgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af2e77e73b3dc0a7532b80abcb03f336b_icgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af2e77e73b3dc0a7532b80abcb03f336b_icgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_af2e77e73b3dc0a7532b80abcb03f336b_icgraph">
<area shape="rect" title="Export a batch of metrics." alt="" coords="123,65,305,120"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a4df08761fc9b30fc11ae252d8017c5d3" title=" " alt="" coords="5,5,75,31"/>
<area shape="poly" title=" " alt="" coords="137,62,70,33,72,28,139,58"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a7b9703cf04ab94fbd627efb90097c3ac" title=" " alt="" coords="5,55,75,80"/>
<area shape="poly" title=" " alt="" coords="109,80,75,75,75,70,109,75"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a1012ceac747be854b5fd8176ba367a11" title=" " alt="" coords="5,104,75,129"/>
<area shape="poly" title=" " alt="" coords="109,110,75,115,75,109,109,105"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#aa5411389d3461a5bc373425c30c122fe" title=" " alt="" coords="5,153,75,179"/>
<area shape="poly" title=" " alt="" coords="137,128,72,156,70,151,135,123"/>
</map>
</div>

</div>
</div>
<a id="ac41f9f5f818171d73310d088b8520c72" name="ac41f9f5f818171d73310d088b8520c72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac41f9f5f818171d73310d088b8520c72">&#9670;&#160;</a></span>export_snapshot()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">common::VoidResult kcenon::monitoring::statsd_exporter::export_snapshot </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html">metrics_snapshot</a> &amp;&#160;</td>
          <td class="paramname"><em>snapshot</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Export a single metrics snapshot. </p>

<p>Implements <a class="el" href="../../d9/d3c/classkcenon_1_1monitoring_1_1metric__exporter__interface.html#a12c0bcbce40a3cc14da787c8572b2bb3">kcenon::monitoring::metric_exporter_interface</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00640">640</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  640</span>                                                                                {</div>
<div class="line"><span class="lineno">  641</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  642</span>            <span class="keyword">auto</span> statsd_metrics = <a class="code hl_function" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a9d66e7a9253ee852bced5ec721e3bfcc">convert_snapshot</a>(snapshot);</div>
<div class="line"><span class="lineno">  643</span>            std::vector&lt;std::string&gt; statsd_lines;</div>
<div class="line"><span class="lineno">  644</span>            </div>
<div class="line"><span class="lineno">  645</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; metric : statsd_metrics) {</div>
<div class="line"><span class="lineno">  646</span>                <span class="keywordtype">bool</span> datadog_format = (<a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>.<a class="code hl_variable" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a67ef1a3317e24d916387494e7ce3c8e1">format</a> == <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#a0ae0c187afb749d396a5293dba5a0f23a59ec113a1c4b0649f4ea35445552860e">metric_export_format::statsd_datadog</a>);</div>
<div class="line"><span class="lineno">  647</span>                statsd_lines.push_back(metric.to_statsd_format(datadog_format));</div>
<div class="line"><span class="lineno">  648</span>            }</div>
<div class="line"><span class="lineno">  649</span>            </div>
<div class="line"><span class="lineno">  650</span>            <span class="comment">// Send via UDP (simulated)</span></div>
<div class="line"><span class="lineno">  651</span>            <span class="keyword">auto</span> send_result = <a class="code hl_function" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ad6892d84e0f4665e1b464596a36d826d">send_udp_batch</a>(statsd_lines);</div>
<div class="line"><span class="lineno">  652</span>            <span class="keywordflow">if</span> (send_result.is_ok()) {</div>
<div class="line"><span class="lineno">  653</span>                <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a582a728b645658869d29966c7285c06b">exported_metrics_</a>++;</div>
<div class="line"><span class="lineno">  654</span>                <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a399319f5035ad0d7957791f3681d77af">sent_packets_</a>++;</div>
<div class="line"><span class="lineno">  655</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  656</span>                <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a0b68a1ecb0e86e96eddc9ee09b2c2d3e">failed_exports_</a>++;</div>
<div class="line"><span class="lineno">  657</span>                <span class="keywordflow">return</span> send_result;</div>
<div class="line"><span class="lineno">  658</span>            }</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>            <span class="keywordflow">return</span> common::ok();</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception&amp; e) {</div>
<div class="line"><span class="lineno">  663</span>            <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a0b68a1ecb0e86e96eddc9ee09b2c2d3e">failed_exports_</a>++;</div>
<div class="line"><span class="lineno">  664</span>            <span class="keywordflow">return</span> common::VoidResult::err(error_info(<a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ab0f9a44e05c0521f5686fd2ac5d2c83eae84e30f035632b055bfc113f1d7e0a67">monitoring_error_code::operation_failed</a>,</div>
<div class="line"><span class="lineno">  665</span>                             <span class="stringliteral">&quot;StatsD snapshot export failed: &quot;</span> + std::string(e.what()), <span class="stringliteral">&quot;monitoring_system&quot;</span>).to_common_error());</div>
<div class="line"><span class="lineno">  666</span>        }</div>
<div class="line"><span class="lineno">  667</span>    }</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1statsd__exporter_html_a9d66e7a9253ee852bced5ec721e3bfcc"><div class="ttname"><a href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a9d66e7a9253ee852bced5ec721e3bfcc">kcenon::monitoring::statsd_exporter::convert_snapshot</a></div><div class="ttdeci">std::vector&lt; statsd_metric_data &gt; convert_snapshot(const metrics_snapshot &amp;snapshot) const</div><div class="ttdoc">Convert metrics_snapshot to StatsD format.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00574">metric_exporters.h:574</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ac41f9f5f818171d73310d088b8520c72_cgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ac41f9f5f818171d73310d088b8520c72_cgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ac41f9f5f818171d73310d088b8520c72_cgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ac41f9f5f818171d73310d088b8520c72_cgraph">
<area shape="rect" title="Export a single metrics snapshot." alt="" coords="5,123,188,177"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a9d66e7a9253ee852bced5ec721e3bfcc" title="Convert metrics_snapshot to StatsD format." alt="" coords="249,44,439,99"/>
<area shape="poly" title=" " alt="" coords="182,120,243,100,245,106,184,125"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ad6892d84e0f4665e1b464596a36d826d" title=" " alt="" coords="259,123,429,177"/>
<area shape="poly" title=" " alt="" coords="188,147,245,147,245,153,188,153"/>
<area shape="rect" href="../../d5/d36/structkcenon_1_1monitoring_1_1error__info.html#a708459545c76e0e9c5d07ffa9b9e2785" title="Convert to common_system error_info." alt="" coords="236,202,452,242"/>
<area shape="poly" title=" " alt="" coords="189,174,263,196,261,201,187,179"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ab7dad8c0e8c27918edc8e5f39fc8b8d3" title=" " alt="" coords="510,5,681,60"/>
<area shape="poly" title=" " alt="" coords="439,54,496,45,497,50,439,59"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2ac2c89255dd869220ffe64fde957b91" title=" " alt="" coords="500,84,691,139"/>
<area shape="poly" title=" " alt="" coords="439,84,486,91,486,97,439,89"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ac41f9f5f818171d73310d088b8520c72_icgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ac41f9f5f818171d73310d088b8520c72_icgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ac41f9f5f818171d73310d088b8520c72_icgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ac41f9f5f818171d73310d088b8520c72_icgraph">
<area shape="rect" title="Export a single metrics snapshot." alt="" coords="123,5,305,60"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a7b9703cf04ab94fbd627efb90097c3ac" title=" " alt="" coords="5,20,75,45"/>
<area shape="poly" title=" " alt="" coords="109,35,75,35,75,30,109,30"/>
</map>
</div>

</div>
</div>
<a id="acd1959730ebfae6d42d576823808e0a4" name="acd1959730ebfae6d42d576823808e0a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd1959730ebfae6d42d576823808e0a4">&#9670;&#160;</a></span>flush()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">common::VoidResult kcenon::monitoring::statsd_exporter::flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flush any pending metrics. </p>

<p>Implements <a class="el" href="../../d9/d3c/classkcenon_1_1monitoring_1_1metric__exporter__interface.html#ab6d2d6ad834c6f483bfa6b1a5eb05956">kcenon::monitoring::metric_exporter_interface</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00705">705</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  705</span>                                      {</div>
<div class="line"><span class="lineno">  706</span>        <span class="comment">// StatsD is push-based and sends immediately, so flush is a no-op</span></div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">return</span> common::ok();</div>
<div class="line"><span class="lineno">  708</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_acd1959730ebfae6d42d576823808e0a4_icgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_acd1959730ebfae6d42d576823808e0a4_icgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_acd1959730ebfae6d42d576823808e0a4_icgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_acd1959730ebfae6d42d576823808e0a4_icgraph">
<area shape="rect" title="Flush any pending metrics." alt="" coords="123,5,293,45"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a7b9703cf04ab94fbd627efb90097c3ac" title=" " alt="" coords="5,13,75,38"/>
<area shape="poly" title=" " alt="" coords="109,28,75,28,75,23,109,23"/>
</map>
</div>

</div>
</div>
<a id="a13d493751cefb0a8376e6a978dce519f" name="a13d493751cefb0a8376e6a978dce519f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13d493751cefb0a8376e6a978dce519f">&#9670;&#160;</a></span>get_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; std::string, std::size_t &gt; kcenon::monitoring::statsd_exporter::get_stats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get exporter statistics. </p>

<p>Implements <a class="el" href="../../d9/d3c/classkcenon_1_1monitoring_1_1metric__exporter__interface.html#ac8022bad401757f7869bfe6b418cce6d">kcenon::monitoring::metric_exporter_interface</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00714">714</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  714</span>                                                                      {</div>
<div class="line"><span class="lineno">  715</span>        std::unordered_map&lt;std::string, std::size_t&gt; stats = {</div>
<div class="line"><span class="lineno">  716</span>            {<span class="stringliteral">&quot;exported_metrics&quot;</span>, <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a582a728b645658869d29966c7285c06b">exported_metrics_</a>.load()},</div>
<div class="line"><span class="lineno">  717</span>            {<span class="stringliteral">&quot;failed_exports&quot;</span>, <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a0b68a1ecb0e86e96eddc9ee09b2c2d3e">failed_exports_</a>.load()},</div>
<div class="line"><span class="lineno">  718</span>            {<span class="stringliteral">&quot;sent_packets&quot;</span>, <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a399319f5035ad0d7957791f3681d77af">sent_packets_</a>.load()}</div>
<div class="line"><span class="lineno">  719</span>        };</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>        <span class="comment">// Add transport statistics if available</span></div>
<div class="line"><span class="lineno">  722</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">transport_</a>) {</div>
<div class="line"><span class="lineno">  723</span>            <span class="keyword">auto</span> transport_stats = <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">transport_</a>-&gt;get_statistics();</div>
<div class="line"><span class="lineno">  724</span>            stats[<span class="stringliteral">&quot;transport_packets_sent&quot;</span>] = transport_stats.packets_sent;</div>
<div class="line"><span class="lineno">  725</span>            stats[<span class="stringliteral">&quot;transport_bytes_sent&quot;</span>] = transport_stats.bytes_sent;</div>
<div class="line"><span class="lineno">  726</span>            stats[<span class="stringliteral">&quot;transport_send_failures&quot;</span>] = transport_stats.send_failures;</div>
<div class="line"><span class="lineno">  727</span>        }</div>
<div class="line"><span class="lineno">  728</span> </div>
<div class="line"><span class="lineno">  729</span>        <span class="keywordflow">return</span> stats;</div>
<div class="line"><span class="lineno">  730</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a13d493751cefb0a8376e6a978dce519f_icgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a13d493751cefb0a8376e6a978dce519f_icgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a13d493751cefb0a8376e6a978dce519f_icgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a13d493751cefb0a8376e6a978dce519f_icgraph">
<area shape="rect" title="Get exporter statistics." alt="" coords="123,73,323,113"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a4df08761fc9b30fc11ae252d8017c5d3" title=" " alt="" coords="5,5,75,31"/>
<area shape="poly" title=" " alt="" coords="160,70,71,33,73,28,162,65"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a7b9703cf04ab94fbd627efb90097c3ac" title=" " alt="" coords="5,55,75,80"/>
<area shape="poly" title=" " alt="" coords="108,79,74,75,75,69,109,74"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a1012ceac747be854b5fd8176ba367a11" title=" " alt="" coords="5,104,75,129"/>
<area shape="poly" title=" " alt="" coords="109,110,75,115,74,110,108,105"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#aa5411389d3461a5bc373425c30c122fe" title=" " alt="" coords="5,153,75,179"/>
<area shape="poly" title=" " alt="" coords="161,120,74,156,72,151,159,115"/>
</map>
</div>

</div>
</div>
<a id="ab7dad8c0e8c27918edc8e5f39fc8b8d3" name="ab7dad8c0e8c27918edc8e5f39fc8b8d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7dad8c0e8c27918edc8e5f39fc8b8d3">&#9670;&#160;</a></span>infer_metric_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d50/namespacekcenon_1_1monitoring.html#a02c7867f24a6cbd907fdc07b4f294727">metric_type</a> kcenon::monitoring::statsd_exporter::infer_metric_type </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00772">772</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  772</span>                                                                         {</div>
<div class="line"><span class="lineno">  773</span>        <span class="comment">// Simple heuristics for StatsD metric type inference</span></div>
<div class="line"><span class="lineno">  774</span>        std::string lower_name = name;</div>
<div class="line"><span class="lineno">  775</span>        std::transform(lower_name.begin(), lower_name.end(), lower_name.begin(), ::tolower);</div>
<div class="line"><span class="lineno">  776</span>        </div>
<div class="line"><span class="lineno">  777</span>        <span class="keywordflow">if</span> (lower_name.find(<span class="stringliteral">&quot;count&quot;</span>) != std::string::npos ||</div>
<div class="line"><span class="lineno">  778</span>            lower_name.find(<span class="stringliteral">&quot;total&quot;</span>) != std::string::npos) {</div>
<div class="line"><span class="lineno">  779</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#a02c7867f24a6cbd907fdc07b4f294727a886bb73b3156b0aa24aac99d2de0b238">metric_type::counter</a>;</div>
<div class="line"><span class="lineno">  780</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lower_name.find(<span class="stringliteral">&quot;time&quot;</span>) != std::string::npos ||</div>
<div class="line"><span class="lineno">  781</span>                  lower_name.find(<span class="stringliteral">&quot;duration&quot;</span>) != std::string::npos ||</div>
<div class="line"><span class="lineno">  782</span>                  lower_name.find(<span class="stringliteral">&quot;latency&quot;</span>) != std::string::npos) {</div>
<div class="line"><span class="lineno">  783</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#a02c7867f24a6cbd907fdc07b4f294727a2c127bf32ccb4edf2bf22fea5a00e494">metric_type::timer</a>;</div>
<div class="line"><span class="lineno">  784</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  785</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#a02c7867f24a6cbd907fdc07b4f294727a37e1a9c3ba6042b79266687d13f3c5ff">metric_type::gauge</a>; <span class="comment">// Default to gauge</span></div>
<div class="line"><span class="lineno">  786</span>        }</div>
<div class="line"><span class="lineno">  787</span>    }</div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_a02c7867f24a6cbd907fdc07b4f294727a2c127bf32ccb4edf2bf22fea5a00e494"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#a02c7867f24a6cbd907fdc07b4f294727a2c127bf32ccb4edf2bf22fea5a00e494">kcenon::monitoring::metric_type::timer</a></div><div class="ttdeci">@ timer</div><div class="ttdoc">StatsD-specific timer metric.</div></div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_a02c7867f24a6cbd907fdc07b4f294727a37e1a9c3ba6042b79266687d13f3c5ff"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#a02c7867f24a6cbd907fdc07b4f294727a37e1a9c3ba6042b79266687d13f3c5ff">kcenon::monitoring::metric_type::gauge</a></div><div class="ttdeci">@ gauge</div><div class="ttdoc">Instantaneous value that can go up and down.</div></div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_a02c7867f24a6cbd907fdc07b4f294727a886bb73b3156b0aa24aac99d2de0b238"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#a02c7867f24a6cbd907fdc07b4f294727a886bb73b3156b0aa24aac99d2de0b238">kcenon::monitoring::metric_type::counter</a></div><div class="ttdeci">@ counter</div><div class="ttdoc">Monotonically increasing counter.</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ab7dad8c0e8c27918edc8e5f39fc8b8d3_icgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ab7dad8c0e8c27918edc8e5f39fc8b8d3_icgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ab7dad8c0e8c27918edc8e5f39fc8b8d3_icgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ab7dad8c0e8c27918edc8e5f39fc8b8d3_icgraph">
<area shape="rect" title=" " alt="" coords="591,144,761,199"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#af99d011b6f35828f9e3ba6d18e9f4c3f" title="Convert monitoring_data to StatsD format." alt="" coords="353,104,543,159"/>
<area shape="poly" title=" " alt="" coords="576,157,542,151,543,145,577,151"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a9d66e7a9253ee852bced5ec721e3bfcc" title="Convert metrics_snapshot to StatsD format." alt="" coords="353,183,543,237"/>
<area shape="poly" title=" " alt="" coords="577,191,543,197,542,191,576,185"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#af2e77e73b3dc0a7532b80abcb03f336b" title="Export a batch of metrics." alt="" coords="123,40,305,95"/>
<area shape="poly" title=" " alt="" coords="339,104,305,95,306,90,341,99"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a883e1be7196e3bddf94fbbeddd244fda" title=" " alt="" coords="179,119,249,144"/>
<area shape="poly" title=" " alt="" coords="340,134,249,134,249,129,340,129"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a27f6a7296c10ed7960f3297350698f46" title=" " alt="" coords="179,168,249,193"/>
<area shape="poly" title=" " alt="" coords="341,157,250,176,248,171,340,151"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a4df08761fc9b30fc11ae252d8017c5d3" title=" " alt="" coords="5,5,75,31"/>
<area shape="poly" title=" " alt="" coords="109,40,74,30,76,25,110,35"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a7b9703cf04ab94fbd627efb90097c3ac" title=" " alt="" coords="5,192,75,217"/>
<area shape="poly" title=" " alt="" coords="130,104,124,108,101,129,81,152,51,193,47,190,76,149,97,125,121,104,127,100"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a1012ceac747be854b5fd8176ba367a11" title=" " alt="" coords="5,55,75,80"/>
<area shape="poly" title=" " alt="" coords="109,70,75,70,75,65,109,65"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#aa5411389d3461a5bc373425c30c122fe" title=" " alt="" coords="5,104,75,129"/>
<area shape="poly" title=" " alt="" coords="110,100,76,110,74,104,109,94"/>
<area shape="poly" title=" " alt="" coords="339,199,249,188,249,182,340,194"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ac41f9f5f818171d73310d088b8520c72" title="Export a single metrics snapshot." alt="" coords="123,217,305,272"/>
<area shape="poly" title=" " alt="" coords="340,229,306,234,305,229,339,223"/>
<area shape="poly" title=" " alt="" coords="109,223,74,215,76,210,110,218"/>
</map>
</div>

</div>
</div>
<a id="a2ac2c89255dd869220ffe64fde957b91" name="a2ac2c89255dd869220ffe64fde957b91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ac2c89255dd869220ffe64fde957b91">&#9670;&#160;</a></span>sanitize_metric_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string kcenon::monitoring::statsd_exporter::sanitize_metric_name </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00764">764</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  764</span>                                                                {</div>
<div class="line"><span class="lineno">  765</span>        std::string sanitized = name;</div>
<div class="line"><span class="lineno">  766</span>        <span class="comment">// Replace dots and spaces with underscores for StatsD</span></div>
<div class="line"><span class="lineno">  767</span>        std::regex invalid_chars(<span class="stringliteral">&quot;[.\\s]+&quot;</span>);</div>
<div class="line"><span class="lineno">  768</span>        sanitized = std::regex_replace(sanitized, invalid_chars, <span class="stringliteral">&quot;_&quot;</span>);</div>
<div class="line"><span class="lineno">  769</span>        <span class="keywordflow">return</span> sanitized;</div>
<div class="line"><span class="lineno">  770</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a2ac2c89255dd869220ffe64fde957b91_icgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a2ac2c89255dd869220ffe64fde957b91_icgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a2ac2c89255dd869220ffe64fde957b91_icgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a2ac2c89255dd869220ffe64fde957b91_icgraph">
<area shape="rect" title=" " alt="" coords="591,144,781,199"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#af99d011b6f35828f9e3ba6d18e9f4c3f" title="Convert monitoring_data to StatsD format." alt="" coords="353,104,543,159"/>
<area shape="poly" title=" " alt="" coords="577,156,542,150,543,145,578,150"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a9d66e7a9253ee852bced5ec721e3bfcc" title="Convert metrics_snapshot to StatsD format." alt="" coords="353,183,543,237"/>
<area shape="poly" title=" " alt="" coords="578,192,543,197,542,192,577,186"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#af2e77e73b3dc0a7532b80abcb03f336b" title="Export a batch of metrics." alt="" coords="123,40,305,95"/>
<area shape="poly" title=" " alt="" coords="339,104,305,95,306,90,341,99"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a883e1be7196e3bddf94fbbeddd244fda" title=" " alt="" coords="179,119,249,144"/>
<area shape="poly" title=" " alt="" coords="340,134,249,134,249,129,340,129"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a27f6a7296c10ed7960f3297350698f46" title=" " alt="" coords="179,168,249,193"/>
<area shape="poly" title=" " alt="" coords="341,157,250,176,248,171,340,151"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a4df08761fc9b30fc11ae252d8017c5d3" title=" " alt="" coords="5,5,75,31"/>
<area shape="poly" title=" " alt="" coords="109,40,74,30,76,25,110,35"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a7b9703cf04ab94fbd627efb90097c3ac" title=" " alt="" coords="5,192,75,217"/>
<area shape="poly" title=" " alt="" coords="130,104,124,108,101,129,81,152,51,193,47,190,76,149,97,125,121,104,127,100"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a1012ceac747be854b5fd8176ba367a11" title=" " alt="" coords="5,55,75,80"/>
<area shape="poly" title=" " alt="" coords="109,70,75,70,75,65,109,65"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#aa5411389d3461a5bc373425c30c122fe" title=" " alt="" coords="5,104,75,129"/>
<area shape="poly" title=" " alt="" coords="110,100,76,110,74,104,109,94"/>
<area shape="poly" title=" " alt="" coords="339,199,249,188,249,182,340,194"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ac41f9f5f818171d73310d088b8520c72" title="Export a single metrics snapshot." alt="" coords="123,217,305,272"/>
<area shape="poly" title=" " alt="" coords="340,229,306,234,305,229,339,223"/>
<area shape="poly" title=" " alt="" coords="109,223,74,215,76,210,110,218"/>
</map>
</div>

</div>
</div>
<a id="ad6892d84e0f4665e1b464596a36d826d" name="ad6892d84e0f4665e1b464596a36d826d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6892d84e0f4665e1b464596a36d826d">&#9670;&#160;</a></span>send_udp_batch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">common::VoidResult kcenon::monitoring::statsd_exporter::send_udp_batch </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>lines</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00733">733</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  733</span>                                                                       {</div>
<div class="line"><span class="lineno">  734</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">transport_</a>) {</div>
<div class="line"><span class="lineno">  735</span>            <span class="keywordflow">return</span> common::VoidResult::err(error_info(</div>
<div class="line"><span class="lineno">  736</span>                <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ab0f9a44e05c0521f5686fd2ac5d2c83eaedddbc5d589f1443c722ae62aa2649d4">monitoring_error_code::dependency_missing</a>,</div>
<div class="line"><span class="lineno">  737</span>                <span class="stringliteral">&quot;UDP transport not available&quot;</span>,</div>
<div class="line"><span class="lineno">  738</span>                <span class="stringliteral">&quot;statsd_exporter&quot;</span></div>
<div class="line"><span class="lineno">  739</span>            ).to_common_error());</div>
<div class="line"><span class="lineno">  740</span>        }</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>        <span class="comment">// Auto-connect if not already connected</span></div>
<div class="line"><span class="lineno">  743</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">transport_</a>-&gt;is_connected()) {</div>
<div class="line"><span class="lineno">  744</span>            <span class="keyword">auto</span> connect_result = <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">transport_</a>-&gt;connect(<a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>.<a class="code hl_variable" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a72e712990092fdffdef198cdc7b5b449">endpoint</a>, <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>.<a class="code hl_variable" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a499cba6d5f1ff81ed6e5bfc0c3f9224c">port</a>);</div>
<div class="line"><span class="lineno">  745</span>            <span class="keywordflow">if</span> (connect_result.is_err()) {</div>
<div class="line"><span class="lineno">  746</span>                <span class="keywordflow">return</span> connect_result;</div>
<div class="line"><span class="lineno">  747</span>            }</div>
<div class="line"><span class="lineno">  748</span>        }</div>
<div class="line"><span class="lineno">  749</span> </div>
<div class="line"><span class="lineno">  750</span>        <span class="comment">// Combine lines into a single packet (newline-separated)</span></div>
<div class="line"><span class="lineno">  751</span>        <span class="comment">// StatsD typically accepts multiple metrics per packet</span></div>
<div class="line"><span class="lineno">  752</span>        std::string batch;</div>
<div class="line"><span class="lineno">  753</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; line : lines) {</div>
<div class="line"><span class="lineno">  754</span>            <span class="keywordflow">if</span> (!batch.empty()) {</div>
<div class="line"><span class="lineno">  755</span>                batch += <span class="charliteral">&#39;\n&#39;</span>;</div>
<div class="line"><span class="lineno">  756</span>            }</div>
<div class="line"><span class="lineno">  757</span>            batch += line;</div>
<div class="line"><span class="lineno">  758</span>        }</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>        <span class="comment">// Send the batch</span></div>
<div class="line"><span class="lineno">  761</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">transport_</a>-&gt;send(batch);</div>
<div class="line"><span class="lineno">  762</span>    }</div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_ab0f9a44e05c0521f5686fd2ac5d2c83eaedddbc5d589f1443c722ae62aa2649d4"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#ab0f9a44e05c0521f5686fd2ac5d2c83eaedddbc5d589f1443c722ae62aa2649d4">kcenon::monitoring::monitoring_error_code::dependency_missing</a></div><div class="ttdeci">@ dependency_missing</div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1metric__export__config_html_a499cba6d5f1ff81ed6e5bfc0c3f9224c"><div class="ttname"><a href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a499cba6d5f1ff81ed6e5bfc0c3f9224c">kcenon::monitoring::metric_export_config::port</a></div><div class="ttdeci">std::uint16_t port</div><div class="ttdoc">Port number (for UDP/TCP)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00080">metric_exporters.h:80</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1metric__export__config_html_a72e712990092fdffdef198cdc7b5b449"><div class="ttname"><a href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a72e712990092fdffdef198cdc7b5b449">kcenon::monitoring::metric_export_config::endpoint</a></div><div class="ttdeci">std::string endpoint</div><div class="ttdoc">Endpoint URL or address.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00079">metric_exporters.h:79</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ad6892d84e0f4665e1b464596a36d826d_icgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ad6892d84e0f4665e1b464596a36d826d_icgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ad6892d84e0f4665e1b464596a36d826d_icgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_ad6892d84e0f4665e1b464596a36d826d_icgraph">
<area shape="rect" title=" " alt="" coords="353,45,524,100"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#af2e77e73b3dc0a7532b80abcb03f336b" title="Export a batch of metrics." alt="" coords="123,84,305,139"/>
<area shape="poly" title=" " alt="" coords="340,92,306,98,305,93,339,87"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#ac41f9f5f818171d73310d088b8520c72" title="Export a single metrics snapshot." alt="" coords="123,5,305,60"/>
<area shape="poly" title=" " alt="" coords="339,58,305,52,306,46,340,52"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a4df08761fc9b30fc11ae252d8017c5d3" title=" " alt="" coords="5,69,75,95"/>
<area shape="poly" title=" " alt="" coords="109,96,75,90,76,85,110,91"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a7b9703cf04ab94fbd627efb90097c3ac" title=" " alt="" coords="5,20,75,45"/>
<area shape="poly" title=" " alt="" coords="137,81,122,74,66,48,69,43,124,69,139,76"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a1012ceac747be854b5fd8176ba367a11" title=" " alt="" coords="5,119,75,144"/>
<area shape="poly" title=" " alt="" coords="109,126,75,130,75,125,109,121"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#aa5411389d3461a5bc373425c30c122fe" title=" " alt="" coords="5,168,75,193"/>
<area shape="poly" title=" " alt="" coords="134,146,74,170,72,165,132,141"/>
<area shape="poly" title=" " alt="" coords="109,35,75,35,75,30,109,30"/>
</map>
</div>

</div>
</div>
<a id="a48e49d082c3e78cb21d01c0e621ed8cc" name="a48e49d082c3e78cb21d01c0e621ed8cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48e49d082c3e78cb21d01c0e621ed8cc">&#9670;&#160;</a></span>shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">common::VoidResult kcenon::monitoring::statsd_exporter::shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shutdown the exporter. </p>

<p>Implements <a class="el" href="../../d9/d3c/classkcenon_1_1monitoring_1_1metric__exporter__interface.html#a3f29cce7a6fd064d742562dbec225a8d">kcenon::monitoring::metric_exporter_interface</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00710">710</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  710</span>                                         {</div>
<div class="line"><span class="lineno">  711</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a92aab54b15d5be22af048370da977d29">stop</a>();</div>
<div class="line"><span class="lineno">  712</span>    }</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1statsd__exporter_html_a92aab54b15d5be22af048370da977d29"><div class="ttname"><a href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a92aab54b15d5be22af048370da977d29">kcenon::monitoring::statsd_exporter::stop</a></div><div class="ttdeci">common::VoidResult stop() override</div><div class="ttdoc">Stop the exporter.</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00692">metric_exporters.h:692</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a48e49d082c3e78cb21d01c0e621ed8cc_cgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a48e49d082c3e78cb21d01c0e621ed8cc_cgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a48e49d082c3e78cb21d01c0e621ed8cc_cgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a48e49d082c3e78cb21d01c0e621ed8cc_cgraph">
<area shape="rect" title="Shutdown the exporter." alt="" coords="5,5,208,45"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a92aab54b15d5be22af048370da977d29" title="Stop the exporter." alt="" coords="256,5,424,45"/>
<area shape="poly" title=" " alt="" coords="208,23,242,23,242,28,208,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a48e49d082c3e78cb21d01c0e621ed8cc_icgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a48e49d082c3e78cb21d01c0e621ed8cc_icgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a48e49d082c3e78cb21d01c0e621ed8cc_icgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a48e49d082c3e78cb21d01c0e621ed8cc_icgraph">
<area shape="rect" title="Shutdown the exporter." alt="" coords="123,5,325,45"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a7b9703cf04ab94fbd627efb90097c3ac" title=" " alt="" coords="5,13,75,38"/>
<area shape="poly" title=" " alt="" coords="109,28,75,28,75,23,109,23"/>
</map>
</div>

</div>
</div>
<a id="aa8bfbdac891fd41dd6dbe194a6073336" name="aa8bfbdac891fd41dd6dbe194a6073336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8bfbdac891fd41dd6dbe194a6073336">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">common::VoidResult kcenon::monitoring::statsd_exporter::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start the exporter (for pull-based systems) </p>

<p>Reimplemented from <a class="el" href="../../d9/d3c/classkcenon_1_1monitoring_1_1metric__exporter__interface.html#a555b72bde14764028adfcdbd0469ed14">kcenon::monitoring::metric_exporter_interface</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00669">669</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  669</span>                                      {</div>
<div class="line"><span class="lineno">  670</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2f5ea0e35aef4bfacbcaa531a4ad8990">started_</a>) {</div>
<div class="line"><span class="lineno">  671</span>            <span class="keywordflow">return</span> common::ok();</div>
<div class="line"><span class="lineno">  672</span>        }</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">transport_</a>) {</div>
<div class="line"><span class="lineno">  675</span>            <span class="keywordflow">return</span> common::VoidResult::err(error_info(</div>
<div class="line"><span class="lineno">  676</span>                <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ab0f9a44e05c0521f5686fd2ac5d2c83eaedddbc5d589f1443c722ae62aa2649d4">monitoring_error_code::dependency_missing</a>,</div>
<div class="line"><span class="lineno">  677</span>                <span class="stringliteral">&quot;UDP transport not available&quot;</span>,</div>
<div class="line"><span class="lineno">  678</span>                <span class="stringliteral">&quot;statsd_exporter&quot;</span></div>
<div class="line"><span class="lineno">  679</span>            ).to_common_error());</div>
<div class="line"><span class="lineno">  680</span>        }</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>        <span class="comment">// Connect to StatsD endpoint</span></div>
<div class="line"><span class="lineno">  683</span>        <span class="keyword">auto</span> connect_result = <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">transport_</a>-&gt;connect(<a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>.<a class="code hl_variable" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a72e712990092fdffdef198cdc7b5b449">endpoint</a>, <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a4106b1ad073304a6fc0b768751567bc7">config_</a>.<a class="code hl_variable" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html#a499cba6d5f1ff81ed6e5bfc0c3f9224c">port</a>);</div>
<div class="line"><span class="lineno">  684</span>        <span class="keywordflow">if</span> (connect_result.is_err()) {</div>
<div class="line"><span class="lineno">  685</span>            <span class="keywordflow">return</span> connect_result;</div>
<div class="line"><span class="lineno">  686</span>        }</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>        <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2f5ea0e35aef4bfacbcaa531a4ad8990">started_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  689</span>        <span class="keywordflow">return</span> common::ok();</div>
<div class="line"><span class="lineno">  690</span>    }</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1statsd__exporter_html_a2f5ea0e35aef4bfacbcaa531a4ad8990"><div class="ttname"><a href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2f5ea0e35aef4bfacbcaa531a4ad8990">kcenon::monitoring::statsd_exporter::started_</a></div><div class="ttdeci">bool started_</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d87/metric__exporters_8h_source.html#l00514">metric_exporters.h:514</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_aa8bfbdac891fd41dd6dbe194a6073336_icgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_aa8bfbdac891fd41dd6dbe194a6073336_icgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_aa8bfbdac891fd41dd6dbe194a6073336_icgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_aa8bfbdac891fd41dd6dbe194a6073336_icgraph">
<area shape="rect" title="Start the exporter (for pull&#45;based systems)" alt="" coords="123,5,293,45"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#aa5411389d3461a5bc373425c30c122fe" title=" " alt="" coords="5,13,75,38"/>
<area shape="poly" title=" " alt="" coords="109,28,75,28,75,23,109,23"/>
</map>
</div>

</div>
</div>
<a id="a92aab54b15d5be22af048370da977d29" name="a92aab54b15d5be22af048370da977d29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92aab54b15d5be22af048370da977d29">&#9670;&#160;</a></span>stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">common::VoidResult kcenon::monitoring::statsd_exporter::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop the exporter. </p>

<p>Reimplemented from <a class="el" href="../../d9/d3c/classkcenon_1_1monitoring_1_1metric__exporter__interface.html#a0433bf88b137465baacaeedf6c110747">kcenon::monitoring::metric_exporter_interface</a>.</p>

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00692">692</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  692</span>                                     {</div>
<div class="line"><span class="lineno">  693</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2f5ea0e35aef4bfacbcaa531a4ad8990">started_</a>) {</div>
<div class="line"><span class="lineno">  694</span>            <span class="keywordflow">return</span> common::ok();</div>
<div class="line"><span class="lineno">  695</span>        }</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">transport_</a>) {</div>
<div class="line"><span class="lineno">  698</span>            <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a5f4cbb6f108b7c913381d9db4161e4ea">transport_</a>-&gt;disconnect();</div>
<div class="line"><span class="lineno">  699</span>        }</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>        <a class="code hl_variable" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a2f5ea0e35aef4bfacbcaa531a4ad8990">started_</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordflow">return</span> common::ok();</div>
<div class="line"><span class="lineno">  703</span>    }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a92aab54b15d5be22af048370da977d29_icgraph.png" border="0" usemap="#ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a92aab54b15d5be22af048370da977d29_icgraph" alt=""/></div>
<map name="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a92aab54b15d5be22af048370da977d29_icgraph" id="ad4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter_a92aab54b15d5be22af048370da977d29_icgraph">
<area shape="rect" title="Stop the exporter." alt="" coords="373,35,541,75"/>
<area shape="rect" href="../../d4/dd1/classkcenon_1_1monitoring_1_1statsd__exporter.html#a48e49d082c3e78cb21d01c0e621ed8cc" title="Shutdown the exporter." alt="" coords="123,5,325,45"/>
<area shape="poly" title=" " alt="" coords="359,45,325,41,326,35,360,40"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#aa5411389d3461a5bc373425c30c122fe" title=" " alt="" coords="189,70,259,95"/>
<area shape="poly" title=" " alt="" coords="360,69,259,81,259,76,359,64"/>
<area shape="rect" href="../../dc/d07/test__metric__exporters_8cpp.html#a7b9703cf04ab94fbd627efb90097c3ac" title=" " alt="" coords="5,13,75,38"/>
<area shape="poly" title=" " alt="" coords="109,28,75,28,75,23,109,23"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4106b1ad073304a6fc0b768751567bc7" name="a4106b1ad073304a6fc0b768751567bc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4106b1ad073304a6fc0b768751567bc7">&#9670;&#160;</a></span>config_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d6f/structkcenon_1_1monitoring_1_1metric__export__config.html">metric_export_config</a> kcenon::monitoring::statsd_exporter::config_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00509">509</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>

</div>
</div>
<a id="a582a728b645658869d29966c7285c06b" name="a582a728b645658869d29966c7285c06b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a582a728b645658869d29966c7285c06b">&#9670;&#160;</a></span>exported_metrics_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;std::size_t&gt; kcenon::monitoring::statsd_exporter::exported_metrics_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00511">511</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  511</span>{0};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b68a1ecb0e86e96eddc9ee09b2c2d3e" name="a0b68a1ecb0e86e96eddc9ee09b2c2d3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b68a1ecb0e86e96eddc9ee09b2c2d3e">&#9670;&#160;</a></span>failed_exports_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;std::size_t&gt; kcenon::monitoring::statsd_exporter::failed_exports_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00512">512</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  512</span>{0};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a399319f5035ad0d7957791f3681d77af" name="a399319f5035ad0d7957791f3681d77af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a399319f5035ad0d7957791f3681d77af">&#9670;&#160;</a></span>sent_packets_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::atomic&lt;std::size_t&gt; kcenon::monitoring::statsd_exporter::sent_packets_ {0}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00513">513</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  513</span>{0};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f5ea0e35aef4bfacbcaa531a4ad8990" name="a2f5ea0e35aef4bfacbcaa531a4ad8990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f5ea0e35aef4bfacbcaa531a4ad8990">&#9670;&#160;</a></span>started_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool kcenon::monitoring::statsd_exporter::started_ {false}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00514">514</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  514</span>{<span class="keyword">false</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f4cbb6f108b7c913381d9db4161e4ea" name="a5f4cbb6f108b7c913381d9db4161e4ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f4cbb6f108b7c913381d9db4161e4ea">&#9670;&#160;</a></span>transport_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d7/dda/classkcenon_1_1monitoring_1_1udp__transport.html">udp_transport</a>&gt; kcenon::monitoring::statsd_exporter::transport_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/d87/metric__exporters_8h_source.html#l00510">510</a> of file <a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/kcenon/monitoring/exporters/<a class="el" href="../../d8/d87/metric__exporters_8h_source.html">metric_exporters.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Feb 1 2026 07:59:45 for Monitoring System by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
