<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monitoring System: tests/test_stress_performance.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Monitoring System
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_59425e443f801f1f2fd8bbe4959a3ccf.html">tests</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">test_stress_performance.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Stress testing for the monitoring system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;gtest/gtest.h&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;random&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;future&gt;</code><br />
<code>#include &lt;condition_variable&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;numeric&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;filesystem&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d1/d7d/result__types_8h_source.html">kcenon/monitoring/core/result_types.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d1/d6e/monitoring__core_8h_source.html">kcenon/monitoring/interfaces/monitoring_core.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d0/d07/distributed__tracer_8h_source.html">kcenon/monitoring/tracing/distributed_tracer.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d7/db1/performance__monitor_8h_source.html">kcenon/monitoring/core/performance_monitor.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d6/d73/adaptive__monitor_8h_source.html">kcenon/monitoring/adaptive/adaptive_monitor.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d8/d34/health__monitor_8h_source.html">kcenon/monitoring/health/health_monitor.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d2/dd4/circuit__breaker_8h_source.html">kcenon/monitoring/reliability/circuit_breaker.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../dd/d82/fault__tolerance__manager_8h_source.html">kcenon/monitoring/reliability/fault_tolerance_manager.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../de/d92/opentelemetry__adapter_8h_source.html">kcenon/monitoring/exporters/opentelemetry_adapter.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../db/d31/storage__backends_8h_source.html">kcenon/monitoring/storage/storage_backends.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for test_stress_performance.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d87/test__stress__performance_8cpp__incl.png" border="0" usemap="#atests_2test__stress__performance_8cpp" alt=""/></div>
<map name="atests_2test__stress__performance_8cpp" id="atests_2test__stress__performance_8cpp">
<area shape="rect" title="Stress testing for the monitoring system." alt="" coords="2215,5,2462,31"/>
<area shape="rect" title=" " alt="" coords="5,86,109,111"/>
<area shape="poly" title=" " alt="" coords="2215,23,1082,42,474,59,253,70,122,81,104,85,103,80,121,76,253,64,474,54,1082,37,2215,18"/>
<area shape="rect" title=" " alt="" coords="1197,269,1261,295"/>
<area shape="poly" title=" " alt="" coords="2215,22,1874,24,1428,32,988,50,806,64,668,81,585,90,516,96,486,103,458,116,431,137,404,168,396,187,397,196,403,205,418,215,444,224,523,240,629,252,751,262,999,273,1184,277,1184,283,999,278,750,267,628,257,522,245,443,229,416,219,399,209,392,198,390,187,399,165,427,133,455,111,485,98,516,90,585,85,668,76,806,58,988,44,1428,26,1874,19,2215,17"/>
<area shape="rect" title=" " alt="" coords="2529,269,2596,295"/>
<area shape="poly" title=" " alt="" coords="2413,28,2462,46,2485,60,2505,77,2521,97,2534,120,2552,169,2561,217,2565,255,2560,256,2556,217,2547,171,2529,122,2516,100,2501,81,2481,64,2459,51,2411,33"/>
<area shape="rect" title=" " alt="" coords="4529,269,4591,295"/>
<area shape="poly" title=" " alt="" coords="2462,16,2977,18,3681,25,4031,32,4340,43,4580,57,4665,66,4722,76,4776,89,4820,101,4857,124,4874,141,4890,165,4899,184,4901,202,4897,217,4887,231,4855,251,4810,266,4757,275,4702,281,4605,284,4605,279,4702,276,4757,270,4809,261,4852,247,4883,227,4892,215,4896,201,4894,186,4886,168,4870,145,4853,128,4818,106,4775,94,4721,81,4665,71,4580,62,4340,48,4031,37,3681,30,2977,23,2462,22"/>
<area shape="rect" title=" " alt="" coords="1285,269,1352,295"/>
<area shape="poly" title=" " alt="" coords="2215,23,2013,27,1748,36,1453,54,1155,81,672,169,665,187,666,196,673,205,685,213,708,219,775,230,965,239,1159,243,1231,246,1274,252,1292,260,1290,265,1273,257,1231,252,1158,248,965,244,775,235,706,225,683,218,669,209,662,198,659,187,669,165,1154,76,1452,49,1748,31,2012,22,2215,18"/>
<area shape="rect" title=" " alt="" coords="848,86,920,111"/>
<area shape="poly" title=" " alt="" coords="2215,23,1926,26,1558,36,1199,53,1051,66,939,81,926,84,925,79,938,76,1051,60,1199,48,1557,30,1925,21,2215,17"/>
<area shape="rect" title=" " alt="" coords="4017,269,4095,295"/>
<area shape="poly" title=" " alt="" coords="2462,17,2873,21,3430,31,3987,49,4218,61,4394,76,4461,80,4523,78,4631,73,4680,77,4727,91,4773,119,4818,165,4827,187,4825,198,4818,209,4803,218,4780,225,4712,237,4622,244,4521,249,4326,253,4210,257,4109,273,4108,268,4209,252,4326,248,4521,244,4621,239,4711,231,4779,220,4801,213,4814,205,4820,196,4822,187,4814,168,4769,123,4725,96,4679,82,4631,78,4523,84,4461,85,4393,81,4218,66,3986,54,3430,36,2873,27,2462,23"/>
<area shape="rect" title=" " alt="" coords="872,174,933,199"/>
<area shape="poly" title=" " alt="" coords="2215,22,1858,25,1412,34,1201,41,1022,51,895,65,856,72,838,81,832,90,830,100,838,122,856,144,877,163,874,167,852,148,833,125,825,100,827,88,834,77,855,67,894,59,1022,46,1201,36,1412,28,1858,20,2215,17"/>
<area shape="rect" title=" " alt="" coords="414,174,557,199"/>
<area shape="poly" title=" " alt="" coords="2215,23,1903,26,1502,35,1109,53,946,66,823,81,739,100,657,124,526,171,524,166,655,119,738,95,822,76,946,60,1108,48,1502,30,1903,21,2215,17"/>
<area shape="rect" title=" " alt="" coords="4419,269,4504,295"/>
<area shape="poly" title=" " alt="" coords="2462,18,2953,23,3617,35,4237,52,4464,63,4598,76,4680,85,4748,91,4778,98,4807,111,4835,133,4862,165,4879,191,4880,206,4863,212,4831,212,4782,212,4714,217,4626,230,4518,257,4495,266,4494,261,4517,252,4625,225,4713,211,4782,207,4831,206,4863,206,4876,203,4874,193,4858,168,4831,137,4804,116,4776,103,4747,96,4679,90,4597,81,4463,68,4237,57,3617,40,2953,29,2462,23"/>
<area shape="rect" title=" " alt="" coords="2365,174,2440,199"/>
<area shape="poly" title=" " alt="" coords="2327,33,2311,50,2296,72,2289,95,2289,106,2293,117,2305,133,2320,146,2354,167,2351,171,2316,151,2301,137,2288,120,2284,107,2283,94,2292,69,2307,47,2323,29"/>
<area shape="rect" title=" " alt="" coords="2302,86,2375,111"/>
<area shape="poly" title=" " alt="" coords="2341,31,2341,72,2336,72,2336,31"/>
<area shape="rect" title=" " alt="" coords="2400,86,2491,111"/>
<area shape="poly" title=" " alt="" coords="2356,29,2420,76,2417,80,2353,33"/>
<area shape="rect" href="../../d1/d7d/result__types_8h.html" title="Result pattern type definitions for monitoring system." alt="" coords="3016,262,3192,302"/>
<area shape="poly" title=" " alt="" coords="2462,24,2627,39,2812,66,2899,85,2976,107,3039,133,3063,148,3082,165,3095,184,3103,206,3108,248,3103,249,3098,207,3090,186,3078,168,3060,153,3036,138,2975,112,2898,90,2811,71,2627,45,2462,29"/>
<area shape="rect" href="../../d1/d6e/monitoring__core_8h.html" title="Core monitoring system interface definitions." alt="" coords="4176,167,4389,207"/>
<area shape="poly" title=" " alt="" coords="2462,17,2692,19,2998,28,3344,46,3521,59,3694,76,3828,94,3963,117,4187,161,4186,166,3962,122,3828,99,3693,81,3520,64,3344,51,2998,33,2692,24,2462,22"/>
<area shape="rect" href="../../d0/d07/distributed__tracer_8h.html" title=" " alt="" coords="3243,167,3437,207"/>
<area shape="poly" title=" " alt="" coords="2462,20,2818,38,2995,54,3068,64,3123,76,3173,93,3221,114,3300,157,3298,162,3218,119,3171,98,3122,81,3067,70,2995,60,2818,44,2462,26"/>
<area shape="rect" href="../../d7/db1/performance__monitor_8h.html" title="Performance monitoring and profiling implementation." alt="" coords="2591,79,2769,119"/>
<area shape="poly" title=" " alt="" coords="2389,28,2585,73,2584,78,2388,33"/>
<area shape="rect" href="../../d6/d73/adaptive__monitor_8h.html" title=" " alt="" coords="133,79,339,119"/>
<area shape="poly" title=" " alt="" coords="2215,24,1282,42,748,59,526,70,358,81,353,82,353,76,357,76,526,64,748,54,1281,37,2215,18"/>
<area shape="rect" href="../../d8/d34/health__monitor_8h.html" title=" " alt="" coords="1167,79,1356,119"/>
<area shape="poly" title=" " alt="" coords="2215,31,1370,92,1369,87,2215,26"/>
<area shape="rect" href="../../d2/dd4/circuit__breaker_8h.html" title=" " alt="" coords="1349,167,1560,207"/>
<area shape="poly" title=" " alt="" coords="2273,33,2004,81,1562,167,1561,161,2004,76,2272,28"/>
<area shape="rect" href="../../dd/d82/fault__tolerance__manager_8h.html" title=" " alt="" coords="2016,79,2227,119"/>
<area shape="poly" title=" " alt="" coords="2308,33,2187,77,2185,72,2306,28"/>
<area shape="rect" href="../../de/d92/opentelemetry__adapter_8h.html" title="OpenTelemetry compatibility layer for monitoring system integration." alt="" coords="3471,79,3681,119"/>
<area shape="poly" title=" " alt="" coords="2463,24,3457,87,3457,92,2462,30"/>
<area shape="rect" href="../../db/d31/storage__backends_8h.html" title=" " alt="" coords="4184,79,4381,119"/>
<area shape="poly" title=" " alt="" coords="2462,20,3100,42,3952,76,4171,88,4170,93,3952,81,3100,47,2462,26"/>
<area shape="rect" href="../../de/d11/error__codes_8h.html" title="Monitoring system specific error codes." alt="" coords="4255,365,4366,390"/>
<area shape="poly" title=" " alt="" coords="3170,299,3206,307,3379,322,3677,340,4242,370,4242,375,3677,345,3378,327,3205,312,3169,305"/>
<area shape="rect" title=" " alt="" coords="2796,445,2855,471"/>
<area shape="poly" title=" " alt="" coords="3075,304,2857,440,2854,436,3072,300"/>
<area shape="rect" title=" " alt="" coords="3010,357,3198,397"/>
<area shape="poly" title=" " alt="" coords="3107,302,3107,344,3101,344,3101,302"/>
<area shape="rect" title=" " alt="" coords="3820,365,3895,390"/>
<area shape="poly" title=" " alt="" coords="3172,299,3206,307,3378,333,3548,351,3807,371,3806,376,3547,357,3377,338,3205,312,3171,305"/>
<area shape="rect" title=" " alt="" coords="4277,445,4344,471"/>
<area shape="poly" title=" " alt="" coords="4313,390,4313,431,4308,431,4308,390"/>
<area shape="poly" title=" " alt="" coords="4256,392,4202,400,4001,419,3797,433,3403,451,3075,458,2869,459,2869,454,3075,453,3403,445,3796,427,4001,413,4201,395,4255,387"/>
<area shape="poly" title=" " alt="" coords="4176,197,3961,209,3004,257,2610,280,2610,275,3004,252,3961,204,4176,192"/>
<area shape="poly" title=" " alt="" coords="4368,204,4442,225,4517,252,4532,260,4530,265,4515,257,4440,230,4367,209"/>
<area shape="poly" title=" " alt="" coords="4234,209,4114,257,4094,266,4092,261,4112,252,4232,204"/>
<area shape="poly" title=" " alt="" coords="4176,197,3206,257,3184,261,3183,256,3205,252,4176,192"/>
<area shape="poly" title=" " alt="" coords="4299,205,4312,228,4323,254,4327,280,4327,306,4320,352,4315,351,4321,306,4321,280,4317,255,4307,230,4294,208"/>
<area shape="poly" title=" " alt="" coords="4263,209,4211,257,4185,286,4155,312,4090,348,4037,370,3980,385,3907,400,3811,414,3683,426,3377,444,3076,454,2868,459,2868,453,3076,449,3377,438,3683,421,3810,409,3906,395,3979,380,4035,365,4088,343,4152,307,4181,282,4207,253,4260,205"/>
<area shape="poly" title=" " alt="" coords="4245,209,4206,231,4166,257,4149,271,4138,285,4126,298,4108,312,4057,335,4004,353,3909,373,3908,367,4003,347,4055,330,4105,307,4123,294,4134,282,4145,268,4162,253,4203,226,4242,204"/>
<area shape="rect" title=" " alt="" coords="2050,269,2137,295"/>
<area shape="poly" title=" " alt="" coords="4176,198,3961,209,3527,224,3189,230,2850,238,2416,257,2151,278,2150,273,2416,252,2850,233,3188,225,3527,219,3961,204,4176,192"/>
<area shape="rect" title=" " alt="" coords="3615,269,3739,295"/>
<area shape="poly" title=" " alt="" coords="4176,207,3754,272,3753,266,4175,202"/>
<area shape="rect" title=" " alt="" coords="4221,269,4307,295"/>
<area shape="poly" title=" " alt="" coords="4282,207,4272,256,4266,255,4276,206"/>
<area shape="rect" title=" " alt="" coords="3287,255,3433,309"/>
<area shape="poly" title=" " alt="" coords="3347,206,3354,241,3349,242,3341,207"/>
<area shape="poly" title=" " alt="" coords="2591,113,2503,121,2277,124,1901,125,1704,129,1528,137,1390,150,1342,158,1312,169,1288,187,1268,210,1241,258,1236,255,1263,207,1284,183,1309,164,1341,153,1390,144,1527,131,1704,124,1901,120,2277,119,2503,116,2590,108"/>
<area shape="poly" title=" " alt="" coords="2670,120,2580,260,2575,257,2665,118"/>
<area shape="poly" title=" " alt="" coords="2770,100,3721,130,4209,149,4368,157,4437,164,4471,183,4501,207,4546,257,4542,260,4498,211,4468,187,4435,169,4368,162,4209,154,3720,135,2770,105"/>
<area shape="poly" title=" " alt="" coords="2591,113,2503,121,1914,131,1531,144,1399,155,1358,162,1339,169,1325,187,1318,210,1317,256,1312,256,1313,209,1321,185,1336,165,1357,157,1398,150,1531,139,1914,126,2503,116,2590,108"/>
<area shape="poly" title=" " alt="" coords="2770,100,3518,127,3888,145,4007,155,4058,164,4070,186,4074,210,4072,235,4067,257,4062,255,4067,234,4069,211,4065,188,4054,169,4006,160,3888,151,3518,132,2770,105"/>
<area shape="poly" title=" " alt="" coords="2770,100,3704,127,4181,146,4336,155,4402,164,4424,183,4440,207,4458,255,4453,257,4435,210,4420,187,4400,169,4335,161,4181,151,3703,132,2770,105"/>
<area shape="poly" title=" " alt="" coords="2617,121,2459,169,2450,172,2449,167,2458,164,2615,116"/>
<area shape="poly" title=" " alt="" coords="2708,117,2775,160,2858,204,2935,233,3011,256,3010,261,2934,239,2856,209,2772,164,2705,121"/>
<area shape="poly" title=" " alt="" coords="2770,100,3745,131,4248,150,4412,158,4483,164,4543,189,4571,204,4594,222,4611,241,4621,263,4619,286,4606,311,4591,324,4569,335,4511,352,4444,365,4380,373,4380,367,4443,359,4510,347,4567,330,4588,319,4602,308,4614,285,4615,264,4607,244,4591,226,4568,209,4541,194,4482,169,4412,163,4248,155,3745,136,2769,105"/>
<area shape="poly" title=" " alt="" coords="2690,118,2818,431,2813,433,2685,120"/>
<area shape="poly" title=" " alt="" coords="2770,100,3333,120,3716,139,4107,164,4163,169,4162,174,4106,169,3716,144,3333,125,2769,105"/>
<area shape="poly" title=" " alt="" coords="2590,112,2303,144,2180,160,2127,169,2112,187,2102,210,2095,256,2090,255,2097,209,2107,185,2124,164,2179,154,2303,139,2590,107"/>
<area shape="poly" title=" " alt="" coords="2770,110,2916,133,3081,164,3157,184,3233,204,3432,241,3602,268,3601,273,3431,247,3231,209,3155,189,3079,169,2915,138,2769,115"/>
<area shape="rect" title=" " alt="" coords="4718,174,4781,199"/>
<area shape="poly" title=" " alt="" coords="2770,100,3774,128,4326,147,4648,164,4705,173,4704,178,4648,169,4326,152,3773,133,2770,105"/>
<area shape="rect" title=" " alt="" coords="1755,269,1819,295"/>
<area shape="poly" title=" " alt="" coords="2591,113,2503,121,2154,130,1940,142,1862,154,1836,161,1820,169,1805,187,1795,210,1789,256,1783,255,1790,208,1800,184,1817,165,1834,156,1861,148,1940,137,2154,124,2503,116,2590,107"/>
<area shape="rect" title=" " alt="" coords="2427,269,2490,295"/>
<area shape="poly" title=" " alt="" coords="2658,121,2485,263,2481,259,2655,117"/>
<area shape="rect" title=" " alt="" coords="1584,174,1699,199"/>
<area shape="poly" title=" " alt="" coords="2591,113,2503,121,2296,136,2135,143,1974,151,1768,169,1713,176,1712,171,1768,164,1974,146,2135,137,2296,130,2502,116,2590,107"/>
<area shape="rect" title=" " alt="" coords="2869,167,3067,207"/>
<area shape="poly" title=" " alt="" coords="2744,116,2892,160,2891,165,2742,121"/>
<area shape="rect" title=" " alt="" coords="145,174,327,199"/>
<area shape="poly" title=" " alt="" coords="239,119,239,160,233,160,233,119"/>
<area shape="poly" title=" " alt="" coords="1166,105,1079,110,988,122,910,141,881,153,862,168,850,186,846,202,849,215,858,227,873,238,893,247,945,261,1007,271,1071,276,1184,279,1184,284,1071,281,1006,276,944,266,891,252,870,243,854,231,844,218,841,202,845,184,858,165,878,149,908,136,987,116,1079,105,1166,99"/>
<area shape="poly" title=" " alt="" coords="1356,100,1887,122,2152,141,2247,152,2304,164,2320,173,2330,184,2340,194,2355,204,2394,222,2427,231,2461,239,2504,252,2526,261,2524,266,2502,257,2460,244,2426,236,2393,227,2352,209,2337,198,2327,187,2317,177,2302,169,2246,157,2152,146,1887,128,1356,106"/>
<area shape="poly" title=" " alt="" coords="1356,100,2004,116,3206,123,3624,128,3993,136,4268,148,4356,155,4402,164,4417,173,4427,182,4447,205,4530,260,4527,264,4444,209,4423,186,4414,177,4400,169,4355,161,4268,153,3993,141,3623,133,3206,128,2004,121,1356,105"/>
<area shape="poly" title=" " alt="" coords="1181,121,1138,136,1103,156,1092,167,1086,179,1086,191,1093,205,1112,224,1131,235,1151,240,1172,241,1219,240,1246,244,1274,252,1291,260,1288,265,1272,257,1245,249,1219,246,1172,246,1150,245,1129,240,1108,229,1089,208,1080,192,1080,177,1088,164,1100,152,1136,132,1179,116"/>
<area shape="poly" title=" " alt="" coords="1356,100,2004,116,2987,123,3328,129,3630,137,3854,148,3925,156,3962,164,3981,179,4003,203,4043,256,4038,260,3999,206,3978,183,3960,169,3924,161,3853,154,3629,142,3328,134,2987,129,2004,121,1356,105"/>
<area shape="poly" title=" " alt="" coords="1166,109,900,131,738,148,576,169,550,174,549,169,576,164,738,142,900,125,1166,103"/>
<area shape="poly" title=" " alt="" coords="1167,107,1027,114,872,127,740,145,696,156,672,169,667,178,665,186,673,205,705,245,737,278,770,305,802,326,836,342,870,354,941,369,1018,375,1102,377,1194,382,1296,395,1436,412,1623,425,2069,443,2500,451,2782,454,2782,459,2499,456,2069,448,1623,430,1436,417,1296,400,1194,387,1102,383,1018,380,940,374,868,359,834,347,800,330,766,309,734,282,701,249,668,208,660,187,662,175,669,165,694,151,739,140,871,122,1027,109,1166,101"/>
<area shape="poly" title=" " alt="" coords="1356,100,2004,116,2567,127,3005,133,3443,142,4005,164,4162,173,4162,179,4005,169,3443,148,3005,138,2567,132,2004,121,1356,105"/>
<area shape="poly" title=" " alt="" coords="1271,118,1296,163,1315,186,1339,204,1382,222,1440,233,1507,241,1579,245,1721,248,1831,252,2036,272,2036,278,1830,257,1721,253,1579,250,1506,246,1439,239,1381,227,1336,209,1312,190,1292,166,1266,120"/>
<area shape="poly" title=" " alt="" coords="1356,100,1827,120,2138,139,2452,164,2601,184,2750,204,2945,221,3097,229,3250,237,3446,252,3602,269,3601,274,3445,257,3250,242,3097,235,2945,226,2749,209,2600,189,2452,169,2137,144,1827,125,1356,105"/>
<area shape="poly" title=" " alt="" coords="1252,120,1243,140,1236,163,1236,185,1244,205,1264,212,1310,221,1451,241,1742,273,1741,279,1450,246,1309,226,1263,217,1241,209,1230,187,1231,162,1238,138,1247,118"/>
<area shape="poly" title=" " alt="" coords="1355,116,1573,164,1588,168,1586,173,1571,169,1354,121"/>
<area shape="rect" title=" " alt="" coords="958,174,1021,199"/>
<area shape="poly" title=" " alt="" coords="1196,121,1041,169,1033,172,1031,167,1039,164,1194,116"/>
<area shape="rect" title=" " alt="" coords="683,174,797,199"/>
<area shape="poly" title=" " alt="" coords="1167,114,1003,137,817,169,797,173,796,168,815,164,1002,132,1166,109"/>
<area shape="poly" title=" " alt="" coords="1560,203,1572,204,1714,215,1834,216,2041,209,2140,207,2245,211,2364,225,2503,252,2530,261,2528,266,2502,257,2363,230,2245,216,2140,212,2041,214,1835,222,1714,220,1572,209,1560,208"/>
<area shape="poly" title=" " alt="" coords="1429,209,1348,264,1345,259,1426,205"/>
<area shape="poly" title=" " alt="" coords="1560,203,1572,204,1863,228,2089,237,2316,242,2608,252,3002,272,3002,278,2608,257,2316,247,2089,242,1862,233,1572,209,1560,208"/>
<area shape="poly" title=" " alt="" coords="1494,204,1605,254,1743,307,1894,348,2049,381,2204,407,2353,425,2612,447,2782,453,2782,459,2612,452,2353,431,2203,412,2048,387,1892,354,1742,312,1603,259,1492,209"/>
<area shape="poly" title=" " alt="" coords="1561,202,1572,204,2037,270,2036,276,1572,209,1560,208"/>
<area shape="poly" title=" " alt="" coords="1523,204,1742,265,1740,271,1521,209"/>
<area shape="rect" title=" " alt="" coords="1411,269,1498,295"/>
<area shape="poly" title=" " alt="" coords="1457,207,1457,255,1452,255,1452,207"/>
<area shape="poly" title=" " alt="" coords="2227,110,2291,116,2662,120,3372,125,4079,138,4326,149,4405,156,4446,164,4468,179,4494,203,4543,257,4539,260,4490,207,4465,183,4444,169,4404,161,4326,154,4079,143,3371,131,2662,126,2291,121,2227,116"/>
<area shape="poly" title=" " alt="" coords="2227,110,2291,116,2588,119,3154,123,3453,127,3718,135,3913,147,3975,155,4007,164,4027,184,4041,208,4055,255,4050,257,4036,210,4023,187,4004,169,3974,160,3913,152,3717,140,3453,133,3154,128,2588,124,2291,121,2227,116"/>
<area shape="poly" title=" " alt="" coords="2016,104,1772,109,1463,120,1163,139,1039,153,946,169,938,171,937,166,945,164,1039,148,1162,134,1462,115,1771,104,2016,99"/>
<area shape="poly" title=" " alt="" coords="2016,106,1817,115,1584,129,1378,147,1306,157,1264,169,1218,197,1199,214,1184,231,1174,250,1171,269,1175,288,1187,307,1220,329,1276,348,1353,366,1446,381,1674,406,1932,425,2197,438,2444,447,2782,454,2782,459,2443,452,2197,444,1932,430,1673,412,1446,386,1352,371,1274,353,1217,334,1183,311,1170,290,1165,269,1169,248,1180,228,1195,210,1215,193,1262,164,1305,152,1378,141,1583,123,1817,110,2016,101"/>
<area shape="poly" title=" " alt="" coords="2227,109,2291,116,2420,126,2522,131,2622,140,2750,164,2781,174,2804,184,2827,195,2858,204,2946,221,3021,232,3150,240,3279,242,3446,252,3602,269,3601,274,3445,257,3279,247,3149,245,3020,237,2945,227,2857,209,2825,200,2802,189,2779,179,2749,169,2622,145,2521,136,2420,132,2290,121,2227,114"/>
<area shape="poly" title=" " alt="" coords="2016,108,1943,115,1870,127,1808,145,1785,156,1770,168,1761,189,1761,212,1767,235,1776,256,1771,258,1762,237,1755,212,1756,187,1766,165,1782,151,1806,140,1868,122,1942,110,2016,103"/>
<area shape="poly" title=" " alt="" coords="2016,114,1574,169,1573,164,2016,109"/>
<area shape="rect" href="../../d6/df4/retry__policy_8h.html" title=" " alt="" coords="2181,174,2291,199"/>
<area shape="poly" title=" " alt="" coords="2148,117,2211,163,2208,168,2145,121"/>
<area shape="rect" href="../../d5/d2d/error__boundary_8h.html" title=" " alt="" coords="1925,174,2056,199"/>
<area shape="poly" title=" " alt="" coords="2094,121,2022,168,2019,164,2091,117"/>
<area shape="rect" title=" " alt="" coords="3217,269,3263,295"/>
<area shape="poly" title=" " alt="" coords="2223,116,2469,159,2763,204,2830,211,2888,213,2988,212,3035,213,3085,218,3141,231,3205,252,3218,259,3215,264,3203,257,3139,236,3084,224,3035,218,2988,217,2888,218,2830,216,2762,209,2468,164,2222,121"/>
<area shape="poly" title=" " alt="" coords="2181,197,2068,209,1893,216,1668,220,1444,230,1349,241,1274,257,1258,264,1255,260,1273,252,1348,236,1444,225,1668,214,1893,211,2068,204,2181,192"/>
<area shape="poly" title=" " alt="" coords="2281,197,2310,204,2407,226,2504,252,2527,261,2525,266,2502,257,2406,231,2309,209,2280,202"/>
<area shape="poly" title=" " alt="" coords="2291,196,2354,204,2652,225,2906,232,3129,230,3337,224,3545,218,3768,218,4022,227,4320,252,4405,266,4405,271,4320,257,4021,233,3768,223,3545,224,3337,229,3129,236,2906,238,2652,231,2353,209,2290,201"/>
<area shape="poly" title=" " alt="" coords="2291,195,2354,204,2711,244,3003,270,3002,275,2710,249,2353,209,2290,200"/>
<area shape="poly" title=" " alt="" coords="2252,197,2321,248,2368,279,2417,307,2517,352,2619,391,2783,442,2782,448,2618,396,2515,357,2415,312,2365,284,2318,253,2249,202"/>
<area shape="poly" title=" " alt="" coords="2220,202,2124,264,2121,260,2217,197"/>
<area shape="poly" title=" " alt="" coords="2264,197,2420,262,2418,266,2262,202"/>
<area shape="poly" title=" " alt="" coords="2057,193,2312,224,2503,252,2529,261,2527,266,2502,257,2312,229,2056,198"/>
<area shape="poly" title=" " alt="" coords="1926,194,1692,213,1546,231,1401,257,1363,267,1362,262,1399,252,1546,226,1692,207,1925,189"/>
<area shape="poly" title=" " alt="" coords="2057,193,2170,204,2410,218,2614,226,2961,230,3307,234,3511,240,3752,252,4004,273,4004,278,3752,257,3511,246,3307,239,2960,236,2614,231,2410,223,2169,209,2056,199"/>
<area shape="poly" title=" " alt="" coords="2057,193,2170,204,2635,243,3002,271,3002,276,2635,248,2169,209,2056,198"/>
<area shape="poly" title=" " alt="" coords="1994,199,2006,252,2019,282,2040,307,2066,324,2099,340,2184,368,2287,392,2399,411,2621,438,2783,451,2782,457,2620,443,2398,416,2286,397,2182,373,2097,345,2063,329,2037,311,2015,285,2001,254,1989,200"/>
<area shape="poly" title=" " alt="" coords="2005,197,2072,258,2068,262,2001,201"/>
<area shape="poly" title=" " alt="" coords="1967,202,1825,266,1823,261,1965,197"/>
<area shape="poly" title=" " alt="" coords="3471,121,3233,169,3157,190,3081,209,2947,233,2815,253,2610,278,2609,273,2814,248,2946,228,3079,204,3155,185,3231,164,3470,116"/>
<area shape="poly" title=" " alt="" coords="3682,100,3928,109,4223,123,4477,141,4560,152,4586,158,4599,165,4607,176,4610,188,4607,213,4595,238,4581,260,4577,257,4591,236,4602,212,4605,188,4602,178,4596,169,4584,163,4559,157,4477,147,4223,128,3928,114,3681,106"/>
<area shape="poly" title=" " alt="" coords="3682,103,3806,112,3939,125,4050,143,4088,153,4109,165,4116,176,4118,189,4113,215,4098,240,4080,261,4076,258,4094,237,4108,213,4113,189,4111,178,4105,169,4085,158,4049,148,3939,131,3806,118,3682,109"/>
<area shape="poly" title=" " alt="" coords="3561,121,3515,166,3484,189,3450,209,3385,233,3331,242,3275,246,3206,257,3188,261,3187,256,3205,252,3275,241,3330,237,3384,228,3448,204,3481,185,3511,162,3558,117"/>
<area shape="poly" title=" " alt="" coords="3682,101,4340,129,4653,147,4752,156,4795,164,4814,190,4822,213,4819,235,4807,255,4788,273,4762,288,4696,316,4616,337,4531,353,4380,373,4379,368,4530,348,4615,332,4694,310,4760,284,4785,268,4803,251,4814,233,4816,214,4809,192,4792,169,4752,161,4653,153,4340,135,3681,107"/>
<area shape="poly" title=" " alt="" coords="3571,120,3555,160,3528,211,3492,264,3447,311,3389,351,3337,372,3211,400,3116,421,3021,437,2868,456,2868,450,3020,432,3115,416,3210,395,3335,367,3386,347,3444,307,3488,261,3524,208,3550,157,3567,118"/>
<area shape="poly" title=" " alt="" coords="3682,108,4158,164,4163,165,4162,170,4157,169,3681,114"/>
<area shape="poly" title=" " alt="" coords="3471,105,2722,128,2352,147,2229,158,2170,169,2148,187,2129,210,2104,258,2099,255,2124,207,2144,183,2168,164,2228,152,2352,142,2722,123,3471,100"/>
<area shape="poly" title=" " alt="" coords="3589,118,3667,256,3662,259,3584,120"/>
<area shape="poly" title=" " alt="" coords="3525,121,3405,164,3404,159,3523,116"/>
<area shape="poly" title=" " alt="" coords="3471,106,2546,134,2083,153,1933,162,1870,169,1846,187,1826,210,1799,258,1794,255,1822,207,1843,183,1868,164,1933,156,2083,147,2546,129,3470,100"/>
<area shape="rect" href="../../d8/db2/monitorable__interface_8h.html" title="Interface for components that expose monitoring metrics." alt="" coords="3766,167,3949,207"/>
<area shape="poly" title=" " alt="" coords="3639,116,3783,160,3782,165,3637,121"/>
<area shape="poly" title=" " alt="" coords="3766,197,2611,280,2610,275,3766,192"/>
<area shape="poly" title=" " alt="" coords="3949,192,4276,221,4429,237,4517,252,4534,260,4532,265,4515,257,4429,243,4276,226,3949,198"/>
<area shape="poly" title=" " alt="" coords="3899,204,4020,261,4018,266,3896,209"/>
<area shape="poly" title=" " alt="" coords="3949,197,4320,252,4405,267,4404,272,4320,257,3948,203"/>
<area shape="poly" title=" " alt="" coords="3766,199,3443,231,3206,257,3185,261,3184,256,3205,252,3443,225,3765,194"/>
<area shape="poly" title=" " alt="" coords="3876,205,3931,256,3967,284,4007,307,4066,331,4129,348,4242,368,4241,373,4127,353,4064,336,4004,312,3964,288,3928,260,3873,209"/>
<area shape="poly" title=" " alt="" coords="3846,209,3807,258,3754,311,3714,343,3680,366,3644,383,3595,400,3530,414,3443,426,3233,444,3022,454,2868,458,2868,453,3022,448,3233,438,3443,421,3529,409,3594,395,3642,378,3677,361,3710,339,3750,307,3803,254,3842,205"/>
<area shape="poly" title=" " alt="" coords="3860,207,3860,351,3855,351,3855,207"/>
<area shape="poly" title=" " alt="" coords="3822,209,3713,265,3710,261,3820,204"/>
<area shape="poly" title=" " alt="" coords="3766,199,3481,227,3350,243,3277,257,3265,264,3262,259,3275,252,3349,237,3480,221,3765,193"/>
<area shape="poly" title=" " alt="" coords="4184,102,4055,105,3894,115,3719,135,3630,150,3545,169,3518,178,3498,189,3478,200,3450,209,3308,227,3063,248,2610,280,2610,275,3063,243,3308,222,3449,204,3476,195,3495,184,3516,174,3543,164,3629,145,3718,130,3894,110,4055,100,4184,97"/>
<area shape="poly" title=" " alt="" coords="4382,102,4518,110,4668,123,4795,141,4838,152,4862,165,4873,181,4877,195,4875,209,4868,221,4840,240,4799,255,4750,265,4698,273,4605,281,4605,276,4698,268,4749,260,4798,249,4838,235,4864,217,4870,207,4872,196,4868,183,4858,169,4836,157,4794,146,4667,128,4518,115,4381,107"/>
<area shape="poly" title=" " alt="" coords="4382,103,4502,113,4631,126,4738,143,4775,153,4795,165,4802,176,4805,187,4803,198,4795,209,4781,217,4759,225,4693,236,4509,248,4322,253,4210,257,4109,273,4108,268,4209,252,4322,248,4509,243,4692,231,4758,220,4779,213,4791,205,4798,196,4800,187,4798,178,4792,169,4773,158,4737,148,4630,131,4501,118,4381,109"/>
<area shape="poly" title=" " alt="" coords="4382,102,4512,111,4655,124,4775,141,4816,152,4839,165,4846,176,4849,187,4839,208,4814,226,4778,237,4734,243,4686,246,4590,249,4549,252,4518,257,4496,266,4494,261,4517,252,4549,246,4590,243,4685,241,4733,238,4777,232,4812,221,4835,205,4843,186,4841,178,4836,169,4814,157,4774,147,4655,129,4512,116,4381,108"/>
<area shape="poly" title=" " alt="" coords="4184,110,3966,133,3837,149,3710,169,3627,189,3545,209,3449,225,3375,233,3301,241,3206,257,3187,261,3186,256,3205,252,3300,236,3374,228,3449,219,3543,204,3626,184,3709,164,3837,144,3965,127,4183,105"/>
<area shape="poly" title=" " alt="" coords="4382,103,4509,111,4647,124,4763,142,4803,153,4825,165,4835,183,4837,203,4834,224,4826,245,4802,284,4776,311,4726,347,4680,370,4635,383,4591,390,4496,392,4441,394,4379,400,4236,414,4046,425,3592,443,2869,459,2869,453,3592,438,4045,420,4235,408,4378,395,4441,389,4496,387,4591,384,4634,378,4678,365,4723,342,4773,307,4798,281,4821,243,4829,223,4832,203,4830,184,4821,169,4801,158,4762,147,4647,130,4509,117,4382,108"/>
<area shape="poly" title=" " alt="" coords="4285,119,4285,153,4280,153,4280,119"/>
<area shape="poly" title=" " alt="" coords="4184,106,4071,112,3946,123,3833,142,3789,154,3756,169,3733,188,3714,211,3689,258,3684,256,3710,208,3729,184,3753,164,3787,149,3832,137,3945,118,4071,106,4184,100"/>
<area shape="poly" title=" " alt="" coords="4382,108,4532,129,4617,145,4699,164,4709,167,4708,172,4698,169,4616,150,4532,135,4381,113"/>
<area shape="poly" title=" " alt="" coords="4184,106,3693,121,2801,133,2216,147,2012,157,1948,163,1915,169,1811,262,1807,258,1912,164,1947,157,2012,152,2216,141,2801,127,3693,116,4184,101"/>
</map>
</div>
</div>
<p><a href="../../de/da5/test__stress__performance_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1d103acc1543ddcc0a3485fc9d6e688c" id="r_a1d103acc1543ddcc0a3485fc9d6e688c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a1d103acc1543ddcc0a3485fc9d6e688c">RUNNING_WITH_ASAN</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a1d103acc1543ddcc0a3485fc9d6e688c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6932184c028f6ca85937d9981d0c8f66" id="r_a6932184c028f6ca85937d9981d0c8f66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a6932184c028f6ca85937d9981d0c8f66">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, HighLoadStressTest)</td></tr>
<tr class="separator:a6932184c028f6ca85937d9981d0c8f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d6c24fcaacffe36082c7ba720f45a62" id="r_a3d6c24fcaacffe36082c7ba720f45a62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a3d6c24fcaacffe36082c7ba720f45a62">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, MemoryLeakDetectionTest)</td></tr>
<tr class="separator:a3d6c24fcaacffe36082c7ba720f45a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91db0b60c64220e2aa2dc7f1d8ee7f3d" id="r_a91db0b60c64220e2aa2dc7f1d8ee7f3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a91db0b60c64220e2aa2dc7f1d8ee7f3d">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, ConcurrencyStressTest)</td></tr>
<tr class="separator:a91db0b60c64220e2aa2dc7f1d8ee7f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade7260b63ca633652f60a91147beae9b" id="r_ade7260b63ca633652f60a91147beae9b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#ade7260b63ca633652f60a91147beae9b">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, ResourceExhaustionTest)</td></tr>
<tr class="separator:ade7260b63ca633652f60a91147beae9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8ace21bd9bec4ff3d0913957a9b6e5" id="r_a6a8ace21bd9bec4ff3d0913957a9b6e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a6a8ace21bd9bec4ff3d0913957a9b6e5">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, SustainedLoadTest)</td></tr>
<tr class="separator:a6a8ace21bd9bec4ff3d0913957a9b6e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae05ac0f53eb8713cbf05f42b61e47137" id="r_ae05ac0f53eb8713cbf05f42b61e47137"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#ae05ac0f53eb8713cbf05f42b61e47137">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, BurstLoadTest)</td></tr>
<tr class="separator:ae05ac0f53eb8713cbf05f42b61e47137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08eba31dd5534efc9422ebe8e89d507d" id="r_a08eba31dd5534efc9422ebe8e89d507d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a08eba31dd5534efc9422ebe8e89d507d">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, DeadlockDetectionTest)</td></tr>
<tr class="separator:a08eba31dd5534efc9422ebe8e89d507d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf4d87471055b0cf2239e2e9832277a" id="r_aadf4d87471055b0cf2239e2e9832277a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#aadf4d87471055b0cf2239e2e9832277a">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, PerformanceDegradationTest)</td></tr>
<tr class="separator:aadf4d87471055b0cf2239e2e9832277a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a67884643e97237488ddcb66dbd76e94e" id="r_a67884643e97237488ddcb66dbd76e94e"><td class="memItemLeft" align="right" valign="top">constexpr double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a67884643e97237488ddcb66dbd76e94e">SANITIZER_OVERHEAD_FACTOR</a> = <a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a1d103acc1543ddcc0a3485fc9d6e688c">RUNNING_WITH_ASAN</a> ? 2.0 : 1.0</td></tr>
<tr class="separator:a67884643e97237488ddcb66dbd76e94e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f683326c51962a3c43e20df0f0d700d" id="r_a3f683326c51962a3c43e20df0f0d700d"><td class="memItemLeft" align="right" valign="top">constexpr bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a3f683326c51962a3c43e20df0f0d700d">IS_RELEASE_BUILD</a> = false</td></tr>
<tr class="separator:a3f683326c51962a3c43e20df0f0d700d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a7918df3a794f88cf3ce0ed07f8695f" id="r_a9a7918df3a794f88cf3ce0ed07f8695f"><td class="memItemLeft" align="right" valign="top">constexpr double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a9a7918df3a794f88cf3ce0ed07f8695f">DEBUG_BUILD_OVERHEAD_FACTOR</a> = <a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a3f683326c51962a3c43e20df0f0d700d">IS_RELEASE_BUILD</a> ? 1.0 : 2.0</td></tr>
<tr class="separator:a9a7918df3a794f88cf3ce0ed07f8695f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stress testing for the monitoring system. </p>
<p>Tests system behavior under extreme conditions:</p><ul>
<li>High load scenarios</li>
<li>Memory leak detection</li>
<li>Concurrency stress tests</li>
<li>Resource exhaustion handling</li>
<li>Performance degradation analysis </li>
</ul>

<p class="definition">Definition in file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1d103acc1543ddcc0a3485fc9d6e688c" name="a1d103acc1543ddcc0a3485fc9d6e688c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d103acc1543ddcc0a3485fc9d6e688c">&#9670;&#160;</a></span>RUNNING_WITH_ASAN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RUNNING_WITH_ASAN&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00061">61</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae05ac0f53eb8713cbf05f42b61e47137" name="ae05ac0f53eb8713cbf05f42b61e47137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae05ac0f53eb8713cbf05f42b61e47137">&#9670;&#160;</a></span>TEST_F() <span class="overload">[1/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BurstLoadTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 6: Burst Load Test Tests system response to sudden load spikes </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00452">452</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  452</span>                                             {</div>
<div class="line"><span class="lineno">  453</span>    <span class="keyword">auto</span> tracer = std::make_unique&lt;distributed_tracer&gt;();</div>
<div class="line"><span class="lineno">  454</span>    </div>
<div class="line"><span class="lineno">  455</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> BURST_SIZE = 10000;</div>
<div class="line"><span class="lineno">  456</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_BURSTS = 10;</div>
<div class="line"><span class="lineno">  457</span>    <span class="keyword">const</span> <span class="keyword">auto</span> BURST_INTERVAL = 5s;</div>
<div class="line"><span class="lineno">  458</span>    </div>
<div class="line"><span class="lineno">  459</span>    std::vector&lt;double&gt; burst_latencies;</div>
<div class="line"><span class="lineno">  460</span>    </div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> burst = 0; burst &lt; NUM_BURSTS; ++burst) {</div>
<div class="line"><span class="lineno">  462</span>        <span class="keyword">auto</span> burst_start = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  463</span>        </div>
<div class="line"><span class="lineno">  464</span>        <span class="comment">// Generate burst of operations</span></div>
<div class="line"><span class="lineno">  465</span>        std::vector&lt;std::future&lt;bool&gt;&gt; futures;</div>
<div class="line"><span class="lineno">  466</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; BURST_SIZE; ++i) {</div>
<div class="line"><span class="lineno">  467</span>            futures.push_back(std::async(std::launch::async, [&amp;tracer, i]() {</div>
<div class="line"><span class="lineno">  468</span>                <span class="keyword">auto</span> span = tracer-&gt;start_span(<span class="stringliteral">&quot;burst_op_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  469</span>                <span class="keywordflow">return</span> span.is_ok();</div>
<div class="line"><span class="lineno">  470</span>            }));</div>
<div class="line"><span class="lineno">  471</span>        }</div>
<div class="line"><span class="lineno">  472</span>        </div>
<div class="line"><span class="lineno">  473</span>        <span class="comment">// Wait for burst to complete</span></div>
<div class="line"><span class="lineno">  474</span>        <span class="keywordtype">int</span> successful = 0;</div>
<div class="line"><span class="lineno">  475</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; future : futures) {</div>
<div class="line"><span class="lineno">  476</span>            <span class="keywordflow">if</span> (future.get()) {</div>
<div class="line"><span class="lineno">  477</span>                successful++;</div>
<div class="line"><span class="lineno">  478</span>            }</div>
<div class="line"><span class="lineno">  479</span>        }</div>
<div class="line"><span class="lineno">  480</span>        </div>
<div class="line"><span class="lineno">  481</span>        <span class="keyword">auto</span> burst_end = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  482</span>        <span class="keyword">auto</span> burst_duration = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(</div>
<div class="line"><span class="lineno">  483</span>            burst_end - burst_start).count();</div>
<div class="line"><span class="lineno">  484</span>        </div>
<div class="line"><span class="lineno">  485</span>        burst_latencies.push_back(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(burst_duration));</div>
<div class="line"><span class="lineno">  486</span>        </div>
<div class="line"><span class="lineno">  487</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Burst &quot;</span> &lt;&lt; burst &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; successful &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; BURST_SIZE </div>
<div class="line"><span class="lineno">  488</span>                  &lt;&lt; <span class="stringliteral">&quot; successful, duration: &quot;</span> &lt;&lt; burst_duration &lt;&lt; <span class="stringliteral">&quot;ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  489</span>        </div>
<div class="line"><span class="lineno">  490</span>        <span class="comment">// Rest between bursts</span></div>
<div class="line"><span class="lineno">  491</span>        std::this_thread::sleep_for(BURST_INTERVAL);</div>
<div class="line"><span class="lineno">  492</span>    }</div>
<div class="line"><span class="lineno">  493</span>    </div>
<div class="line"><span class="lineno">  494</span>    <span class="comment">// Calculate statistics</span></div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordtype">double</span> avg_latency = std::accumulate(burst_latencies.begin(), burst_latencies.end(), 0.0) </div>
<div class="line"><span class="lineno">  496</span>                        / burst_latencies.size();</div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordtype">double</span> max_latency = *std::max_element(burst_latencies.begin(), burst_latencies.end());</div>
<div class="line"><span class="lineno">  498</span>    </div>
<div class="line"><span class="lineno">  499</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n=== Burst Load Test Results ===&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  500</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Average burst latency: &quot;</span> &lt;&lt; avg_latency &lt;&lt; <span class="stringliteral">&quot;ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  501</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Max burst latency: &quot;</span> &lt;&lt; max_latency &lt;&lt; <span class="stringliteral">&quot;ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  502</span>    </div>
<div class="line"><span class="lineno">  503</span>    <span class="comment">// System should handle bursts efficiently</span></div>
<div class="line"><span class="lineno">  504</span>    <span class="comment">// Note: Thresholds adjusted for sanitizer overhead</span></div>
<div class="line"><span class="lineno">  505</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> avg_threshold = 5000 * <a class="code hl_variable" href="../../de/da5/test__stress__performance_8cpp.html#a67884643e97237488ddcb66dbd76e94e">SANITIZER_OVERHEAD_FACTOR</a>;</div>
<div class="line"><span class="lineno">  506</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> max_threshold = 10000 * <a class="code hl_variable" href="../../de/da5/test__stress__performance_8cpp.html#a67884643e97237488ddcb66dbd76e94e">SANITIZER_OVERHEAD_FACTOR</a>;</div>
<div class="line"><span class="lineno">  507</span>    EXPECT_LT(avg_latency, avg_threshold); <span class="comment">// Average under threshold</span></div>
<div class="line"><span class="lineno">  508</span>    EXPECT_LT(max_latency, max_threshold); <span class="comment">// Max under threshold</span></div>
<div class="line"><span class="lineno">  509</span>}</div>
<div class="ttc" id="atest__stress__performance_8cpp_html_a67884643e97237488ddcb66dbd76e94e"><div class="ttname"><a href="../../de/da5/test__stress__performance_8cpp.html#a67884643e97237488ddcb66dbd76e94e">SANITIZER_OVERHEAD_FACTOR</a></div><div class="ttdeci">constexpr double SANITIZER_OVERHEAD_FACTOR</div><div class="ttdef"><b>Definition</b> <a href="../../de/da5/test__stress__performance_8cpp_source.html#l00065">test_stress_performance.cpp:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a91db0b60c64220e2aa2dc7f1d8ee7f3d" name="a91db0b60c64220e2aa2dc7f1d8ee7f3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91db0b60c64220e2aa2dc7f1d8ee7f3d">&#9670;&#160;</a></span>TEST_F() <span class="overload">[2/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ConcurrencyStressTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 3: Concurrency Stress Test Tests thread safety and race conditions </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00294">294</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  294</span>                                                     {</div>
<div class="line"><span class="lineno">  295</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_THREADS = 50;</div>
<div class="line"><span class="lineno">  296</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> OPERATIONS = 1000;</div>
<div class="line"><span class="lineno">  297</span>    </div>
<div class="line"><span class="lineno">  298</span>    <span class="comment">// Shared resources</span></div>
<div class="line"><span class="lineno">  299</span>    <a class="code hl_struct" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html">storage_config</a> config;</div>
<div class="line"><span class="lineno">  300</span>    config.<a class="code hl_variable" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#a5470889434a9f2c7dab29555dcb3fe0e">type</a> = storage_backend_type::memory_buffer;</div>
<div class="line"><span class="lineno">  301</span>    config.<a class="code hl_variable" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#ac188a463b7a7516db25844e62991a510">max_capacity</a> = 10000;</div>
<div class="line"><span class="lineno">  302</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a> = std::make_unique&lt;file_storage_backend&gt;(config);</div>
<div class="line"><span class="lineno">  303</span>    </div>
<div class="line"><span class="lineno">  304</span>    std::atomic&lt;int&gt; <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ab830c9f495024f76608cea5c9874e846a886bb73b3156b0aa24aac99d2de0b238">counter</a>{0};</div>
<div class="line"><span class="lineno">  305</span>    std::atomic&lt;bool&gt; race_detected{<span class="keyword">false</span>};</div>
<div class="line"><span class="lineno">  306</span>    </div>
<div class="line"><span class="lineno">  307</span>    <span class="comment">// Synchronization for thread start</span></div>
<div class="line"><span class="lineno">  308</span>    std::mutex start_mutex;</div>
<div class="line"><span class="lineno">  309</span>    std::condition_variable start_cv;</div>
<div class="line"><span class="lineno">  310</span>    std::atomic&lt;int&gt; ready_threads{0};</div>
<div class="line"><span class="lineno">  311</span>    <span class="keywordtype">bool</span> start_flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  312</span>    </div>
<div class="line"><span class="lineno">  313</span>    <span class="comment">// Launch concurrent threads</span></div>
<div class="line"><span class="lineno">  314</span>    std::vector&lt;std::thread&gt; threads;</div>
<div class="line"><span class="lineno">  315</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; NUM_THREADS; ++t) {</div>
<div class="line"><span class="lineno">  316</span>        threads.emplace_back([&amp;, t]() {</div>
<div class="line"><span class="lineno">  317</span>            <span class="comment">// Wait for all threads to be ready</span></div>
<div class="line"><span class="lineno">  318</span>            {</div>
<div class="line"><span class="lineno">  319</span>                std::unique_lock&lt;std::mutex&gt; lock(start_mutex);</div>
<div class="line"><span class="lineno">  320</span>                ready_threads++;</div>
<div class="line"><span class="lineno">  321</span>                <span class="keywordflow">if</span> (ready_threads == NUM_THREADS) {</div>
<div class="line"><span class="lineno">  322</span>                    start_flag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  323</span>                    start_cv.notify_all();</div>
<div class="line"><span class="lineno">  324</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  325</span>                    start_cv.wait(lock, [&amp;] { <span class="keywordflow">return</span> start_flag; });</div>
<div class="line"><span class="lineno">  326</span>                }</div>
<div class="line"><span class="lineno">  327</span>            }</div>
<div class="line"><span class="lineno">  328</span>            </div>
<div class="line"><span class="lineno">  329</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; OPERATIONS; ++i) {</div>
<div class="line"><span class="lineno">  330</span>                <span class="comment">// Concurrent writes</span></div>
<div class="line"><span class="lineno">  331</span>                <a class="code hl_struct" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html">metrics_snapshot</a> snapshot;</div>
<div class="line"><span class="lineno">  332</span>                snapshot.<a class="code hl_function" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html#a91c4bb5a196e0ace7716f2d6c54eb1a7">add_metric</a>(<span class="stringliteral">&quot;thread_&quot;</span> + std::to_string(t), i);</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>                <span class="keyword">auto</span> result = <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a>-&gt;store(snapshot);</div>
<div class="line"><span class="lineno">  335</span>                <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ab830c9f495024f76608cea5c9874e846a886bb73b3156b0aa24aac99d2de0b238">counter</a>++;</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>                <span class="comment">// Check storage operation succeeded</span></div>
<div class="line"><span class="lineno">  338</span>                <span class="keywordflow">if</span> (!result.is_ok()) {</div>
<div class="line"><span class="lineno">  339</span>                    race_detected = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  340</span>                }</div>
<div class="line"><span class="lineno">  341</span>            }</div>
<div class="line"><span class="lineno">  342</span>        });</div>
<div class="line"><span class="lineno">  343</span>    }</div>
<div class="line"><span class="lineno">  344</span>    </div>
<div class="line"><span class="lineno">  345</span>    <span class="comment">// Wait for completion</span></div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; thread : threads) {</div>
<div class="line"><span class="lineno">  347</span>        thread.join();</div>
<div class="line"><span class="lineno">  348</span>    }</div>
<div class="line"><span class="lineno">  349</span>    </div>
<div class="line"><span class="lineno">  350</span>    <span class="comment">// Verify results</span></div>
<div class="line"><span class="lineno">  351</span>    EXPECT_FALSE(race_detected) &lt;&lt; <span class="stringliteral">&quot;Race condition detected&quot;</span>;</div>
<div class="line"><span class="lineno">  352</span>    EXPECT_EQ(<a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ab830c9f495024f76608cea5c9874e846a886bb73b3156b0aa24aac99d2de0b238">counter</a>, NUM_THREADS * OPERATIONS);</div>
<div class="line"><span class="lineno">  353</span>    EXPECT_LE(<a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a>-&gt;size(), config.<a class="code hl_variable" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#ac188a463b7a7516db25844e62991a510">max_capacity</a>);</div>
<div class="line"><span class="lineno">  354</span>}</div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_ab830c9f495024f76608cea5c9874e846a886bb73b3156b0aa24aac99d2de0b238"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#ab830c9f495024f76608cea5c9874e846a886bb73b3156b0aa24aac99d2de0b238">kcenon::monitoring::recorded_metric_type::counter</a></div><div class="ttdeci">@ counter</div><div class="ttdoc">Monotonically increasing counter.</div></div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">kcenon::monitoring::sensor_type::storage</a></div><div class="ttdeci">@ storage</div><div class="ttdoc">Storage device sensor.</div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1metrics__snapshot_html"><div class="ttname"><a href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html">kcenon::monitoring::metrics_snapshot</a></div><div class="ttdoc">Complete snapshot of metrics at a point in time.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d6e/monitoring__core_8h_source.html#l00066">monitoring_core.h:66</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1metrics__snapshot_html_a91c4bb5a196e0ace7716f2d6c54eb1a7"><div class="ttname"><a href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html#a91c4bb5a196e0ace7716f2d6c54eb1a7">kcenon::monitoring::metrics_snapshot::add_metric</a></div><div class="ttdeci">void add_metric(const std::string &amp;name, double value)</div><div class="ttdoc">Add a metric to the snapshot.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d6e/monitoring__core_8h_source.html#l00079">monitoring_core.h:79</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1storage__config_html"><div class="ttname"><a href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html">kcenon::monitoring::storage_config</a></div><div class="ttdoc">Storage configuration.</div><div class="ttdef"><b>Definition</b> <a href="../../db/d31/storage__backends_8h_source.html#l00075">storage_backends.h:75</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1storage__config_html_a5470889434a9f2c7dab29555dcb3fe0e"><div class="ttname"><a href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#a5470889434a9f2c7dab29555dcb3fe0e">kcenon::monitoring::storage_config::type</a></div><div class="ttdeci">storage_backend_type type</div><div class="ttdef"><b>Definition</b> <a href="../../db/d31/storage__backends_8h_source.html#l00076">storage_backends.h:76</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1storage__config_html_ac188a463b7a7516db25844e62991a510"><div class="ttname"><a href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#ac188a463b7a7516db25844e62991a510">kcenon::monitoring::storage_config::max_capacity</a></div><div class="ttdeci">size_t max_capacity</div><div class="ttdef"><b>Definition</b> <a href="../../db/d31/storage__backends_8h_source.html#l00085">storage_backends.h:85</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/da5/test__stress__performance_8cpp_a91db0b60c64220e2aa2dc7f1d8ee7f3d_cgraph.png" border="0" usemap="#ade/da5/test__stress__performance_8cpp_a91db0b60c64220e2aa2dc7f1d8ee7f3d_cgraph" alt=""/></div>
<map name="ade/da5/test__stress__performance_8cpp_a91db0b60c64220e2aa2dc7f1d8ee7f3d_cgraph" id="ade/da5/test__stress__performance_8cpp_a91db0b60c64220e2aa2dc7f1d8ee7f3d_cgraph">
<area shape="rect" title=" " alt="" coords="5,20,75,45"/>
<area shape="rect" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html#a91c4bb5a196e0ace7716f2d6c54eb1a7" title="Add a metric to the snapshot." alt="" coords="123,5,276,60"/>
<area shape="poly" title=" " alt="" coords="75,30,109,30,109,35,75,35"/>
</map>
</div>

</div>
</div>
<a id="a08eba31dd5534efc9422ebe8e89d507d" name="a08eba31dd5534efc9422ebe8e89d507d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08eba31dd5534efc9422ebe8e89d507d">&#9670;&#160;</a></span>TEST_F() <span class="overload">[3/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DeadlockDetectionTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 7: Deadlock Detection Test Tests for potential deadlocks in concurrent operations </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00515">515</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  515</span>                                                     {</div>
<div class="line"><span class="lineno">  516</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_THREADS = 10;</div>
<div class="line"><span class="lineno">  517</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> ITERATIONS = 100;</div>
<div class="line"><span class="lineno">  518</span>    </div>
<div class="line"><span class="lineno">  519</span>    <span class="comment">// Shared resources with potential for deadlock</span></div>
<div class="line"><span class="lineno">  520</span>    std::timed_mutex mutex1, mutex2;</div>
<div class="line"><span class="lineno">  521</span>    std::atomic&lt;int&gt; deadlock_timeouts{0};</div>
<div class="line"><span class="lineno">  522</span>    </div>
<div class="line"><span class="lineno">  523</span>    std::vector&lt;std::thread&gt; threads;</div>
<div class="line"><span class="lineno">  524</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; NUM_THREADS; ++t) {</div>
<div class="line"><span class="lineno">  525</span>        threads.emplace_back([&amp;, t]() {</div>
<div class="line"><span class="lineno">  526</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ITERATIONS; ++i) {</div>
<div class="line"><span class="lineno">  527</span>                <span class="comment">// Alternate lock order to create potential deadlock</span></div>
<div class="line"><span class="lineno">  528</span>                <span class="keywordflow">if</span> (t % 2 == 0) {</div>
<div class="line"><span class="lineno">  529</span>                    <span class="comment">// Even threads: lock mutex1 then mutex2</span></div>
<div class="line"><span class="lineno">  530</span>                    <span class="keywordflow">if</span> (mutex1.try_lock_for(100ms)) {</div>
<div class="line"><span class="lineno">  531</span>                        std::lock_guard&lt;std::timed_mutex&gt; lock1(mutex1, std::adopt_lock);</div>
<div class="line"><span class="lineno">  532</span>                        if (mutex2.try_lock_for(100ms)) {</div>
<div class="line"><span class="lineno">  533</span>                            std::lock_guard&lt;std::timed_mutex&gt; lock2(mutex2, std::adopt_lock);</div>
<div class="line"><span class="lineno">  534</span>                            <span class="comment">// Critical section</span></div>
<div class="line"><span class="lineno">  535</span>                            std::this_thread::sleep_for(1ms);</div>
<div class="line"><span class="lineno">  536</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  537</span>                            deadlock_timeouts++;</div>
<div class="line"><span class="lineno">  538</span>                        }</div>
<div class="line"><span class="lineno">  539</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  540</span>                        deadlock_timeouts++;</div>
<div class="line"><span class="lineno">  541</span>                    }</div>
<div class="line"><span class="lineno">  542</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  543</span>                    <span class="comment">// Odd threads: lock mutex2 then mutex1</span></div>
<div class="line"><span class="lineno">  544</span>                    <span class="keywordflow">if</span> (mutex2.try_lock_for(100ms)) {</div>
<div class="line"><span class="lineno">  545</span>                        std::lock_guard&lt;std::timed_mutex&gt; lock2(mutex2, std::adopt_lock);</div>
<div class="line"><span class="lineno">  546</span>                        if (mutex1.try_lock_for(100ms)) {</div>
<div class="line"><span class="lineno">  547</span>                            std::lock_guard&lt;std::timed_mutex&gt; lock1(mutex1, std::adopt_lock);</div>
<div class="line"><span class="lineno">  548</span>                            <span class="comment">// Critical section</span></div>
<div class="line"><span class="lineno">  549</span>                            std::this_thread::sleep_for(1ms);</div>
<div class="line"><span class="lineno">  550</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  551</span>                            deadlock_timeouts++;</div>
<div class="line"><span class="lineno">  552</span>                        }</div>
<div class="line"><span class="lineno">  553</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  554</span>                        deadlock_timeouts++;</div>
<div class="line"><span class="lineno">  555</span>                    }</div>
<div class="line"><span class="lineno">  556</span>                }</div>
<div class="line"><span class="lineno">  557</span>            }</div>
<div class="line"><span class="lineno">  558</span>        });</div>
<div class="line"><span class="lineno">  559</span>    }</div>
<div class="line"><span class="lineno">  560</span>    </div>
<div class="line"><span class="lineno">  561</span>    <span class="comment">// Set timeout for test</span></div>
<div class="line"><span class="lineno">  562</span>    <span class="keyword">auto</span> start = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno">  563</span>    <span class="keywordtype">bool</span> all_finished = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  564</span>    </div>
<div class="line"><span class="lineno">  565</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; thread : threads) {</div>
<div class="line"><span class="lineno">  566</span>        <span class="keywordflow">if</span> (thread.joinable()) {</div>
<div class="line"><span class="lineno">  567</span>            thread.join();</div>
<div class="line"><span class="lineno">  568</span>        }</div>
<div class="line"><span class="lineno">  569</span>        </div>
<div class="line"><span class="lineno">  570</span>        <span class="comment">// Check if test is taking too long (potential deadlock)</span></div>
<div class="line"><span class="lineno">  571</span>        <span class="keywordflow">if</span> (std::chrono::steady_clock::now() - start &gt; 30s) {</div>
<div class="line"><span class="lineno">  572</span>            all_finished = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  573</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  574</span>        }</div>
<div class="line"><span class="lineno">  575</span>    }</div>
<div class="line"><span class="lineno">  576</span>    </div>
<div class="line"><span class="lineno">  577</span>    EXPECT_TRUE(all_finished) &lt;&lt; <span class="stringliteral">&quot;Potential deadlock detected - test timed out&quot;</span>;</div>
<div class="line"><span class="lineno">  578</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Deadlock timeouts encountered: &quot;</span> &lt;&lt; deadlock_timeouts &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  579</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6932184c028f6ca85937d9981d0c8f66" name="a6932184c028f6ca85937d9981d0c8f66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6932184c028f6ca85937d9981d0c8f66">&#9670;&#160;</a></span>TEST_F() <span class="overload">[4/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HighLoadStressTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 1: High Load Stress Test Tests system behavior under sustained high load </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00122">122</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>                                                  {</div>
<div class="line"><span class="lineno">  123</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_THREADS = 100;</div>
<div class="line"><span class="lineno">  124</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> OPERATIONS_PER_THREAD = 10000;</div>
<div class="line"><span class="lineno">  125</span>    <span class="keyword">const</span> <span class="keyword">auto</span> TEST_DURATION = 30s;</div>
<div class="line"><span class="lineno">  126</span>    </div>
<div class="line"><span class="lineno">  127</span>    <span class="comment">// Setup components</span></div>
<div class="line"><span class="lineno">  128</span>    <span class="keyword">auto</span> tracer = std::make_unique&lt;distributed_tracer&gt;();</div>
<div class="line"><span class="lineno">  129</span>    <a class="code hl_class" href="../../d6/daa/classkcenon_1_1monitoring_1_1performance__monitor.html">performance_monitor</a> perf_monitor(<span class="stringliteral">&quot;stress_test&quot;</span>);</div>
<div class="line"><span class="lineno">  130</span>    </div>
<div class="line"><span class="lineno">  131</span>    <span class="comment">// Metrics collection</span></div>
<div class="line"><span class="lineno">  132</span>    std::atomic&lt;int64_t&gt; total_operations{0};</div>
<div class="line"><span class="lineno">  133</span>    std::atomic&lt;int64_t&gt; failed_operations{0};</div>
<div class="line"><span class="lineno">  134</span>    std::atomic&lt;int64_t&gt; total_latency_us{0};</div>
<div class="line"><span class="lineno">  135</span>    std::vector&lt;double&gt; latencies;</div>
<div class="line"><span class="lineno">  136</span>    std::mutex latency_mutex;</div>
<div class="line"><span class="lineno">  137</span>    </div>
<div class="line"><span class="lineno">  138</span>    <span class="comment">// Start time</span></div>
<div class="line"><span class="lineno">  139</span>    <span class="keyword">auto</span> start_time = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno">  140</span>    </div>
<div class="line"><span class="lineno">  141</span>    <span class="comment">// Launch worker threads</span></div>
<div class="line"><span class="lineno">  142</span>    std::vector&lt;std::thread&gt; workers;</div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; NUM_THREADS; ++t) {</div>
<div class="line"><span class="lineno">  144</span>        workers.emplace_back([&amp;, t]() {</div>
<div class="line"><span class="lineno">  145</span>            std::random_device rd;</div>
<div class="line"><span class="lineno">  146</span>            std::mt19937 gen(rd());</div>
<div class="line"><span class="lineno">  147</span>            std::uniform_int_distribution&lt;&gt; dis(1, 100);</div>
<div class="line"><span class="lineno">  148</span>            </div>
<div class="line"><span class="lineno">  149</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; OPERATIONS_PER_THREAD; ++i) {</div>
<div class="line"><span class="lineno">  150</span>                <span class="keyword">auto</span> op_start = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  151</span>                </div>
<div class="line"><span class="lineno">  152</span>                <span class="comment">// Create span</span></div>
<div class="line"><span class="lineno">  153</span>                <span class="keyword">auto</span> span_result = tracer-&gt;start_span(</div>
<div class="line"><span class="lineno">  154</span>                    <span class="stringliteral">&quot;stress_op_&quot;</span> + std::to_string(t) + <span class="stringliteral">&quot;_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  155</span>                </div>
<div class="line"><span class="lineno">  156</span>                <span class="keywordflow">if</span> (span_result.is_ok()) {</div>
<div class="line"><span class="lineno">  157</span>                    <span class="comment">// Simulate work</span></div>
<div class="line"><span class="lineno">  158</span>                    std::this_thread::sleep_for(std::chrono::microseconds(dis(gen)));</div>
<div class="line"><span class="lineno">  159</span>                    </div>
<div class="line"><span class="lineno">  160</span>                    <span class="comment">// Add attributes</span></div>
<div class="line"><span class="lineno">  161</span>                    span_result.value()-&gt;tags[<span class="stringliteral">&quot;thread_id&quot;</span>] = std::to_string(t);</div>
<div class="line"><span class="lineno">  162</span>                    span_result.value()-&gt;tags[<span class="stringliteral">&quot;operation_id&quot;</span>] = std::to_string(i);</div>
<div class="line"><span class="lineno">  163</span>                    </div>
<div class="line"><span class="lineno">  164</span>                    total_operations++;</div>
<div class="line"><span class="lineno">  165</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  166</span>                    failed_operations++;</div>
<div class="line"><span class="lineno">  167</span>                }</div>
<div class="line"><span class="lineno">  168</span>                </div>
<div class="line"><span class="lineno">  169</span>                <span class="keyword">auto</span> op_end = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  170</span>                <span class="keyword">auto</span> latency = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(</div>
<div class="line"><span class="lineno">  171</span>                    op_end - op_start).count();</div>
<div class="line"><span class="lineno">  172</span>                </div>
<div class="line"><span class="lineno">  173</span>                total_latency_us += latency;</div>
<div class="line"><span class="lineno">  174</span>                </div>
<div class="line"><span class="lineno">  175</span>                <span class="comment">// Store latency for percentile calculation</span></div>
<div class="line"><span class="lineno">  176</span>                {</div>
<div class="line"><span class="lineno">  177</span>                    std::lock_guard&lt;std::mutex&gt; lock(latency_mutex);</div>
<div class="line"><span class="lineno">  178</span>                    latencies.push_back(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(latency));</div>
<div class="line"><span class="lineno">  179</span>                }</div>
<div class="line"><span class="lineno">  180</span>                </div>
<div class="line"><span class="lineno">  181</span>                <span class="comment">// Check if test duration exceeded</span></div>
<div class="line"><span class="lineno">  182</span>                <span class="keywordflow">if</span> (std::chrono::steady_clock::now() - start_time &gt; TEST_DURATION) {</div>
<div class="line"><span class="lineno">  183</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  184</span>                }</div>
<div class="line"><span class="lineno">  185</span>            }</div>
<div class="line"><span class="lineno">  186</span>        });</div>
<div class="line"><span class="lineno">  187</span>    }</div>
<div class="line"><span class="lineno">  188</span>    </div>
<div class="line"><span class="lineno">  189</span>    <span class="comment">// Wait for all workers</span></div>
<div class="line"><span class="lineno">  190</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; worker : workers) {</div>
<div class="line"><span class="lineno">  191</span>        worker.join();</div>
<div class="line"><span class="lineno">  192</span>    }</div>
<div class="line"><span class="lineno">  193</span>    </div>
<div class="line"><span class="lineno">  194</span>    <span class="comment">// Calculate metrics</span></div>
<div class="line"><span class="lineno">  195</span>    <span class="keyword">auto</span> end_time = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno">  196</span>    <span class="keyword">auto</span> duration = std::chrono::duration_cast&lt;std::chrono::seconds&gt;(end_time - start_time);</div>
<div class="line"><span class="lineno">  197</span>    </div>
<div class="line"><span class="lineno">  198</span>    <span class="comment">// Calculate percentiles</span></div>
<div class="line"><span class="lineno">  199</span>    std::sort(latencies.begin(), latencies.end());</div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordtype">double</span> p50 = latencies.empty() ? 0 : latencies[<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(latencies.size() * 0.5)];</div>
<div class="line"><span class="lineno">  201</span>    <span class="keywordtype">double</span> p95 = latencies.empty() ? 0 : latencies[<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(latencies.size() * 0.95)];</div>
<div class="line"><span class="lineno">  202</span>    <span class="keywordtype">double</span> p99 = latencies.empty() ? 0 : latencies[<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(latencies.size() * 0.99)];</div>
<div class="line"><span class="lineno">  203</span>    </div>
<div class="line"><span class="lineno">  204</span>    <span class="comment">// Calculate throughput</span></div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordtype">double</span> throughput = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(total_operations) / duration.count();</div>
<div class="line"><span class="lineno">  206</span>    <span class="keywordtype">double</span> avg_latency = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(total_latency_us) / total_operations;</div>
<div class="line"><span class="lineno">  207</span>    </div>
<div class="line"><span class="lineno">  208</span>    <span class="comment">// Output results</span></div>
<div class="line"><span class="lineno">  209</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n=== High Load Stress Test Results ===&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  210</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Duration: &quot;</span> &lt;&lt; duration.count() &lt;&lt; <span class="stringliteral">&quot; seconds&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  211</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Total operations: &quot;</span> &lt;&lt; total_operations &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  212</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Failed operations: &quot;</span> &lt;&lt; failed_operations &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  213</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Throughput: &quot;</span> &lt;&lt; throughput &lt;&lt; <span class="stringliteral">&quot; ops/sec&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  214</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Average latency: &quot;</span> &lt;&lt; avg_latency &lt;&lt; <span class="stringliteral">&quot; s&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  215</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;P50 latency: &quot;</span> &lt;&lt; p50 &lt;&lt; <span class="stringliteral">&quot; s&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  216</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;P95 latency: &quot;</span> &lt;&lt; p95 &lt;&lt; <span class="stringliteral">&quot; s&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  217</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;P99 latency: &quot;</span> &lt;&lt; p99 &lt;&lt; <span class="stringliteral">&quot; s&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  218</span>    </div>
<div class="line"><span class="lineno">  219</span>    <span class="comment">// Assertions</span></div>
<div class="line"><span class="lineno">  220</span>    <span class="comment">// Note: Thresholds adjusted for debug builds which run significantly slower</span></div>
<div class="line"><span class="lineno">  221</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> p99_threshold = 10000 * <a class="code hl_variable" href="../../de/da5/test__stress__performance_8cpp.html#a9a7918df3a794f88cf3ce0ed07f8695f">DEBUG_BUILD_OVERHEAD_FACTOR</a>;</div>
<div class="line"><span class="lineno">  222</span>    EXPECT_GT(throughput, 1000.0); <span class="comment">// At least 1000 ops/sec</span></div>
<div class="line"><span class="lineno">  223</span>    EXPECT_LT(failed_operations, total_operations * 0.01); <span class="comment">// Less than 1% failure</span></div>
<div class="line"><span class="lineno">  224</span>    EXPECT_LT(p99, p99_threshold); <span class="comment">// P99 under threshold (10ms for Release, 20ms for Debug)</span></div>
<div class="line"><span class="lineno">  225</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1performance__monitor_html"><div class="ttname"><a href="../../d6/daa/classkcenon_1_1monitoring_1_1performance__monitor.html">kcenon::monitoring::performance_monitor</a></div><div class="ttdoc">Performance monitor combining profiling and system monitoring.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/db1/performance__monitor_8h_source.html#l00375">performance_monitor.h:375</a></div></div>
<div class="ttc" id="atest__stress__performance_8cpp_html_a9a7918df3a794f88cf3ce0ed07f8695f"><div class="ttname"><a href="../../de/da5/test__stress__performance_8cpp.html#a9a7918df3a794f88cf3ce0ed07f8695f">DEBUG_BUILD_OVERHEAD_FACTOR</a></div><div class="ttdeci">constexpr double DEBUG_BUILD_OVERHEAD_FACTOR</div><div class="ttdef"><b>Definition</b> <a href="../../de/da5/test__stress__performance_8cpp_source.html#l00076">test_stress_performance.cpp:76</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d6c24fcaacffe36082c7ba720f45a62" name="a3d6c24fcaacffe36082c7ba720f45a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d6c24fcaacffe36082c7ba720f45a62">&#9670;&#160;</a></span>TEST_F() <span class="overload">[5/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MemoryLeakDetectionTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 2: Memory Leak Detection Test Tests for memory leaks under repeated allocation/deallocation </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00231">231</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  231</span>                                                       {</div>
<div class="line"><span class="lineno">  232</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> ITERATIONS = 1000;</div>
<div class="line"><span class="lineno">  233</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> OBJECTS_PER_ITERATION = 100;</div>
<div class="line"><span class="lineno">  234</span>    </div>
<div class="line"><span class="lineno">  235</span>    <span class="comment">// Track memory usage</span></div>
<div class="line"><span class="lineno">  236</span>    std::vector&lt;size_t&gt; memory_samples;</div>
<div class="line"><span class="lineno">  237</span>    </div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iter = 0; iter &lt; ITERATIONS; ++iter) {</div>
<div class="line"><span class="lineno">  239</span>        <span class="comment">// Create and destroy many objects</span></div>
<div class="line"><span class="lineno">  240</span>        std::vector&lt;std::unique_ptr&lt;distributed_tracer&gt;&gt; tracers;</div>
<div class="line"><span class="lineno">  241</span>        std::vector&lt;std::unique_ptr&lt;circuit_breaker&lt;bool&gt;&gt;&gt; breakers;</div>
<div class="line"><span class="lineno">  242</span>        </div>
<div class="line"><span class="lineno">  243</span>        <a class="code hl_struct" href="../../d3/def/structkcenon_1_1monitoring_1_1circuit__breaker__config.html">circuit_breaker_config</a> cb_config;</div>
<div class="line"><span class="lineno">  244</span>        cb_config.<a class="code hl_variable" href="../../d3/def/structkcenon_1_1monitoring_1_1circuit__breaker__config.html#ad9b2e2d082a0b5b27861de5590f917a2">failure_threshold</a> = 3;</div>
<div class="line"><span class="lineno">  245</span>        cb_config.<a class="code hl_variable" href="../../d3/def/structkcenon_1_1monitoring_1_1circuit__breaker__config.html#a6b360c1d83507168e0e93b8d50c1b6a3">reset_timeout</a> = 100ms;</div>
<div class="line"><span class="lineno">  246</span>        </div>
<div class="line"><span class="lineno">  247</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; OBJECTS_PER_ITERATION; ++i) {</div>
<div class="line"><span class="lineno">  248</span>            tracers.push_back(std::make_unique&lt;distributed_tracer&gt;());</div>
<div class="line"><span class="lineno">  249</span>            breakers.push_back(std::make_unique&lt;<a class="code hl_class" href="../../d0/d38/classkcenon_1_1monitoring_1_1circuit__breaker.html">circuit_breaker&lt;bool&gt;</a>&gt;(<span class="stringliteral">&quot;breaker_&quot;</span> + std::to_string(i), cb_config));</div>
<div class="line"><span class="lineno">  250</span>            </div>
<div class="line"><span class="lineno">  251</span>            <span class="comment">// Create spans</span></div>
<div class="line"><span class="lineno">  252</span>            <span class="keyword">auto</span> span = tracers.back()-&gt;start_span(<span class="stringliteral">&quot;test_span_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  253</span>            <span class="keywordflow">if</span> (span.is_ok()) {</div>
<div class="line"><span class="lineno">  254</span>                span.value()-&gt;tags[<span class="stringliteral">&quot;iteration&quot;</span>] = std::to_string(iter);</div>
<div class="line"><span class="lineno">  255</span>            }</div>
<div class="line"><span class="lineno">  256</span>        }</div>
<div class="line"><span class="lineno">  257</span>        </div>
<div class="line"><span class="lineno">  258</span>        <span class="comment">// Clear objects (should free memory)</span></div>
<div class="line"><span class="lineno">  259</span>        tracers.clear();</div>
<div class="line"><span class="lineno">  260</span>        breakers.clear();</div>
<div class="line"><span class="lineno">  261</span>        </div>
<div class="line"><span class="lineno">  262</span>        <span class="comment">// Sample memory usage periodically</span></div>
<div class="line"><span class="lineno">  263</span>        <span class="keywordflow">if</span> (iter % 100 == 0) {</div>
<div class="line"><span class="lineno">  264</span>            memory_samples.push_back(GetCurrentMemoryUsage());</div>
<div class="line"><span class="lineno">  265</span>        }</div>
<div class="line"><span class="lineno">  266</span>    }</div>
<div class="line"><span class="lineno">  267</span>    </div>
<div class="line"><span class="lineno">  268</span>    <span class="comment">// Analyze memory trend</span></div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordflow">if</span> (memory_samples.size() &gt; 2) {</div>
<div class="line"><span class="lineno">  270</span>        <span class="comment">// Check if memory is growing linearly (indicates leak)</span></div>
<div class="line"><span class="lineno">  271</span>        <span class="keywordtype">double</span> correlation = 0;</div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordtype">double</span> mean_x = memory_samples.size() / 2.0;</div>
<div class="line"><span class="lineno">  273</span>        <span class="keywordtype">double</span> mean_y = std::accumulate(memory_samples.begin(), memory_samples.end(), 0.0) / memory_samples.size();</div>
<div class="line"><span class="lineno">  274</span>        </div>
<div class="line"><span class="lineno">  275</span>        <span class="keywordtype">double</span> sum_xy = 0, sum_xx = 0;</div>
<div class="line"><span class="lineno">  276</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; memory_samples.size(); ++i) {</div>
<div class="line"><span class="lineno">  277</span>            sum_xy += (i - mean_x) * (memory_samples[i] - mean_y);</div>
<div class="line"><span class="lineno">  278</span>            sum_xx += (i - mean_x) * (i - mean_x);</div>
<div class="line"><span class="lineno">  279</span>        }</div>
<div class="line"><span class="lineno">  280</span>        </div>
<div class="line"><span class="lineno">  281</span>        <span class="keywordflow">if</span> (sum_xx &gt; 0) {</div>
<div class="line"><span class="lineno">  282</span>            correlation = sum_xy / sqrt(sum_xx);</div>
<div class="line"><span class="lineno">  283</span>        }</div>
<div class="line"><span class="lineno">  284</span>        </div>
<div class="line"><span class="lineno">  285</span>        <span class="comment">// High positive correlation indicates memory leak</span></div>
<div class="line"><span class="lineno">  286</span>        EXPECT_LT(correlation, 0.8) &lt;&lt; <span class="stringliteral">&quot;Potential memory leak detected&quot;</span>;</div>
<div class="line"><span class="lineno">  287</span>    }</div>
<div class="line"><span class="lineno">  288</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1circuit__breaker_html"><div class="ttname"><a href="../../d0/d38/classkcenon_1_1monitoring_1_1circuit__breaker.html">kcenon::monitoring::circuit_breaker</a></div><div class="ttdoc">Thread-safe circuit breaker implementation.</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dd4/circuit__breaker_8h_source.html#l00132">circuit_breaker.h:132</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1circuit__breaker__config_html"><div class="ttname"><a href="../../d3/def/structkcenon_1_1monitoring_1_1circuit__breaker__config.html">kcenon::monitoring::circuit_breaker_config</a></div><div class="ttdoc">Circuit breaker configuration.</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dd4/circuit__breaker_8h_source.html#l00061">circuit_breaker.h:61</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1circuit__breaker__config_html_a6b360c1d83507168e0e93b8d50c1b6a3"><div class="ttname"><a href="../../d3/def/structkcenon_1_1monitoring_1_1circuit__breaker__config.html#a6b360c1d83507168e0e93b8d50c1b6a3">kcenon::monitoring::circuit_breaker_config::reset_timeout</a></div><div class="ttdeci">std::chrono::milliseconds reset_timeout</div><div class="ttdoc">Time before half_open.</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dd4/circuit__breaker_8h_source.html#l00064">circuit_breaker.h:64</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1circuit__breaker__config_html_ad9b2e2d082a0b5b27861de5590f917a2"><div class="ttname"><a href="../../d3/def/structkcenon_1_1monitoring_1_1circuit__breaker__config.html#ad9b2e2d082a0b5b27861de5590f917a2">kcenon::monitoring::circuit_breaker_config::failure_threshold</a></div><div class="ttdeci">size_t failure_threshold</div><div class="ttdoc">Number of failures before opening.</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dd4/circuit__breaker_8h_source.html#l00062">circuit_breaker.h:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aadf4d87471055b0cf2239e2e9832277a" name="aadf4d87471055b0cf2239e2e9832277a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadf4d87471055b0cf2239e2e9832277a">&#9670;&#160;</a></span>TEST_F() <span class="overload">[6/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PerformanceDegradationTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 8: Performance Degradation Test Tests how performance degrades under increasing load </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00585">585</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  585</span>                                                          {</div>
<div class="line"><span class="lineno">  586</span>    <span class="keyword">auto</span> tracer = std::make_unique&lt;distributed_tracer&gt;();</div>
<div class="line"><span class="lineno">  587</span>    </div>
<div class="line"><span class="lineno">  588</span>    <span class="keyword">struct </span>LoadLevel {</div>
<div class="line"><span class="lineno">  589</span>        <span class="keywordtype">int</span> threads;</div>
<div class="line"><span class="lineno">  590</span>        <span class="keywordtype">int</span> operations;</div>
<div class="line"><span class="lineno">  591</span>        <span class="keywordtype">double</span> avg_latency;</div>
<div class="line"><span class="lineno">  592</span>        <span class="keywordtype">double</span> throughput;</div>
<div class="line"><span class="lineno">  593</span>    };</div>
<div class="line"><span class="lineno">  594</span>    </div>
<div class="line"><span class="lineno">  595</span>    std::vector&lt;LoadLevel&gt; load_levels = {</div>
<div class="line"><span class="lineno">  596</span>        {1, 1000, 0, 0},</div>
<div class="line"><span class="lineno">  597</span>        {5, 1000, 0, 0},</div>
<div class="line"><span class="lineno">  598</span>        {10, 1000, 0, 0},</div>
<div class="line"><span class="lineno">  599</span>        {20, 1000, 0, 0},</div>
<div class="line"><span class="lineno">  600</span>        {50, 1000, 0, 0},</div>
<div class="line"><span class="lineno">  601</span>        {100, 1000, 0, 0}</div>
<div class="line"><span class="lineno">  602</span>    };</div>
<div class="line"><span class="lineno">  603</span>    </div>
<div class="line"><span class="lineno">  604</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; level : load_levels) {</div>
<div class="line"><span class="lineno">  605</span>        std::atomic&lt;int64_t&gt; total_latency_us{0};</div>
<div class="line"><span class="lineno">  606</span>        std::atomic&lt;int&gt; completed_ops{0};</div>
<div class="line"><span class="lineno">  607</span>        </div>
<div class="line"><span class="lineno">  608</span>        <span class="keyword">auto</span> start_time = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  609</span>        </div>
<div class="line"><span class="lineno">  610</span>        std::vector&lt;std::thread&gt; threads;</div>
<div class="line"><span class="lineno">  611</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; level.threads; ++t) {</div>
<div class="line"><span class="lineno">  612</span>            threads.emplace_back([&amp;]() {</div>
<div class="line"><span class="lineno">  613</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; level.operations / level.threads; ++i) {</div>
<div class="line"><span class="lineno">  614</span>                    <span class="keyword">auto</span> op_start = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  615</span>                    </div>
<div class="line"><span class="lineno">  616</span>                    <span class="keyword">auto</span> span = tracer-&gt;start_span(<span class="stringliteral">&quot;degradation_op&quot;</span>);</div>
<div class="line"><span class="lineno">  617</span>                    <span class="keywordflow">if</span> (span.is_ok()) {</div>
<div class="line"><span class="lineno">  618</span>                        span.value()-&gt;tags[<span class="stringliteral">&quot;load_level&quot;</span>] = std::to_string(level.threads);</div>
<div class="line"><span class="lineno">  619</span>                        completed_ops++;</div>
<div class="line"><span class="lineno">  620</span>                    }</div>
<div class="line"><span class="lineno">  621</span>                    </div>
<div class="line"><span class="lineno">  622</span>                    <span class="keyword">auto</span> op_end = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  623</span>                    total_latency_us += std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(</div>
<div class="line"><span class="lineno">  624</span>                        op_end - op_start).count();</div>
<div class="line"><span class="lineno">  625</span>                }</div>
<div class="line"><span class="lineno">  626</span>            });</div>
<div class="line"><span class="lineno">  627</span>        }</div>
<div class="line"><span class="lineno">  628</span>        </div>
<div class="line"><span class="lineno">  629</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; thread : threads) {</div>
<div class="line"><span class="lineno">  630</span>            thread.join();</div>
<div class="line"><span class="lineno">  631</span>        }</div>
<div class="line"><span class="lineno">  632</span>        </div>
<div class="line"><span class="lineno">  633</span>        <span class="keyword">auto</span> end_time = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  634</span>        <span class="keyword">auto</span> duration = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(</div>
<div class="line"><span class="lineno">  635</span>            end_time - start_time).count();</div>
<div class="line"><span class="lineno">  636</span>        </div>
<div class="line"><span class="lineno">  637</span>        level.avg_latency = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(total_latency_us) / completed_ops;</div>
<div class="line"><span class="lineno">  638</span>        level.throughput = (completed_ops * 1000.0) / duration;</div>
<div class="line"><span class="lineno">  639</span>        </div>
<div class="line"><span class="lineno">  640</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Load level &quot;</span> &lt;&lt; level.threads &lt;&lt; <span class="stringliteral">&quot; threads: &quot;</span></div>
<div class="line"><span class="lineno">  641</span>                  &lt;&lt; <span class="stringliteral">&quot;throughput=&quot;</span> &lt;&lt; level.throughput &lt;&lt; <span class="stringliteral">&quot; ops/sec, &quot;</span></div>
<div class="line"><span class="lineno">  642</span>                  &lt;&lt; <span class="stringliteral">&quot;avg_latency=&quot;</span> &lt;&lt; level.avg_latency &lt;&lt; <span class="stringliteral">&quot; s&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  643</span>    }</div>
<div class="line"><span class="lineno">  644</span>    </div>
<div class="line"><span class="lineno">  645</span>    <span class="comment">// Check for graceful degradation</span></div>
<div class="line"><span class="lineno">  646</span>    <span class="comment">// Verify all load levels completed successfully</span></div>
<div class="line"><span class="lineno">  647</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; level : load_levels) {</div>
<div class="line"><span class="lineno">  648</span>        EXPECT_GT(level.throughput, 0) &lt;&lt; <span class="stringliteral">&quot;Load level &quot;</span> &lt;&lt; level.threads</div>
<div class="line"><span class="lineno">  649</span>            &lt;&lt; <span class="stringliteral">&quot; should have non-zero throughput&quot;</span>;</div>
<div class="line"><span class="lineno">  650</span>        EXPECT_GT(level.avg_latency, 0) &lt;&lt; <span class="stringliteral">&quot;Load level &quot;</span> &lt;&lt; level.threads</div>
<div class="line"><span class="lineno">  651</span>            &lt;&lt; <span class="stringliteral">&quot; should have measurable latency&quot;</span>;</div>
<div class="line"><span class="lineno">  652</span>    }</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>    <span class="comment">// Verify we can handle maximum load (100 threads)</span></div>
<div class="line"><span class="lineno">  655</span>    EXPECT_GT(load_levels.back().throughput, 10000.0)</div>
<div class="line"><span class="lineno">  656</span>        &lt;&lt; <span class="stringliteral">&quot;System should maintain &gt;10K ops/sec at high load&quot;</span>;</div>
<div class="line"><span class="lineno">  657</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ade7260b63ca633652f60a91147beae9b" name="ade7260b63ca633652f60a91147beae9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade7260b63ca633652f60a91147beae9b">&#9670;&#160;</a></span>TEST_F() <span class="overload">[7/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ResourceExhaustionTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 4: Resource Exhaustion Test Tests behavior when resources are exhausted </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00360">360</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  360</span>                                                      {</div>
<div class="line"><span class="lineno">  361</span>    <span class="comment">// Create storage with small capacity</span></div>
<div class="line"><span class="lineno">  362</span>    <a class="code hl_struct" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html">storage_config</a> config;</div>
<div class="line"><span class="lineno">  363</span>    config.<a class="code hl_variable" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#a5470889434a9f2c7dab29555dcb3fe0e">type</a> = storage_backend_type::memory_buffer;</div>
<div class="line"><span class="lineno">  364</span>    config.<a class="code hl_variable" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#ac188a463b7a7516db25844e62991a510">max_capacity</a> = 100; <span class="comment">// Small capacity</span></div>
<div class="line"><span class="lineno">  365</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a> = std::make_unique&lt;file_storage_backend&gt;(config);</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>    <span class="comment">// Track results</span></div>
<div class="line"><span class="lineno">  368</span>    <span class="keywordtype">int</span> successful_stores = 0;</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>    <span class="comment">// Try to store more than capacity</span></div>
<div class="line"><span class="lineno">  371</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 1000; ++i) {</div>
<div class="line"><span class="lineno">  372</span>        <a class="code hl_struct" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html">metrics_snapshot</a> snapshot;</div>
<div class="line"><span class="lineno">  373</span>        snapshot.<a class="code hl_function" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html#a91c4bb5a196e0ace7716f2d6c54eb1a7">add_metric</a>(<span class="stringliteral">&quot;test_metric&quot;</span>, i);</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>        <span class="keyword">auto</span> result = <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a>-&gt;store(snapshot);</div>
<div class="line"><span class="lineno">  376</span>        <span class="keywordflow">if</span> (result.is_ok()) {</div>
<div class="line"><span class="lineno">  377</span>            successful_stores++;</div>
<div class="line"><span class="lineno">  378</span>        }</div>
<div class="line"><span class="lineno">  379</span>    }</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>    <span class="comment">// Storage should handle capacity by evicting old data</span></div>
<div class="line"><span class="lineno">  382</span>    <span class="comment">// All stores should succeed as old entries are removed</span></div>
<div class="line"><span class="lineno">  383</span>    EXPECT_EQ(successful_stores, 1000);</div>
<div class="line"><span class="lineno">  384</span>    <span class="comment">// Size should be limited to max_capacity</span></div>
<div class="line"><span class="lineno">  385</span>    EXPECT_EQ(<a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a>-&gt;size(), config.<a class="code hl_variable" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#ac188a463b7a7516db25844e62991a510">max_capacity</a>);</div>
<div class="line"><span class="lineno">  386</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/da5/test__stress__performance_8cpp_ade7260b63ca633652f60a91147beae9b_cgraph.png" border="0" usemap="#ade/da5/test__stress__performance_8cpp_ade7260b63ca633652f60a91147beae9b_cgraph" alt=""/></div>
<map name="ade/da5/test__stress__performance_8cpp_ade7260b63ca633652f60a91147beae9b_cgraph" id="ade/da5/test__stress__performance_8cpp_ade7260b63ca633652f60a91147beae9b_cgraph">
<area shape="rect" title=" " alt="" coords="5,20,75,45"/>
<area shape="rect" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html#a91c4bb5a196e0ace7716f2d6c54eb1a7" title="Add a metric to the snapshot." alt="" coords="123,5,276,60"/>
<area shape="poly" title=" " alt="" coords="75,30,109,30,109,35,75,35"/>
</map>
</div>

</div>
</div>
<a id="a6a8ace21bd9bec4ff3d0913957a9b6e5" name="a6a8ace21bd9bec4ff3d0913957a9b6e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a8ace21bd9bec4ff3d0913957a9b6e5">&#9670;&#160;</a></span>TEST_F() <span class="overload">[8/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SustainedLoadTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 5: Sustained Load Test Tests system stability under sustained moderate load </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00392">392</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  392</span>                                                 {</div>
<div class="line"><span class="lineno">  393</span>    <span class="keyword">const</span> <span class="keyword">auto</span> TEST_DURATION = 5s; <span class="comment">// Reduced to 5 seconds for faster testing</span></div>
<div class="line"><span class="lineno">  394</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_THREADS = 10;</div>
<div class="line"><span class="lineno">  395</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> OPS_PER_CYCLE = 100;</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>    <span class="keyword">auto</span> tracer = std::make_unique&lt;distributed_tracer&gt;();</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>    std::atomic&lt;int64_t&gt; total_operations{0};</div>
<div class="line"><span class="lineno">  400</span>    std::atomic&lt;int64_t&gt; failed_operations{0};</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>    <span class="comment">// Worker threads</span></div>
<div class="line"><span class="lineno">  403</span>    std::vector&lt;std::thread&gt; workers;</div>
<div class="line"><span class="lineno">  404</span>    <span class="keyword">auto</span> start_time = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; NUM_THREADS; ++t) {</div>
<div class="line"><span class="lineno">  407</span>        workers.emplace_back([&amp;, t]() {</div>
<div class="line"><span class="lineno">  408</span>            <span class="keywordflow">while</span> (std::chrono::steady_clock::now() - start_time &lt; TEST_DURATION) {</div>
<div class="line"><span class="lineno">  409</span>                <span class="comment">// Perform operations</span></div>
<div class="line"><span class="lineno">  410</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; OPS_PER_CYCLE; ++i) {</div>
<div class="line"><span class="lineno">  411</span>                    <span class="keyword">auto</span> span = tracer-&gt;start_span(<span class="stringliteral">&quot;sustained_op&quot;</span>);</div>
<div class="line"><span class="lineno">  412</span>                    <span class="keywordflow">if</span> (span.is_ok()) {</div>
<div class="line"><span class="lineno">  413</span>                        span.value()-&gt;tags[<span class="stringliteral">&quot;thread&quot;</span>] = std::to_string(t);</div>
<div class="line"><span class="lineno">  414</span>                        total_operations++;</div>
<div class="line"><span class="lineno">  415</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  416</span>                        failed_operations++;</div>
<div class="line"><span class="lineno">  417</span>                    }</div>
<div class="line"><span class="lineno">  418</span>                }</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>                <span class="comment">// Small sleep to prevent CPU overload</span></div>
<div class="line"><span class="lineno">  421</span>                std::this_thread::sleep_for(10ms);</div>
<div class="line"><span class="lineno">  422</span>            }</div>
<div class="line"><span class="lineno">  423</span>        });</div>
<div class="line"><span class="lineno">  424</span>    }</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>    <span class="comment">// Wait for workers</span></div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; worker : workers) {</div>
<div class="line"><span class="lineno">  428</span>        worker.join();</div>
<div class="line"><span class="lineno">  429</span>    }</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>    <span class="comment">// Calculate results</span></div>
<div class="line"><span class="lineno">  432</span>    <span class="keyword">auto</span> duration = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(</div>
<div class="line"><span class="lineno">  433</span>        std::chrono::steady_clock::now() - start_time);</div>
<div class="line"><span class="lineno">  434</span>    <span class="keywordtype">double</span> avg_throughput = (<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(total_operations) * 1000.0) / duration.count();</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n=== Sustained Load Test Results ===&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  437</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Duration: &quot;</span> &lt;&lt; duration.count() &lt;&lt; <span class="stringliteral">&quot; ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  438</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Total operations: &quot;</span> &lt;&lt; total_operations &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  439</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Failed operations: &quot;</span> &lt;&lt; failed_operations &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  440</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Average throughput: &quot;</span> &lt;&lt; avg_throughput &lt;&lt; <span class="stringliteral">&quot; ops/sec&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>    <span class="comment">// System should remain stable with minimal failures</span></div>
<div class="line"><span class="lineno">  443</span>    EXPECT_EQ(failed_operations, 0);</div>
<div class="line"><span class="lineno">  444</span>    EXPECT_GT(total_operations, 0);</div>
<div class="line"><span class="lineno">  445</span>    EXPECT_GT(avg_throughput, 1000.0); <span class="comment">// At least 1000 ops/sec</span></div>
<div class="line"><span class="lineno">  446</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9a7918df3a794f88cf3ce0ed07f8695f" name="a9a7918df3a794f88cf3ce0ed07f8695f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a7918df3a794f88cf3ce0ed07f8695f">&#9670;&#160;</a></span>DEBUG_BUILD_OVERHEAD_FACTOR</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr double DEBUG_BUILD_OVERHEAD_FACTOR = <a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a3f683326c51962a3c43e20df0f0d700d">IS_RELEASE_BUILD</a> ? 1.0 : 2.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00076">76</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>

</div>
</div>
<a id="a3f683326c51962a3c43e20df0f0d700d" name="a3f683326c51962a3c43e20df0f0d700d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f683326c51962a3c43e20df0f0d700d">&#9670;&#160;</a></span>IS_RELEASE_BUILD</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr bool IS_RELEASE_BUILD = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00072">72</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>

</div>
</div>
<a id="a67884643e97237488ddcb66dbd76e94e" name="a67884643e97237488ddcb66dbd76e94e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67884643e97237488ddcb66dbd76e94e">&#9670;&#160;</a></span>SANITIZER_OVERHEAD_FACTOR</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr double SANITIZER_OVERHEAD_FACTOR = <a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a1d103acc1543ddcc0a3485fc9d6e688c">RUNNING_WITH_ASAN</a> ? 2.0 : 1.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00065">65</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jan 24 2026 11:45:56 for Monitoring System by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
