<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monitoring System: tests/test_stress_performance.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Monitoring System
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_59425e443f801f1f2fd8bbe4959a3ccf.html">tests</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">test_stress_performance.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Stress testing for the monitoring system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;gtest/gtest.h&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;vector&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;random&gt;</code><br />
<code>#include &lt;memory&gt;</code><br />
<code>#include &lt;future&gt;</code><br />
<code>#include &lt;condition_variable&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;numeric&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;filesystem&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d1/d7d/result__types_8h_source.html">kcenon/monitoring/core/result_types.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d1/d6e/monitoring__core_8h_source.html">kcenon/monitoring/interfaces/monitoring_core.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d0/d07/distributed__tracer_8h_source.html">kcenon/monitoring/tracing/distributed_tracer.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d7/db1/performance__monitor_8h_source.html">kcenon/monitoring/core/performance_monitor.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d6/d73/adaptive__monitor_8h_source.html">kcenon/monitoring/adaptive/adaptive_monitor.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d8/d34/health__monitor_8h_source.html">kcenon/monitoring/health/health_monitor.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d2/dd4/circuit__breaker_8h_source.html">kcenon/monitoring/reliability/circuit_breaker.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../dd/d82/fault__tolerance__manager_8h_source.html">kcenon/monitoring/reliability/fault_tolerance_manager.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../de/d92/opentelemetry__adapter_8h_source.html">kcenon/monitoring/exporters/opentelemetry_adapter.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../db/d31/storage__backends_8h_source.html">kcenon/monitoring/storage/storage_backends.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for test_stress_performance.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d87/test__stress__performance_8cpp__incl.png" border="0" usemap="#atests_2test__stress__performance_8cpp" alt=""/></div>
<map name="atests_2test__stress__performance_8cpp" id="atests_2test__stress__performance_8cpp">
<area shape="rect" title="Stress testing for the monitoring system." alt="" coords="3215,5,3461,31"/>
<area shape="rect" title=" " alt="" coords="146,86,250,111"/>
<area shape="poly" title=" " alt="" coords="3215,23,2570,27,1651,38,778,55,458,67,269,81,248,85,247,80,268,76,458,62,778,50,1651,32,2569,22,3215,17"/>
<area shape="rect" title=" " alt="" coords="4445,269,4509,295"/>
<area shape="poly" title=" " alt="" coords="3462,19,3782,25,4181,37,4544,54,4674,64,4752,76,4805,89,4847,102,4883,124,4899,142,4915,165,4923,187,4921,198,4915,208,4887,229,4846,245,4795,258,4737,267,4619,278,4522,283,4522,277,4619,273,4736,262,4793,252,4844,240,4884,224,4911,205,4916,196,4918,188,4910,168,4895,145,4879,128,4845,107,4803,94,4751,81,4674,69,4543,59,4181,42,3782,31,3462,24"/>
<area shape="rect" title=" " alt="" coords="1293,269,1359,295"/>
<area shape="poly" title=" " alt="" coords="3214,22,2722,24,2055,31,1724,39,1431,49,1205,63,1125,72,1072,81,1018,94,975,106,939,128,923,145,907,168,900,188,901,196,907,205,932,224,970,239,1018,251,1072,260,1185,272,1279,277,1278,282,1184,278,1072,266,1017,256,968,244,929,228,903,208,896,198,894,187,902,165,919,141,936,124,973,101,1017,89,1071,76,1124,66,1205,58,1431,44,1724,33,2054,26,2722,18,3214,17"/>
<area shape="rect" title=" " alt="" coords="3000,269,3063,295"/>
<area shape="poly" title=" " alt="" coords="3462,21,3590,28,3724,40,3835,55,3872,65,3893,77,3899,87,3900,97,3894,119,3887,169,3878,190,3859,209,3823,222,3758,232,3581,245,3294,257,3077,279,3076,273,3294,252,3581,240,3757,227,3821,217,3857,204,3874,187,3882,168,3889,118,3894,97,3894,89,3889,81,3870,70,3834,61,3724,45,3590,34,3462,27"/>
<area shape="rect" title=" " alt="" coords="4141,269,4207,295"/>
<area shape="poly" title=" " alt="" coords="3462,19,3812,31,4030,41,4253,56,4465,75,4647,99,4722,113,4783,128,4828,146,4856,165,4863,176,4866,187,4863,198,4856,209,4841,218,4816,225,4744,236,4650,242,4544,245,4340,248,4264,251,4220,257,4203,265,4201,260,4219,252,4264,246,4340,243,4544,240,4650,237,4744,230,4815,220,4839,213,4852,205,4858,196,4860,187,4858,178,4852,169,4826,150,4781,133,4721,118,4646,104,4464,80,4253,61,4030,46,3812,36,3461,25"/>
<area shape="rect" title=" " alt="" coords="5018,86,5090,111"/>
<area shape="poly" title=" " alt="" coords="3461,16,3801,18,4245,26,4471,33,4682,44,4863,58,5000,76,5013,79,5012,84,4999,81,4862,63,4681,49,4471,39,4244,31,3801,23,3461,22"/>
<area shape="rect" title=" " alt="" coords="815,269,893,295"/>
<area shape="poly" title=" " alt="" coords="3215,23,2556,29,1635,41,805,58,535,69,455,75,420,81,384,107,358,138,351,154,350,171,354,188,365,205,391,223,429,235,476,242,528,245,632,248,712,252,802,268,801,273,711,257,632,253,528,251,475,247,428,240,389,228,361,209,349,190,345,171,346,153,353,135,380,103,418,76,455,70,535,64,805,53,1635,35,2555,24,3215,18"/>
<area shape="rect" title=" " alt="" coords="375,174,437,199"/>
<area shape="poly" title=" " alt="" coords="3215,23,2562,28,1653,39,835,57,569,68,490,74,457,81,439,97,427,118,412,161,407,160,422,116,435,94,454,76,490,69,568,63,835,51,1653,34,2562,23,3215,17"/>
<area shape="rect" title=" " alt="" coords="4699,174,4841,199"/>
<area shape="poly" title=" " alt="" coords="3462,26,3690,45,3993,74,4335,114,4680,164,4705,169,4705,174,4679,169,4334,119,3992,79,3689,50,3461,31"/>
<area shape="rect" title=" " alt="" coords="3306,269,3391,295"/>
<area shape="poly" title=" " alt="" coords="3462,20,3601,27,3749,38,3872,54,3914,64,3937,77,3959,109,3966,142,3959,176,3937,209,3870,222,3722,241,3405,277,3405,272,3721,236,3869,217,3934,204,3954,174,3961,142,3954,112,3934,81,3912,69,3871,59,3749,43,3601,32,3461,26"/>
<area shape="rect" title=" " alt="" coords="4231,269,4306,295"/>
<area shape="poly" title=" " alt="" coords="3461,17,3732,21,4071,31,4400,48,4535,61,4638,76,4713,86,4775,94,4803,101,4829,115,4854,135,4879,165,4907,199,4927,216,4931,226,4909,227,4857,225,4765,226,4627,235,4433,257,4320,275,4319,269,4432,252,4626,230,4765,221,4857,220,4909,222,4927,223,4923,220,4903,202,4875,168,4851,139,4826,119,4801,106,4774,99,4713,91,4638,81,4535,66,4399,54,4071,36,3732,27,3461,23"/>
<area shape="rect" title=" " alt="" coords="5115,86,5188,111"/>
<area shape="poly" title=" " alt="" coords="3462,18,4363,37,4831,54,5001,65,5102,76,5114,79,5112,84,5102,81,5001,70,4831,60,4362,43,3462,24"/>
<area shape="rect" title=" " alt="" coords="5213,86,5303,111"/>
<area shape="poly" title=" " alt="" coords="3462,16,3838,17,4341,24,4598,31,4838,42,5045,57,5201,76,5216,79,5214,84,5200,81,5044,62,4838,47,4598,36,4340,29,3838,22,3462,21"/>
<area shape="rect" href="../../d1/d7d/result__types_8h.html" title="Result pattern type definitions for monitoring system." alt="" coords="1974,262,2150,302"/>
<area shape="poly" title=" " alt="" coords="3215,26,2786,46,2567,61,2408,81,2328,95,2266,106,2208,127,2142,169,2122,187,2105,208,2079,251,2074,248,2100,205,2118,183,2139,165,2206,122,2265,101,2328,89,2407,76,2566,56,2786,40,3214,21"/>
<area shape="rect" href="../../d1/d6e/monitoring__core_8h.html" title="Core monitoring system interface definitions." alt="" coords="2223,167,2437,207"/>
<area shape="poly" title=" " alt="" coords="3215,23,3033,26,2822,35,2625,53,2545,66,2484,81,2449,97,2416,117,2361,159,2358,155,2413,113,2447,92,2482,76,2544,60,2624,48,2822,30,3033,21,3215,17"/>
<area shape="rect" href="../../d0/d07/distributed__tracer_8h.html" title=" " alt="" coords="5,167,199,207"/>
<area shape="poly" title=" " alt="" coords="3214,22,2550,26,1613,36,753,53,461,66,369,73,320,81,303,89,291,99,263,121,169,164,166,159,261,116,288,95,300,85,319,76,368,68,461,61,753,48,1613,30,2550,21,3214,17"/>
<area shape="rect" href="../../d7/db1/performance__monitor_8h.html" title="Performance monitoring and profiling implementation." alt="" coords="3249,79,3427,119"/>
<area shape="poly" title=" " alt="" coords="3341,31,3341,65,3335,65,3335,31"/>
<area shape="rect" href="../../d6/d73/adaptive__monitor_8h.html" title=" " alt="" coords="5327,79,5533,119"/>
<area shape="poly" title=" " alt="" coords="3462,18,4381,36,4913,53,5138,64,5314,76,5313,81,5138,69,4913,58,4381,41,3462,24"/>
<area shape="rect" href="../../d8/d34/health__monitor_8h.html" title=" " alt="" coords="3690,79,3879,119"/>
<area shape="poly" title=" " alt="" coords="3403,28,3677,76,3676,81,3402,33"/>
<area shape="rect" href="../../d2/dd4/circuit__breaker_8h.html" title=" " alt="" coords="1685,167,1895,207"/>
<area shape="poly" title=" " alt="" coords="3215,23,2950,26,2619,36,2298,53,2167,66,2067,81,2004,98,1943,119,1841,163,1838,158,1941,114,2003,93,2065,76,2166,60,2298,48,2618,30,2949,21,3215,17"/>
<area shape="rect" href="../../dd/d82/fault__tolerance__manager_8h.html" title=" " alt="" coords="1685,79,1895,119"/>
<area shape="poly" title=" " alt="" coords="3214,25,2672,42,2320,59,1965,81,1909,86,1909,81,1964,76,2320,53,2672,37,3214,19"/>
<area shape="rect" href="../../de/d92/opentelemetry__adapter_8h.html" title="OpenTelemetry compatibility layer for monitoring system integration." alt="" coords="1083,79,1294,119"/>
<area shape="poly" title=" " alt="" coords="3214,26,1673,81,1308,95,1308,90,1673,76,3214,21"/>
<area shape="rect" href="../../db/d31/storage__backends_8h.html" title=" " alt="" coords="2495,79,2693,119"/>
<area shape="poly" title=" " alt="" coords="3230,33,2706,88,2706,83,3230,28"/>
<area shape="rect" href="../../de/d11/error__codes_8h.html" title="Monitoring system specific error codes." alt="" coords="964,365,1075,390"/>
<area shape="poly" title=" " alt="" coords="1998,305,1962,312,1838,330,1711,344,1463,364,1246,374,1089,378,1088,373,1245,369,1462,359,1711,339,1838,325,1962,307,1997,299"/>
<area shape="rect" title=" " alt="" coords="1849,445,1907,471"/>
<area shape="poly" title=" " alt="" coords="2022,305,1982,328,1943,359,1913,397,1892,434,1887,431,1908,394,1939,355,1979,324,2020,300"/>
<area shape="rect" title=" " alt="" coords="1953,357,2141,397"/>
<area shape="poly" title=" " alt="" coords="2062,303,2055,344,2050,343,2056,302"/>
<area shape="rect" title=" " alt="" coords="2166,365,2241,390"/>
<area shape="poly" title=" " alt="" coords="2092,300,2176,355,2173,359,2089,304"/>
<area shape="rect" title=" " alt="" coords="986,445,1053,471"/>
<area shape="poly" title=" " alt="" coords="1022,390,1022,431,1017,431,1017,390"/>
<area shape="poly" title=" " alt="" coords="1062,387,1098,395,1314,422,1527,439,1835,453,1835,458,1526,444,1314,427,1098,400,1061,393"/>
<area shape="poly" title=" " alt="" coords="2223,200,1592,257,1373,279,1373,273,1591,252,2223,195"/>
<area shape="poly" title=" " alt="" coords="2437,197,2506,204,2638,213,2741,216,2843,225,2972,252,2998,261,2996,266,2971,257,2842,231,2741,222,2638,219,2506,209,2437,202"/>
<area shape="poly" title=" " alt="" coords="2223,197,907,280,907,275,2223,192"/>
<area shape="poly" title=" " alt="" coords="2277,209,2130,260,2128,255,2275,204"/>
<area shape="poly" title=" " alt="" coords="2300,209,2229,257,2211,273,2198,287,2184,300,2163,312,2097,326,1985,338,1675,357,1340,370,1088,377,1088,372,1340,365,1675,352,1985,333,2096,321,2161,307,2181,296,2195,283,2207,269,2226,253,2297,205"/>
<area shape="poly" title=" " alt="" coords="2348,205,2363,227,2376,253,2382,282,2376,310,2353,346,2327,368,2294,384,2254,400,2164,429,2072,446,1987,455,1921,459,1921,454,1987,450,2071,441,2162,423,2252,395,2292,379,2324,364,2349,343,2372,308,2377,282,2371,255,2359,229,2344,208"/>
<area shape="poly" title=" " alt="" coords="2310,209,2287,231,2266,256,2236,307,2215,353,2210,351,2231,304,2261,253,2283,227,2306,205"/>
<area shape="rect" title=" " alt="" coords="1604,269,1691,295"/>
<area shape="poly" title=" " alt="" coords="2223,193,2115,199,1987,211,1848,229,1712,257,1684,266,1683,261,1711,252,1847,224,1986,205,2115,194,2223,188"/>
<area shape="rect" title=" " alt="" coords="2836,269,2960,295"/>
<area shape="poly" title=" " alt="" coords="2437,203,2823,266,2822,271,2436,208"/>
<area shape="rect" title=" " alt="" coords="2276,269,2363,295"/>
<area shape="poly" title=" " alt="" coords="2330,207,2325,256,2320,255,2325,206"/>
<area shape="rect" title=" " alt="" coords="29,255,175,309"/>
<area shape="poly" title=" " alt="" coords="105,207,105,241,99,241,99,207"/>
<area shape="poly" title=" " alt="" coords="3428,102,3876,130,4097,148,4224,164,4288,184,4349,210,4446,260,4444,265,4347,215,4286,189,4223,169,4096,153,3875,136,3427,108"/>
<area shape="poly" title=" " alt="" coords="3248,105,2140,140,1323,169,1313,188,1310,211,1313,234,1319,256,1314,257,1308,235,1305,211,1308,186,1321,164,2140,135,3248,100"/>
<area shape="poly" title=" " alt="" coords="3384,116,3416,134,3444,156,3453,168,3459,181,3458,195,3451,209,3431,220,3396,230,3293,250,3077,279,3076,273,3292,245,3394,225,3429,215,3447,205,3453,193,3453,182,3449,171,3440,160,3413,139,3381,121"/>
<area shape="poly" title=" " alt="" coords="3428,103,3865,134,4066,151,4157,164,4172,185,4179,209,4181,256,4175,256,4174,210,4167,187,4154,169,4065,157,3865,140,3427,109"/>
<area shape="poly" title=" " alt="" coords="3248,105,2705,121,1777,133,1157,147,949,157,887,163,862,169,850,188,846,210,850,256,844,256,840,210,845,186,859,164,886,158,948,152,1157,142,1777,127,2705,116,3248,100"/>
<area shape="poly" title=" " alt="" coords="3429,116,3465,136,3482,149,3495,165,3502,182,3500,199,3492,214,3479,227,3442,250,3401,267,3399,262,3439,245,3475,223,3488,211,3495,197,3497,183,3490,168,3478,153,3462,140,3426,121"/>
<area shape="poly" title=" " alt="" coords="3428,102,3872,131,4081,149,4151,157,4184,164,4210,183,4232,208,4261,255,4256,258,4227,211,4207,187,4182,169,4150,162,4081,154,3872,136,3427,108"/>
<area shape="poly" title=" " alt="" coords="3249,105,3144,111,3016,123,2877,142,2740,169,2711,179,2689,189,2667,199,2637,209,2534,231,2452,241,2369,247,2264,257,2164,270,2163,265,2263,252,2369,241,2451,235,2533,226,2636,204,2665,194,2687,184,2709,174,2739,164,2877,136,3016,118,3144,106,3248,100"/>
<area shape="poly" title=" " alt="" coords="3248,105,2705,121,2381,122,1765,124,1440,129,1152,137,940,150,874,159,841,169,808,199,796,216,789,233,786,251,788,270,794,289,805,308,835,336,872,355,912,366,951,372,950,378,910,372,870,360,832,340,801,311,789,291,782,271,781,251,784,231,792,213,804,195,838,164,873,154,939,145,1152,132,1440,124,1765,119,2381,116,2705,116,3248,100"/>
<area shape="poly" title=" " alt="" coords="3428,109,3478,130,3500,145,3518,165,3530,194,3528,219,3516,242,3496,262,3446,292,3404,312,3345,335,3271,356,3185,374,3088,390,2873,416,2643,434,2416,446,2208,454,1922,459,1922,454,2208,448,2415,441,2643,429,2873,410,3088,385,3184,369,3270,351,3343,330,3402,307,3444,288,3492,258,3511,239,3523,218,3525,195,3513,168,3496,149,3475,134,3426,114"/>
<area shape="poly" title=" " alt="" coords="3248,110,2550,169,2451,178,2450,172,2550,164,3248,105"/>
<area shape="poly" title=" " alt="" coords="3248,105,2312,136,1839,155,1688,163,1630,169,1620,188,1620,211,1626,235,1636,256,1631,258,1621,236,1615,212,1615,187,1627,164,1688,157,1838,149,2312,130,3248,100"/>
<area shape="poly" title=" " alt="" coords="3293,121,2939,267,2937,262,3291,116"/>
<area shape="rect" title=" " alt="" coords="2563,174,2625,199"/>
<area shape="poly" title=" " alt="" coords="3248,104,3128,109,2976,120,2810,139,2645,169,2635,172,2633,167,2644,164,2810,134,2976,114,3127,104,3248,99"/>
<area shape="rect" title=" " alt="" coords="1886,269,1950,295"/>
<area shape="poly" title=" " alt="" coords="3249,105,3017,112,2718,124,2425,143,2304,155,2212,169,1963,257,1948,265,1946,260,1961,252,2211,164,2303,150,2424,138,2718,119,3017,106,3248,99"/>
<area shape="rect" title=" " alt="" coords="3613,269,3676,295"/>
<area shape="poly" title=" " alt="" coords="3428,102,3470,109,3514,121,3557,139,3596,165,3614,185,3627,209,3643,255,3638,257,3623,211,3610,188,3592,169,3555,144,3513,126,3469,114,3427,107"/>
<area shape="rect" title=" " alt="" coords="3663,174,3778,199"/>
<area shape="poly" title=" " alt="" coords="3428,116,3645,164,3662,168,3661,173,3644,169,3426,121"/>
<area shape="rect" href="../../d7/dc5/statistics_8h.html" title="Generic statistics utilities for percentile calculations." alt="" coords="4005,174,4143,199"/>
<area shape="poly" title=" " alt="" coords="3428,108,3992,173,3992,178,3427,113"/>
<area shape="rect" title=" " alt="" coords="3239,167,3437,207"/>
<area shape="poly" title=" " alt="" coords="3341,119,3341,153,3335,153,3335,119"/>
<area shape="poly" title=" " alt="" coords="4006,201,3936,209,3755,226,3615,235,3294,257,3077,279,3076,273,3294,252,3615,230,3755,221,3935,204,4005,195"/>
<area shape="poly" title=" " alt="" coords="4025,202,3986,209,3704,245,3405,277,3405,272,3704,240,3986,204,4024,197"/>
<area shape="poly" title=" " alt="" coords="4101,197,4220,252,4237,261,4234,265,4218,257,4099,202"/>
<area shape="poly" title=" " alt="" coords="4022,202,3690,274,3689,268,4021,197"/>
<area shape="rect" title=" " alt="" coords="4041,269,4112,295"/>
<area shape="poly" title=" " alt="" coords="4077,199,4079,255,4073,256,4072,199"/>
<area shape="rect" title=" " alt="" coords="3925,269,4017,295"/>
<area shape="poly" title=" " alt="" coords="4063,201,3996,262,3993,258,4060,197"/>
<area shape="rect" title=" " alt="" coords="5339,174,5521,199"/>
<area shape="poly" title=" " alt="" coords="5433,119,5433,160,5427,160,5427,119"/>
<area shape="poly" title=" " alt="" coords="3879,98,4068,102,4290,113,4394,122,4483,133,4550,147,4572,155,4587,165,4595,179,4596,194,4590,208,4579,221,4549,246,4516,265,4513,261,4546,241,4575,218,4585,205,4590,193,4590,181,4583,168,4570,160,4548,152,4483,138,4394,127,4290,118,4068,108,3879,104"/>
<area shape="poly" title=" " alt="" coords="3690,109,3439,121,2399,133,1702,148,1466,158,1397,163,1367,169,1351,187,1339,210,1330,256,1324,255,1334,208,1346,184,1365,164,1396,158,1466,152,1701,143,2399,128,3439,116,3690,103"/>
<area shape="poly" title=" " alt="" coords="3807,117,3825,137,3839,161,3845,185,3843,197,3836,209,3823,217,3802,224,3741,235,3571,248,3294,257,3077,279,3076,273,3294,252,3571,243,3741,229,3801,219,3821,212,3832,205,3838,195,3840,185,3834,163,3820,140,3803,121"/>
<area shape="poly" title=" " alt="" coords="3880,99,3970,104,4066,115,4149,135,4180,148,4201,165,4212,188,4211,213,4203,238,4192,259,4187,257,4198,235,4205,212,4206,189,4197,168,4177,153,4147,140,4065,121,3970,109,3879,104"/>
<area shape="poly" title=" " alt="" coords="3690,109,3439,121,2168,132,1316,146,1028,156,942,162,906,169,887,187,874,210,860,257,855,255,869,207,883,184,903,164,942,157,1027,151,1315,140,2168,126,3439,116,3690,103"/>
<area shape="poly" title=" " alt="" coords="3880,100,4233,119,4456,138,4680,164,4707,169,4707,174,4679,169,4455,143,4232,125,3880,106"/>
<area shape="poly" title=" " alt="" coords="3880,105,4609,164,4624,188,4628,210,4622,231,4608,251,4568,285,4522,312,4456,334,4353,353,4219,371,4058,386,3678,411,3252,430,2823,443,2430,452,1921,459,1921,454,2430,447,2822,438,3252,425,3677,406,4058,381,4219,365,4352,348,4455,328,4520,307,4565,281,4604,248,4617,229,4622,210,4619,190,4606,169,3879,110"/>
<area shape="poly" title=" " alt="" coords="3690,108,3439,121,2995,143,2550,169,2451,177,2450,172,2550,164,2994,138,3439,116,3690,102"/>
<area shape="poly" title=" " alt="" coords="3690,108,3439,121,3133,122,2548,123,2239,128,1967,136,1767,149,1705,158,1674,169,1660,187,1651,210,1648,256,1642,255,1646,209,1655,184,1671,164,1703,153,1766,144,1967,131,2239,122,2548,118,3133,116,3439,116,3690,103"/>
<area shape="poly" title=" " alt="" coords="3795,118,3802,139,3806,163,3804,187,3792,209,3773,220,3742,229,3651,242,3532,249,3399,252,3141,253,3045,254,2988,257,2944,268,2943,263,2987,252,3044,248,3141,247,3399,247,3532,244,3651,237,3741,224,3771,215,3788,205,3798,186,3800,163,3797,140,3790,120"/>
<area shape="poly" title=" " alt="" coords="3690,108,3139,140,2872,157,2740,169,2711,178,2689,189,2667,200,2637,209,2536,227,2448,232,2370,230,2297,224,2224,220,2147,221,2062,232,1963,257,1946,264,1944,260,1961,252,2061,227,2147,216,2224,215,2297,219,2370,225,2448,227,2535,221,2636,204,2665,195,2687,184,2709,173,2739,164,2872,152,3138,135,3690,103"/>
<area shape="poly" title=" " alt="" coords="3773,121,3740,164,3736,161,3768,117"/>
<area shape="rect" title=" " alt="" coords="4371,174,4433,199"/>
<area shape="poly" title=" " alt="" coords="3880,102,4097,121,4225,139,4352,164,4362,167,4361,172,4351,169,4224,144,4097,126,3879,107"/>
<area shape="rect" title=" " alt="" coords="4458,174,4573,199"/>
<area shape="poly" title=" " alt="" coords="3880,102,4137,122,4292,140,4446,164,4465,168,4464,173,4446,169,4291,145,4136,127,3879,107"/>
<area shape="poly" title=" " alt="" coords="1697,209,1374,274,1372,269,1696,204"/>
<area shape="poly" title=" " alt="" coords="1896,191,2211,204,2571,207,3171,211,3485,215,3769,223,3992,235,4072,243,4125,252,4146,260,4144,265,4124,257,4071,248,3992,240,3769,228,3485,221,3171,216,2571,212,2211,209,1895,196"/>
<area shape="poly" title=" " alt="" coords="1846,204,1995,255,1993,260,1844,209"/>
<area shape="poly" title=" " alt="" coords="1803,206,1824,254,1855,351,1875,431,1870,432,1850,353,1820,256,1798,208"/>
<area shape="poly" title=" " alt="" coords="1763,209,1678,264,1675,260,1760,205"/>
<area shape="poly" title=" " alt="" coords="1817,205,1893,259,1889,263,1814,209"/>
<area shape="rect" title=" " alt="" coords="1724,269,1811,295"/>
<area shape="poly" title=" " alt="" coords="1788,207,1776,256,1771,255,1783,206"/>
<area shape="poly" title=" " alt="" coords="1896,100,2150,107,2463,120,2744,139,2845,151,2904,164,2939,183,2970,208,3016,257,3013,260,2967,212,2936,188,2902,169,2844,156,2744,144,2462,125,2150,112,1895,105"/>
<area shape="poly" title=" " alt="" coords="1684,107,1102,136,830,154,745,162,710,169,702,182,703,195,710,208,723,221,762,244,805,262,803,267,760,249,720,225,706,211,697,197,697,181,707,164,744,157,830,149,1102,131,1684,102"/>
<area shape="poly" title=" " alt="" coords="1684,107,1031,138,699,156,506,169,451,178,450,173,506,164,698,150,1031,133,1684,102"/>
<area shape="poly" title=" " alt="" coords="1684,107,1081,137,797,155,707,163,670,169,639,200,623,234,622,252,624,270,631,289,643,308,675,343,707,366,740,379,776,385,855,387,901,389,952,395,1081,414,1213,429,1470,447,1689,454,1835,454,1835,460,1689,459,1470,452,1213,434,1080,419,951,400,901,394,855,392,775,390,739,384,705,370,671,347,639,311,626,291,619,272,616,252,618,233,635,197,667,164,706,157,797,150,1080,132,1684,102"/>
<area shape="poly" title=" " alt="" coords="1896,100,2470,124,2742,142,2831,153,2874,164,2890,185,2899,209,2903,256,2898,256,2894,210,2885,187,2871,169,2830,158,2741,147,2470,129,1895,106"/>
<area shape="poly" title=" " alt="" coords="1848,117,1882,136,1910,165,1920,187,1925,211,1925,255,1919,255,1919,212,1915,189,1905,168,1879,141,1845,121"/>
<area shape="poly" title=" " alt="" coords="1793,119,1793,153,1787,153,1787,119"/>
<area shape="rect" href="../../d6/df4/retry__policy_8h.html" title=" " alt="" coords="2751,174,2861,199"/>
<area shape="poly" title=" " alt="" coords="1896,105,2227,129,2637,164,2738,175,2738,180,2636,169,2226,134,1895,110"/>
<area shape="rect" href="../../d5/d2d/error__boundary_8h.html" title=" " alt="" coords="1378,174,1509,199"/>
<area shape="poly" title=" " alt="" coords="1715,121,1503,173,1502,168,1713,116"/>
<area shape="rect" title=" " alt="" coords="653,269,700,295"/>
<area shape="poly" title=" " alt="" coords="1685,107,1095,137,818,154,731,162,695,169,682,187,676,210,675,256,670,256,670,209,678,185,693,164,730,157,818,149,1094,131,1684,102"/>
<area shape="poly" title=" " alt="" coords="2861,188,3226,204,3533,214,3773,217,4012,226,4318,252,4432,269,4431,274,4318,257,4012,232,3773,223,3533,219,3226,209,2861,193"/>
<area shape="poly" title=" " alt="" coords="2751,198,2637,209,2343,227,2114,234,1885,241,1592,257,1373,278,1373,273,1591,252,1885,236,2114,229,2343,222,2636,204,2751,192"/>
<area shape="poly" title=" " alt="" coords="2861,195,3293,268,3292,274,2861,200"/>
<area shape="poly" title=" " alt="" coords="2766,202,2733,209,2602,229,2499,238,2396,245,2264,257,2164,270,2163,264,2263,252,2395,239,2498,233,2601,224,2732,204,2765,197"/>
<area shape="poly" title=" " alt="" coords="2786,202,2711,241,2597,295,2459,352,2315,400,2205,425,2095,441,1922,457,1921,452,2094,436,2204,419,2313,395,2457,347,2594,290,2708,236,2783,197"/>
<area shape="poly" title=" " alt="" coords="2751,198,2637,209,2496,217,2375,218,2171,212,2073,212,1968,217,1850,231,1712,257,1684,266,1682,261,1711,252,1849,226,1968,211,2072,206,2171,207,2375,213,2495,212,2636,204,2751,192"/>
<area shape="poly" title=" " alt="" coords="2861,191,3600,273,3599,278,2861,197"/>
<area shape="poly" title=" " alt="" coords="1431,201,1353,263,1349,259,1427,197"/>
<area shape="poly" title=" " alt="" coords="1509,192,1673,204,1845,207,2134,208,2902,208,3305,211,3669,218,3955,231,4057,240,4125,252,4146,260,4144,265,4124,257,4056,246,3955,236,3668,223,3305,216,2902,213,2133,213,1845,213,1673,209,1509,197"/>
<area shape="poly" title=" " alt="" coords="1378,201,907,275,906,270,1377,196"/>
<area shape="poly" title=" " alt="" coords="1509,191,1712,213,1837,231,1963,252,1982,256,1981,261,1961,257,1837,236,1712,219,1509,196"/>
<area shape="poly" title=" " alt="" coords="1457,198,1514,248,1593,307,1659,347,1727,383,1840,437,1838,442,1724,388,1656,352,1590,312,1511,252,1454,202"/>
<area shape="poly" title=" " alt="" coords="1469,197,1611,261,1609,266,1467,202"/>
<area shape="poly" title=" " alt="" coords="1509,195,1653,219,1823,252,1874,265,1872,270,1821,257,1652,224,1508,200"/>
<area shape="poly" title=" " alt="" coords="1180,120,1166,162,1165,184,1172,205,1188,220,1215,235,1281,262,1279,267,1213,240,1185,224,1168,208,1160,185,1161,161,1175,118"/>
<area shape="poly" title=" " alt="" coords="1294,102,2000,134,2340,152,2497,164,2514,174,2525,184,2536,195,2551,204,2612,224,2664,234,2712,237,2758,236,2853,234,2909,239,2972,252,2998,261,2996,266,2971,257,2908,244,2853,239,2758,241,2712,242,2664,239,2610,229,2549,209,2532,199,2522,188,2511,178,2496,169,2340,157,2000,139,1294,107"/>
<area shape="poly" title=" " alt="" coords="1083,109,959,118,826,131,716,148,679,158,660,169,650,186,653,202,665,217,686,231,743,253,802,268,801,273,741,258,684,235,662,221,648,204,645,185,656,165,677,153,715,143,825,125,958,112,1083,103"/>
<area shape="poly" title=" " alt="" coords="1294,100,1447,107,1625,119,1790,137,1857,150,1908,164,1945,182,1980,204,2035,250,2032,254,1977,209,1943,187,1906,169,1856,155,1789,143,1624,124,1447,112,1294,106"/>
<area shape="poly" title=" " alt="" coords="1083,103,888,107,662,118,557,126,467,137,400,152,378,160,365,169,342,201,334,229,339,254,356,275,384,295,422,311,467,326,517,337,631,355,749,366,950,373,950,379,749,371,630,360,516,343,465,331,420,316,382,299,353,279,334,256,329,229,337,198,361,165,376,155,399,146,466,132,556,121,662,113,888,102,1083,98"/>
<area shape="poly" title=" " alt="" coords="1083,103,881,107,645,117,535,125,441,136,371,151,348,159,335,169,329,177,327,186,335,205,369,255,404,292,440,319,480,339,523,354,571,366,685,395,791,415,932,431,1098,441,1274,448,1608,454,1835,454,1835,460,1608,460,1274,454,1097,447,932,436,790,421,684,400,570,371,521,359,478,344,437,324,400,296,365,258,330,208,322,186,324,175,331,165,346,155,370,146,440,131,534,120,645,111,881,101,1083,98"/>
<area shape="poly" title=" " alt="" coords="1295,105,2210,174,2209,179,1294,111"/>
<area shape="poly" title=" " alt="" coords="1216,117,1283,160,1367,204,1425,226,1485,244,1591,268,1590,273,1484,249,1424,231,1365,209,1280,165,1213,121"/>
<area shape="poly" title=" " alt="" coords="1295,101,1961,130,2287,148,2396,156,2449,164,2468,173,2479,184,2491,195,2507,204,2589,232,2674,252,2754,265,2823,273,2822,279,2753,271,2672,258,2587,238,2505,209,2487,199,2476,188,2464,178,2448,169,2395,162,2287,153,1961,135,1294,107"/>
<area shape="poly" title=" " alt="" coords="1083,107,701,127,461,145,218,169,212,170,212,165,218,164,460,140,701,122,1083,101"/>
<area shape="poly" title=" " alt="" coords="1294,116,1521,164,1718,217,1874,264,1872,269,1717,222,1520,169,1293,121"/>
<area shape="rect" href="../../d8/db2/monitorable__interface_8h.html" title="Interface for components that expose monitoring metrics." alt="" coords="917,167,1100,207"/>
<area shape="poly" title=" " alt="" coords="1150,121,1061,163,1059,159,1148,116"/>
<area shape="poly" title=" " alt="" coords="1078,204,1245,252,1280,263,1279,268,1244,257,1077,209"/>
<area shape="poly" title=" " alt="" coords="1100,191,1366,204,1523,207,1718,207,2172,204,2404,207,2624,214,2817,228,2900,239,2972,252,2999,261,2997,266,2971,257,2899,244,2817,234,2624,219,2404,212,2172,210,1718,212,1523,212,1366,209,1100,196"/>
<area shape="poly" title=" " alt="" coords="979,209,886,264,883,260,976,204"/>
<area shape="poly" title=" " alt="" coords="1100,191,1366,204,1846,218,2220,222,2594,229,3074,252,3293,272,3292,277,3074,257,2594,235,2220,227,1846,223,1366,209,1100,196"/>
<area shape="poly" title=" " alt="" coords="1101,191,1583,221,1824,239,1962,252,1985,256,1984,262,1962,257,1823,244,1583,227,1100,196"/>
<area shape="poly" title=" " alt="" coords="1012,207,1021,351,1015,351,1007,207"/>
<area shape="poly" title=" " alt="" coords="1026,205,1076,257,1109,284,1146,307,1240,348,1339,380,1439,405,1537,424,1712,446,1835,453,1835,458,1712,451,1536,429,1438,410,1337,385,1238,353,1143,312,1106,289,1072,261,1022,209"/>
<area shape="poly" title=" " alt="" coords="1047,204,1170,263,1234,290,1281,307,1411,332,1523,342,1622,341,1715,335,1809,329,1909,327,2022,334,2153,355,2165,358,2164,363,2152,360,2021,339,1909,332,1809,334,1716,341,1622,347,1523,347,1410,337,1280,312,1232,295,1168,268,1045,209"/>
<area shape="poly" title=" " alt="" coords="1100,190,1366,204,2374,252,2822,274,2822,280,2374,257,1366,209,1100,196"/>
<area shape="poly" title=" " alt="" coords="942,209,714,273,713,268,941,204"/>
<area shape="poly" title=" " alt="" coords="2495,106,1778,133,1429,151,1318,161,1273,169,1267,178,1265,189,1271,213,1286,237,1305,258,1301,262,1282,240,1266,215,1259,189,1262,176,1270,164,1317,155,1429,146,1777,128,2495,101"/>
<area shape="poly" title=" " alt="" coords="2693,99,2785,105,2881,117,2965,136,2997,149,3020,165,3033,186,3040,210,3039,256,3034,256,3034,211,3028,188,3016,169,2995,153,2964,141,2880,122,2784,110,2693,105"/>
<area shape="poly" title=" " alt="" coords="2495,105,1519,136,1027,154,872,163,811,169,805,178,803,189,807,212,820,236,836,257,831,261,815,239,802,214,798,188,801,176,809,164,871,157,1027,149,1518,130,2495,100"/>
<area shape="poly" title=" " alt="" coords="2693,100,2785,106,2893,118,3007,136,3120,164,3178,185,3233,211,3320,260,3318,264,3231,216,3176,190,3119,169,3006,142,2892,123,2784,111,2693,105"/>
<area shape="poly" title=" " alt="" coords="2495,107,2430,114,2358,126,2284,144,2212,169,2178,187,2145,209,2092,254,2089,250,2142,205,2175,183,2210,164,2282,138,2357,120,2430,109,2495,102"/>
<area shape="poly" title=" " alt="" coords="2693,100,2790,106,2894,117,2986,136,3022,149,3048,165,3079,198,3097,235,3100,254,3097,273,3089,292,3076,311,3052,328,3011,343,2890,371,2730,394,2546,414,2177,443,1921,457,1921,452,2177,438,2545,409,2729,389,2889,365,3010,338,3049,323,3072,307,3085,290,3092,272,3094,254,3092,236,3075,201,3044,169,3020,154,2985,141,2893,123,2790,111,2693,105"/>
<area shape="poly" title=" " alt="" coords="2537,121,2401,165,2400,160,2535,116"/>
<area shape="poly" title=" " alt="" coords="2693,104,2760,112,2826,124,2883,142,2904,152,2919,165,2929,187,2929,212,2923,237,2914,258,2909,256,2918,235,2924,212,2924,189,2915,168,2901,157,2881,147,2825,130,2759,118,2692,110"/>
<area shape="poly" title=" " alt="" coords="2597,119,2597,160,2591,160,2591,119"/>
<area shape="poly" title=" " alt="" coords="2495,106,2412,112,2317,123,2216,142,2118,169,2068,190,2020,215,1945,264,1943,259,2018,210,2066,185,2116,164,2215,137,2316,118,2412,107,2495,100"/>
</map>
</div>
</div>
<p><a href="../../de/da5/test__stress__performance_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1d103acc1543ddcc0a3485fc9d6e688c" id="r_a1d103acc1543ddcc0a3485fc9d6e688c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a1d103acc1543ddcc0a3485fc9d6e688c">RUNNING_WITH_ASAN</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a1d103acc1543ddcc0a3485fc9d6e688c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6932184c028f6ca85937d9981d0c8f66" id="r_a6932184c028f6ca85937d9981d0c8f66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a6932184c028f6ca85937d9981d0c8f66">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, HighLoadStressTest)</td></tr>
<tr class="separator:a6932184c028f6ca85937d9981d0c8f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d6c24fcaacffe36082c7ba720f45a62" id="r_a3d6c24fcaacffe36082c7ba720f45a62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a3d6c24fcaacffe36082c7ba720f45a62">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, MemoryLeakDetectionTest)</td></tr>
<tr class="separator:a3d6c24fcaacffe36082c7ba720f45a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91db0b60c64220e2aa2dc7f1d8ee7f3d" id="r_a91db0b60c64220e2aa2dc7f1d8ee7f3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a91db0b60c64220e2aa2dc7f1d8ee7f3d">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, ConcurrencyStressTest)</td></tr>
<tr class="separator:a91db0b60c64220e2aa2dc7f1d8ee7f3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade7260b63ca633652f60a91147beae9b" id="r_ade7260b63ca633652f60a91147beae9b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#ade7260b63ca633652f60a91147beae9b">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, ResourceExhaustionTest)</td></tr>
<tr class="separator:ade7260b63ca633652f60a91147beae9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8ace21bd9bec4ff3d0913957a9b6e5" id="r_a6a8ace21bd9bec4ff3d0913957a9b6e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a6a8ace21bd9bec4ff3d0913957a9b6e5">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, SustainedLoadTest)</td></tr>
<tr class="separator:a6a8ace21bd9bec4ff3d0913957a9b6e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae05ac0f53eb8713cbf05f42b61e47137" id="r_ae05ac0f53eb8713cbf05f42b61e47137"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#ae05ac0f53eb8713cbf05f42b61e47137">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, BurstLoadTest)</td></tr>
<tr class="separator:ae05ac0f53eb8713cbf05f42b61e47137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08eba31dd5534efc9422ebe8e89d507d" id="r_a08eba31dd5534efc9422ebe8e89d507d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a08eba31dd5534efc9422ebe8e89d507d">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, DeadlockDetectionTest)</td></tr>
<tr class="separator:a08eba31dd5534efc9422ebe8e89d507d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf4d87471055b0cf2239e2e9832277a" id="r_aadf4d87471055b0cf2239e2e9832277a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#aadf4d87471055b0cf2239e2e9832277a">TEST_F</a> (<a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>, PerformanceDegradationTest)</td></tr>
<tr class="separator:aadf4d87471055b0cf2239e2e9832277a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a67884643e97237488ddcb66dbd76e94e" id="r_a67884643e97237488ddcb66dbd76e94e"><td class="memItemLeft" align="right" valign="top">constexpr double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a67884643e97237488ddcb66dbd76e94e">SANITIZER_OVERHEAD_FACTOR</a> = <a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a1d103acc1543ddcc0a3485fc9d6e688c">RUNNING_WITH_ASAN</a> ? 2.0 : 1.0</td></tr>
<tr class="separator:a67884643e97237488ddcb66dbd76e94e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stress testing for the monitoring system. </p>
<p>Tests system behavior under extreme conditions:</p><ul>
<li>High load scenarios</li>
<li>Memory leak detection</li>
<li>Concurrency stress tests</li>
<li>Resource exhaustion handling</li>
<li>Performance degradation analysis </li>
</ul>

<p class="definition">Definition in file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a1d103acc1543ddcc0a3485fc9d6e688c" name="a1d103acc1543ddcc0a3485fc9d6e688c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d103acc1543ddcc0a3485fc9d6e688c">&#9670;&#160;</a></span>RUNNING_WITH_ASAN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RUNNING_WITH_ASAN&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00061">61</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ae05ac0f53eb8713cbf05f42b61e47137" name="ae05ac0f53eb8713cbf05f42b61e47137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae05ac0f53eb8713cbf05f42b61e47137">&#9670;&#160;</a></span>TEST_F() <span class="overload">[1/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BurstLoadTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 6: Burst Load Test Tests system response to sudden load spikes </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00439">439</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  439</span>                                             {</div>
<div class="line"><span class="lineno">  440</span>    <span class="keyword">auto</span> tracer = std::make_unique&lt;distributed_tracer&gt;();</div>
<div class="line"><span class="lineno">  441</span>    </div>
<div class="line"><span class="lineno">  442</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> BURST_SIZE = 10000;</div>
<div class="line"><span class="lineno">  443</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_BURSTS = 10;</div>
<div class="line"><span class="lineno">  444</span>    <span class="keyword">const</span> <span class="keyword">auto</span> BURST_INTERVAL = 5s;</div>
<div class="line"><span class="lineno">  445</span>    </div>
<div class="line"><span class="lineno">  446</span>    std::vector&lt;double&gt; burst_latencies;</div>
<div class="line"><span class="lineno">  447</span>    </div>
<div class="line"><span class="lineno">  448</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> burst = 0; burst &lt; NUM_BURSTS; ++burst) {</div>
<div class="line"><span class="lineno">  449</span>        <span class="keyword">auto</span> burst_start = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  450</span>        </div>
<div class="line"><span class="lineno">  451</span>        <span class="comment">// Generate burst of operations</span></div>
<div class="line"><span class="lineno">  452</span>        std::vector&lt;std::future&lt;bool&gt;&gt; futures;</div>
<div class="line"><span class="lineno">  453</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; BURST_SIZE; ++i) {</div>
<div class="line"><span class="lineno">  454</span>            futures.push_back(std::async(std::launch::async, [&amp;tracer, i]() {</div>
<div class="line"><span class="lineno">  455</span>                <span class="keyword">auto</span> span = tracer-&gt;start_span(<span class="stringliteral">&quot;burst_op_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  456</span>                <span class="keywordflow">return</span> span.is_ok();</div>
<div class="line"><span class="lineno">  457</span>            }));</div>
<div class="line"><span class="lineno">  458</span>        }</div>
<div class="line"><span class="lineno">  459</span>        </div>
<div class="line"><span class="lineno">  460</span>        <span class="comment">// Wait for burst to complete</span></div>
<div class="line"><span class="lineno">  461</span>        <span class="keywordtype">int</span> successful = 0;</div>
<div class="line"><span class="lineno">  462</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; future : futures) {</div>
<div class="line"><span class="lineno">  463</span>            <span class="keywordflow">if</span> (future.get()) {</div>
<div class="line"><span class="lineno">  464</span>                successful++;</div>
<div class="line"><span class="lineno">  465</span>            }</div>
<div class="line"><span class="lineno">  466</span>        }</div>
<div class="line"><span class="lineno">  467</span>        </div>
<div class="line"><span class="lineno">  468</span>        <span class="keyword">auto</span> burst_end = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  469</span>        <span class="keyword">auto</span> burst_duration = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(</div>
<div class="line"><span class="lineno">  470</span>            burst_end - burst_start).count();</div>
<div class="line"><span class="lineno">  471</span>        </div>
<div class="line"><span class="lineno">  472</span>        burst_latencies.push_back(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(burst_duration));</div>
<div class="line"><span class="lineno">  473</span>        </div>
<div class="line"><span class="lineno">  474</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Burst &quot;</span> &lt;&lt; burst &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; successful &lt;&lt; <span class="stringliteral">&quot;/&quot;</span> &lt;&lt; BURST_SIZE </div>
<div class="line"><span class="lineno">  475</span>                  &lt;&lt; <span class="stringliteral">&quot; successful, duration: &quot;</span> &lt;&lt; burst_duration &lt;&lt; <span class="stringliteral">&quot;ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  476</span>        </div>
<div class="line"><span class="lineno">  477</span>        <span class="comment">// Rest between bursts</span></div>
<div class="line"><span class="lineno">  478</span>        std::this_thread::sleep_for(BURST_INTERVAL);</div>
<div class="line"><span class="lineno">  479</span>    }</div>
<div class="line"><span class="lineno">  480</span>    </div>
<div class="line"><span class="lineno">  481</span>    <span class="comment">// Calculate statistics</span></div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordtype">double</span> avg_latency = std::accumulate(burst_latencies.begin(), burst_latencies.end(), 0.0) </div>
<div class="line"><span class="lineno">  483</span>                        / burst_latencies.size();</div>
<div class="line"><span class="lineno">  484</span>    <span class="keywordtype">double</span> max_latency = *std::max_element(burst_latencies.begin(), burst_latencies.end());</div>
<div class="line"><span class="lineno">  485</span>    </div>
<div class="line"><span class="lineno">  486</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n=== Burst Load Test Results ===&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  487</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Average burst latency: &quot;</span> &lt;&lt; avg_latency &lt;&lt; <span class="stringliteral">&quot;ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  488</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Max burst latency: &quot;</span> &lt;&lt; max_latency &lt;&lt; <span class="stringliteral">&quot;ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  489</span>    </div>
<div class="line"><span class="lineno">  490</span>    <span class="comment">// System should handle bursts efficiently</span></div>
<div class="line"><span class="lineno">  491</span>    <span class="comment">// Note: Thresholds adjusted for sanitizer overhead</span></div>
<div class="line"><span class="lineno">  492</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> avg_threshold = 5000 * <a class="code hl_variable" href="../../de/da5/test__stress__performance_8cpp.html#a67884643e97237488ddcb66dbd76e94e">SANITIZER_OVERHEAD_FACTOR</a>;</div>
<div class="line"><span class="lineno">  493</span>    <span class="keyword">const</span> <span class="keywordtype">double</span> max_threshold = 10000 * <a class="code hl_variable" href="../../de/da5/test__stress__performance_8cpp.html#a67884643e97237488ddcb66dbd76e94e">SANITIZER_OVERHEAD_FACTOR</a>;</div>
<div class="line"><span class="lineno">  494</span>    EXPECT_LT(avg_latency, avg_threshold); <span class="comment">// Average under threshold</span></div>
<div class="line"><span class="lineno">  495</span>    EXPECT_LT(max_latency, max_threshold); <span class="comment">// Max under threshold</span></div>
<div class="line"><span class="lineno">  496</span>}</div>
<div class="ttc" id="atest__stress__performance_8cpp_html_a67884643e97237488ddcb66dbd76e94e"><div class="ttname"><a href="../../de/da5/test__stress__performance_8cpp.html#a67884643e97237488ddcb66dbd76e94e">SANITIZER_OVERHEAD_FACTOR</a></div><div class="ttdeci">constexpr double SANITIZER_OVERHEAD_FACTOR</div><div class="ttdef"><b>Definition</b> <a href="../../de/da5/test__stress__performance_8cpp_source.html#l00065">test_stress_performance.cpp:65</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a91db0b60c64220e2aa2dc7f1d8ee7f3d" name="a91db0b60c64220e2aa2dc7f1d8ee7f3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91db0b60c64220e2aa2dc7f1d8ee7f3d">&#9670;&#160;</a></span>TEST_F() <span class="overload">[2/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ConcurrencyStressTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 3: Concurrency Stress Test Tests thread safety and race conditions </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00281">281</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  281</span>                                                     {</div>
<div class="line"><span class="lineno">  282</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_THREADS = 50;</div>
<div class="line"><span class="lineno">  283</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> OPERATIONS = 1000;</div>
<div class="line"><span class="lineno">  284</span>    </div>
<div class="line"><span class="lineno">  285</span>    <span class="comment">// Shared resources</span></div>
<div class="line"><span class="lineno">  286</span>    <a class="code hl_struct" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html">storage_config</a> config;</div>
<div class="line"><span class="lineno">  287</span>    config.<a class="code hl_variable" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#a5470889434a9f2c7dab29555dcb3fe0e">type</a> = storage_backend_type::memory_buffer;</div>
<div class="line"><span class="lineno">  288</span>    config.<a class="code hl_variable" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#ac188a463b7a7516db25844e62991a510">max_capacity</a> = 10000;</div>
<div class="line"><span class="lineno">  289</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a> = std::make_unique&lt;file_storage_backend&gt;(config);</div>
<div class="line"><span class="lineno">  290</span>    </div>
<div class="line"><span class="lineno">  291</span>    std::atomic&lt;int&gt; <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ab830c9f495024f76608cea5c9874e846a886bb73b3156b0aa24aac99d2de0b238">counter</a>{0};</div>
<div class="line"><span class="lineno">  292</span>    std::atomic&lt;bool&gt; race_detected{<span class="keyword">false</span>};</div>
<div class="line"><span class="lineno">  293</span>    </div>
<div class="line"><span class="lineno">  294</span>    <span class="comment">// Synchronization for thread start</span></div>
<div class="line"><span class="lineno">  295</span>    std::mutex start_mutex;</div>
<div class="line"><span class="lineno">  296</span>    std::condition_variable start_cv;</div>
<div class="line"><span class="lineno">  297</span>    std::atomic&lt;int&gt; ready_threads{0};</div>
<div class="line"><span class="lineno">  298</span>    <span class="keywordtype">bool</span> start_flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  299</span>    </div>
<div class="line"><span class="lineno">  300</span>    <span class="comment">// Launch concurrent threads</span></div>
<div class="line"><span class="lineno">  301</span>    std::vector&lt;std::thread&gt; threads;</div>
<div class="line"><span class="lineno">  302</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; NUM_THREADS; ++t) {</div>
<div class="line"><span class="lineno">  303</span>        threads.emplace_back([&amp;, t]() {</div>
<div class="line"><span class="lineno">  304</span>            <span class="comment">// Wait for all threads to be ready</span></div>
<div class="line"><span class="lineno">  305</span>            {</div>
<div class="line"><span class="lineno">  306</span>                std::unique_lock&lt;std::mutex&gt; lock(start_mutex);</div>
<div class="line"><span class="lineno">  307</span>                ready_threads++;</div>
<div class="line"><span class="lineno">  308</span>                <span class="keywordflow">if</span> (ready_threads == NUM_THREADS) {</div>
<div class="line"><span class="lineno">  309</span>                    start_flag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  310</span>                    start_cv.notify_all();</div>
<div class="line"><span class="lineno">  311</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  312</span>                    start_cv.wait(lock, [&amp;] { <span class="keywordflow">return</span> start_flag; });</div>
<div class="line"><span class="lineno">  313</span>                }</div>
<div class="line"><span class="lineno">  314</span>            }</div>
<div class="line"><span class="lineno">  315</span>            </div>
<div class="line"><span class="lineno">  316</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; OPERATIONS; ++i) {</div>
<div class="line"><span class="lineno">  317</span>                <span class="comment">// Concurrent writes</span></div>
<div class="line"><span class="lineno">  318</span>                <a class="code hl_struct" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html">metrics_snapshot</a> snapshot;</div>
<div class="line"><span class="lineno">  319</span>                snapshot.<a class="code hl_function" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html#a91c4bb5a196e0ace7716f2d6c54eb1a7">add_metric</a>(<span class="stringliteral">&quot;thread_&quot;</span> + std::to_string(t), i);</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>                <span class="keyword">auto</span> result = <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a>-&gt;store(snapshot);</div>
<div class="line"><span class="lineno">  322</span>                <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ab830c9f495024f76608cea5c9874e846a886bb73b3156b0aa24aac99d2de0b238">counter</a>++;</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>                <span class="comment">// Check storage operation succeeded</span></div>
<div class="line"><span class="lineno">  325</span>                <span class="keywordflow">if</span> (!result.is_ok()) {</div>
<div class="line"><span class="lineno">  326</span>                    race_detected = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  327</span>                }</div>
<div class="line"><span class="lineno">  328</span>            }</div>
<div class="line"><span class="lineno">  329</span>        });</div>
<div class="line"><span class="lineno">  330</span>    }</div>
<div class="line"><span class="lineno">  331</span>    </div>
<div class="line"><span class="lineno">  332</span>    <span class="comment">// Wait for completion</span></div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; thread : threads) {</div>
<div class="line"><span class="lineno">  334</span>        thread.join();</div>
<div class="line"><span class="lineno">  335</span>    }</div>
<div class="line"><span class="lineno">  336</span>    </div>
<div class="line"><span class="lineno">  337</span>    <span class="comment">// Verify results</span></div>
<div class="line"><span class="lineno">  338</span>    EXPECT_FALSE(race_detected) &lt;&lt; <span class="stringliteral">&quot;Race condition detected&quot;</span>;</div>
<div class="line"><span class="lineno">  339</span>    EXPECT_EQ(<a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ab830c9f495024f76608cea5c9874e846a886bb73b3156b0aa24aac99d2de0b238">counter</a>, NUM_THREADS * OPERATIONS);</div>
<div class="line"><span class="lineno">  340</span>    EXPECT_LE(<a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a>-&gt;size(), config.<a class="code hl_variable" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#ac188a463b7a7516db25844e62991a510">max_capacity</a>);</div>
<div class="line"><span class="lineno">  341</span>}</div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_ab830c9f495024f76608cea5c9874e846a886bb73b3156b0aa24aac99d2de0b238"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#ab830c9f495024f76608cea5c9874e846a886bb73b3156b0aa24aac99d2de0b238">kcenon::monitoring::recorded_metric_type::counter</a></div><div class="ttdeci">@ counter</div><div class="ttdoc">Monotonically increasing counter.</div></div>
<div class="ttc" id="anamespacekcenon_1_1monitoring_html_ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74"><div class="ttname"><a href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">kcenon::monitoring::sensor_type::storage</a></div><div class="ttdeci">@ storage</div><div class="ttdoc">Storage device sensor.</div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1metrics__snapshot_html"><div class="ttname"><a href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html">kcenon::monitoring::metrics_snapshot</a></div><div class="ttdoc">Complete snapshot of metrics at a point in time.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d6e/monitoring__core_8h_source.html#l00066">monitoring_core.h:66</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1metrics__snapshot_html_a91c4bb5a196e0ace7716f2d6c54eb1a7"><div class="ttname"><a href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html#a91c4bb5a196e0ace7716f2d6c54eb1a7">kcenon::monitoring::metrics_snapshot::add_metric</a></div><div class="ttdeci">void add_metric(const std::string &amp;name, double value)</div><div class="ttdoc">Add a metric to the snapshot.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/d6e/monitoring__core_8h_source.html#l00079">monitoring_core.h:79</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1storage__config_html"><div class="ttname"><a href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html">kcenon::monitoring::storage_config</a></div><div class="ttdoc">Storage configuration.</div><div class="ttdef"><b>Definition</b> <a href="../../db/d31/storage__backends_8h_source.html#l00075">storage_backends.h:75</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1storage__config_html_a5470889434a9f2c7dab29555dcb3fe0e"><div class="ttname"><a href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#a5470889434a9f2c7dab29555dcb3fe0e">kcenon::monitoring::storage_config::type</a></div><div class="ttdeci">storage_backend_type type</div><div class="ttdef"><b>Definition</b> <a href="../../db/d31/storage__backends_8h_source.html#l00076">storage_backends.h:76</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1storage__config_html_ac188a463b7a7516db25844e62991a510"><div class="ttname"><a href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#ac188a463b7a7516db25844e62991a510">kcenon::monitoring::storage_config::max_capacity</a></div><div class="ttdeci">size_t max_capacity</div><div class="ttdef"><b>Definition</b> <a href="../../db/d31/storage__backends_8h_source.html#l00085">storage_backends.h:85</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/da5/test__stress__performance_8cpp_a91db0b60c64220e2aa2dc7f1d8ee7f3d_cgraph.png" border="0" usemap="#ade/da5/test__stress__performance_8cpp_a91db0b60c64220e2aa2dc7f1d8ee7f3d_cgraph" alt=""/></div>
<map name="ade/da5/test__stress__performance_8cpp_a91db0b60c64220e2aa2dc7f1d8ee7f3d_cgraph" id="ade/da5/test__stress__performance_8cpp_a91db0b60c64220e2aa2dc7f1d8ee7f3d_cgraph">
<area shape="rect" title=" " alt="" coords="5,20,75,45"/>
<area shape="rect" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html#a91c4bb5a196e0ace7716f2d6c54eb1a7" title="Add a metric to the snapshot." alt="" coords="123,5,276,60"/>
<area shape="poly" title=" " alt="" coords="75,30,109,30,109,35,75,35"/>
</map>
</div>

</div>
</div>
<a id="a08eba31dd5534efc9422ebe8e89d507d" name="a08eba31dd5534efc9422ebe8e89d507d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08eba31dd5534efc9422ebe8e89d507d">&#9670;&#160;</a></span>TEST_F() <span class="overload">[3/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DeadlockDetectionTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 7: Deadlock Detection Test Tests for potential deadlocks in concurrent operations </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00502">502</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  502</span>                                                     {</div>
<div class="line"><span class="lineno">  503</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_THREADS = 10;</div>
<div class="line"><span class="lineno">  504</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> ITERATIONS = 100;</div>
<div class="line"><span class="lineno">  505</span>    </div>
<div class="line"><span class="lineno">  506</span>    <span class="comment">// Shared resources with potential for deadlock</span></div>
<div class="line"><span class="lineno">  507</span>    std::timed_mutex mutex1, mutex2;</div>
<div class="line"><span class="lineno">  508</span>    std::atomic&lt;int&gt; deadlock_timeouts{0};</div>
<div class="line"><span class="lineno">  509</span>    </div>
<div class="line"><span class="lineno">  510</span>    std::vector&lt;std::thread&gt; threads;</div>
<div class="line"><span class="lineno">  511</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; NUM_THREADS; ++t) {</div>
<div class="line"><span class="lineno">  512</span>        threads.emplace_back([&amp;, t]() {</div>
<div class="line"><span class="lineno">  513</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ITERATIONS; ++i) {</div>
<div class="line"><span class="lineno">  514</span>                <span class="comment">// Alternate lock order to create potential deadlock</span></div>
<div class="line"><span class="lineno">  515</span>                <span class="keywordflow">if</span> (t % 2 == 0) {</div>
<div class="line"><span class="lineno">  516</span>                    <span class="comment">// Even threads: lock mutex1 then mutex2</span></div>
<div class="line"><span class="lineno">  517</span>                    <span class="keywordflow">if</span> (mutex1.try_lock_for(100ms)) {</div>
<div class="line"><span class="lineno">  518</span>                        std::lock_guard&lt;std::timed_mutex&gt; lock1(mutex1, std::adopt_lock);</div>
<div class="line"><span class="lineno">  519</span>                        if (mutex2.try_lock_for(100ms)) {</div>
<div class="line"><span class="lineno">  520</span>                            std::lock_guard&lt;std::timed_mutex&gt; lock2(mutex2, std::adopt_lock);</div>
<div class="line"><span class="lineno">  521</span>                            <span class="comment">// Critical section</span></div>
<div class="line"><span class="lineno">  522</span>                            std::this_thread::sleep_for(1ms);</div>
<div class="line"><span class="lineno">  523</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  524</span>                            deadlock_timeouts++;</div>
<div class="line"><span class="lineno">  525</span>                        }</div>
<div class="line"><span class="lineno">  526</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  527</span>                        deadlock_timeouts++;</div>
<div class="line"><span class="lineno">  528</span>                    }</div>
<div class="line"><span class="lineno">  529</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  530</span>                    <span class="comment">// Odd threads: lock mutex2 then mutex1</span></div>
<div class="line"><span class="lineno">  531</span>                    <span class="keywordflow">if</span> (mutex2.try_lock_for(100ms)) {</div>
<div class="line"><span class="lineno">  532</span>                        std::lock_guard&lt;std::timed_mutex&gt; lock2(mutex2, std::adopt_lock);</div>
<div class="line"><span class="lineno">  533</span>                        if (mutex1.try_lock_for(100ms)) {</div>
<div class="line"><span class="lineno">  534</span>                            std::lock_guard&lt;std::timed_mutex&gt; lock1(mutex1, std::adopt_lock);</div>
<div class="line"><span class="lineno">  535</span>                            <span class="comment">// Critical section</span></div>
<div class="line"><span class="lineno">  536</span>                            std::this_thread::sleep_for(1ms);</div>
<div class="line"><span class="lineno">  537</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  538</span>                            deadlock_timeouts++;</div>
<div class="line"><span class="lineno">  539</span>                        }</div>
<div class="line"><span class="lineno">  540</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  541</span>                        deadlock_timeouts++;</div>
<div class="line"><span class="lineno">  542</span>                    }</div>
<div class="line"><span class="lineno">  543</span>                }</div>
<div class="line"><span class="lineno">  544</span>            }</div>
<div class="line"><span class="lineno">  545</span>        });</div>
<div class="line"><span class="lineno">  546</span>    }</div>
<div class="line"><span class="lineno">  547</span>    </div>
<div class="line"><span class="lineno">  548</span>    <span class="comment">// Set timeout for test</span></div>
<div class="line"><span class="lineno">  549</span>    <span class="keyword">auto</span> start = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno">  550</span>    <span class="keywordtype">bool</span> all_finished = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  551</span>    </div>
<div class="line"><span class="lineno">  552</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; thread : threads) {</div>
<div class="line"><span class="lineno">  553</span>        <span class="keywordflow">if</span> (thread.joinable()) {</div>
<div class="line"><span class="lineno">  554</span>            thread.join();</div>
<div class="line"><span class="lineno">  555</span>        }</div>
<div class="line"><span class="lineno">  556</span>        </div>
<div class="line"><span class="lineno">  557</span>        <span class="comment">// Check if test is taking too long (potential deadlock)</span></div>
<div class="line"><span class="lineno">  558</span>        <span class="keywordflow">if</span> (std::chrono::steady_clock::now() - start &gt; 30s) {</div>
<div class="line"><span class="lineno">  559</span>            all_finished = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  560</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  561</span>        }</div>
<div class="line"><span class="lineno">  562</span>    }</div>
<div class="line"><span class="lineno">  563</span>    </div>
<div class="line"><span class="lineno">  564</span>    EXPECT_TRUE(all_finished) &lt;&lt; <span class="stringliteral">&quot;Potential deadlock detected - test timed out&quot;</span>;</div>
<div class="line"><span class="lineno">  565</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Deadlock timeouts encountered: &quot;</span> &lt;&lt; deadlock_timeouts &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  566</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6932184c028f6ca85937d9981d0c8f66" name="a6932184c028f6ca85937d9981d0c8f66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6932184c028f6ca85937d9981d0c8f66">&#9670;&#160;</a></span>TEST_F() <span class="overload">[4/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HighLoadStressTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 1: High Load Stress Test Tests system behavior under sustained high load </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00111">111</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  111</span>                                                  {</div>
<div class="line"><span class="lineno">  112</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_THREADS = 100;</div>
<div class="line"><span class="lineno">  113</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> OPERATIONS_PER_THREAD = 10000;</div>
<div class="line"><span class="lineno">  114</span>    <span class="keyword">const</span> <span class="keyword">auto</span> TEST_DURATION = 30s;</div>
<div class="line"><span class="lineno">  115</span>    </div>
<div class="line"><span class="lineno">  116</span>    <span class="comment">// Setup components</span></div>
<div class="line"><span class="lineno">  117</span>    <span class="keyword">auto</span> tracer = std::make_unique&lt;distributed_tracer&gt;();</div>
<div class="line"><span class="lineno">  118</span>    <a class="code hl_class" href="../../d6/daa/classkcenon_1_1monitoring_1_1performance__monitor.html">performance_monitor</a> perf_monitor(<span class="stringliteral">&quot;stress_test&quot;</span>);</div>
<div class="line"><span class="lineno">  119</span>    </div>
<div class="line"><span class="lineno">  120</span>    <span class="comment">// Metrics collection</span></div>
<div class="line"><span class="lineno">  121</span>    std::atomic&lt;int64_t&gt; total_operations{0};</div>
<div class="line"><span class="lineno">  122</span>    std::atomic&lt;int64_t&gt; failed_operations{0};</div>
<div class="line"><span class="lineno">  123</span>    std::atomic&lt;int64_t&gt; total_latency_us{0};</div>
<div class="line"><span class="lineno">  124</span>    std::vector&lt;double&gt; latencies;</div>
<div class="line"><span class="lineno">  125</span>    std::mutex latency_mutex;</div>
<div class="line"><span class="lineno">  126</span>    </div>
<div class="line"><span class="lineno">  127</span>    <span class="comment">// Start time</span></div>
<div class="line"><span class="lineno">  128</span>    <span class="keyword">auto</span> start_time = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno">  129</span>    </div>
<div class="line"><span class="lineno">  130</span>    <span class="comment">// Launch worker threads</span></div>
<div class="line"><span class="lineno">  131</span>    std::vector&lt;std::thread&gt; workers;</div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; NUM_THREADS; ++t) {</div>
<div class="line"><span class="lineno">  133</span>        workers.emplace_back([&amp;, t]() {</div>
<div class="line"><span class="lineno">  134</span>            std::random_device rd;</div>
<div class="line"><span class="lineno">  135</span>            std::mt19937 gen(rd());</div>
<div class="line"><span class="lineno">  136</span>            std::uniform_int_distribution&lt;&gt; dis(1, 100);</div>
<div class="line"><span class="lineno">  137</span>            </div>
<div class="line"><span class="lineno">  138</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; OPERATIONS_PER_THREAD; ++i) {</div>
<div class="line"><span class="lineno">  139</span>                <span class="keyword">auto</span> op_start = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  140</span>                </div>
<div class="line"><span class="lineno">  141</span>                <span class="comment">// Create span</span></div>
<div class="line"><span class="lineno">  142</span>                <span class="keyword">auto</span> span_result = tracer-&gt;start_span(</div>
<div class="line"><span class="lineno">  143</span>                    <span class="stringliteral">&quot;stress_op_&quot;</span> + std::to_string(t) + <span class="stringliteral">&quot;_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  144</span>                </div>
<div class="line"><span class="lineno">  145</span>                <span class="keywordflow">if</span> (span_result.is_ok()) {</div>
<div class="line"><span class="lineno">  146</span>                    <span class="comment">// Simulate work</span></div>
<div class="line"><span class="lineno">  147</span>                    std::this_thread::sleep_for(std::chrono::microseconds(dis(gen)));</div>
<div class="line"><span class="lineno">  148</span>                    </div>
<div class="line"><span class="lineno">  149</span>                    <span class="comment">// Add attributes</span></div>
<div class="line"><span class="lineno">  150</span>                    span_result.value()-&gt;tags[<span class="stringliteral">&quot;thread_id&quot;</span>] = std::to_string(t);</div>
<div class="line"><span class="lineno">  151</span>                    span_result.value()-&gt;tags[<span class="stringliteral">&quot;operation_id&quot;</span>] = std::to_string(i);</div>
<div class="line"><span class="lineno">  152</span>                    </div>
<div class="line"><span class="lineno">  153</span>                    total_operations++;</div>
<div class="line"><span class="lineno">  154</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  155</span>                    failed_operations++;</div>
<div class="line"><span class="lineno">  156</span>                }</div>
<div class="line"><span class="lineno">  157</span>                </div>
<div class="line"><span class="lineno">  158</span>                <span class="keyword">auto</span> op_end = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  159</span>                <span class="keyword">auto</span> latency = std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(</div>
<div class="line"><span class="lineno">  160</span>                    op_end - op_start).count();</div>
<div class="line"><span class="lineno">  161</span>                </div>
<div class="line"><span class="lineno">  162</span>                total_latency_us += latency;</div>
<div class="line"><span class="lineno">  163</span>                </div>
<div class="line"><span class="lineno">  164</span>                <span class="comment">// Store latency for percentile calculation</span></div>
<div class="line"><span class="lineno">  165</span>                {</div>
<div class="line"><span class="lineno">  166</span>                    std::lock_guard&lt;std::mutex&gt; lock(latency_mutex);</div>
<div class="line"><span class="lineno">  167</span>                    latencies.push_back(<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(latency));</div>
<div class="line"><span class="lineno">  168</span>                }</div>
<div class="line"><span class="lineno">  169</span>                </div>
<div class="line"><span class="lineno">  170</span>                <span class="comment">// Check if test duration exceeded</span></div>
<div class="line"><span class="lineno">  171</span>                <span class="keywordflow">if</span> (std::chrono::steady_clock::now() - start_time &gt; TEST_DURATION) {</div>
<div class="line"><span class="lineno">  172</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  173</span>                }</div>
<div class="line"><span class="lineno">  174</span>            }</div>
<div class="line"><span class="lineno">  175</span>        });</div>
<div class="line"><span class="lineno">  176</span>    }</div>
<div class="line"><span class="lineno">  177</span>    </div>
<div class="line"><span class="lineno">  178</span>    <span class="comment">// Wait for all workers</span></div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; worker : workers) {</div>
<div class="line"><span class="lineno">  180</span>        worker.join();</div>
<div class="line"><span class="lineno">  181</span>    }</div>
<div class="line"><span class="lineno">  182</span>    </div>
<div class="line"><span class="lineno">  183</span>    <span class="comment">// Calculate metrics</span></div>
<div class="line"><span class="lineno">  184</span>    <span class="keyword">auto</span> end_time = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno">  185</span>    <span class="keyword">auto</span> duration = std::chrono::duration_cast&lt;std::chrono::seconds&gt;(end_time - start_time);</div>
<div class="line"><span class="lineno">  186</span>    </div>
<div class="line"><span class="lineno">  187</span>    <span class="comment">// Calculate percentiles</span></div>
<div class="line"><span class="lineno">  188</span>    std::sort(latencies.begin(), latencies.end());</div>
<div class="line"><span class="lineno">  189</span>    <span class="keywordtype">double</span> p50 = latencies.empty() ? 0 : latencies[<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(latencies.size() * 0.5)];</div>
<div class="line"><span class="lineno">  190</span>    <span class="keywordtype">double</span> p95 = latencies.empty() ? 0 : latencies[<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(latencies.size() * 0.95)];</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordtype">double</span> p99 = latencies.empty() ? 0 : latencies[<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(latencies.size() * 0.99)];</div>
<div class="line"><span class="lineno">  192</span>    </div>
<div class="line"><span class="lineno">  193</span>    <span class="comment">// Calculate throughput</span></div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordtype">double</span> throughput = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(total_operations) / duration.count();</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordtype">double</span> avg_latency = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(total_latency_us) / total_operations;</div>
<div class="line"><span class="lineno">  196</span>    </div>
<div class="line"><span class="lineno">  197</span>    <span class="comment">// Output results</span></div>
<div class="line"><span class="lineno">  198</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n=== High Load Stress Test Results ===&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  199</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Duration: &quot;</span> &lt;&lt; duration.count() &lt;&lt; <span class="stringliteral">&quot; seconds&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  200</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Total operations: &quot;</span> &lt;&lt; total_operations &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  201</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Failed operations: &quot;</span> &lt;&lt; failed_operations &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  202</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Throughput: &quot;</span> &lt;&lt; throughput &lt;&lt; <span class="stringliteral">&quot; ops/sec&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  203</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Average latency: &quot;</span> &lt;&lt; avg_latency &lt;&lt; <span class="stringliteral">&quot; s&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  204</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;P50 latency: &quot;</span> &lt;&lt; p50 &lt;&lt; <span class="stringliteral">&quot; s&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  205</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;P95 latency: &quot;</span> &lt;&lt; p95 &lt;&lt; <span class="stringliteral">&quot; s&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  206</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;P99 latency: &quot;</span> &lt;&lt; p99 &lt;&lt; <span class="stringliteral">&quot; s&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  207</span>    </div>
<div class="line"><span class="lineno">  208</span>    <span class="comment">// Assertions</span></div>
<div class="line"><span class="lineno">  209</span>    EXPECT_GT(throughput, 1000.0); <span class="comment">// At least 1000 ops/sec</span></div>
<div class="line"><span class="lineno">  210</span>    EXPECT_LT(failed_operations, total_operations * 0.01); <span class="comment">// Less than 1% failure</span></div>
<div class="line"><span class="lineno">  211</span>    EXPECT_LT(p99, 10000); <span class="comment">// P99 under 10ms</span></div>
<div class="line"><span class="lineno">  212</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1performance__monitor_html"><div class="ttname"><a href="../../d6/daa/classkcenon_1_1monitoring_1_1performance__monitor.html">kcenon::monitoring::performance_monitor</a></div><div class="ttdoc">Performance monitor combining profiling and system monitoring.</div><div class="ttdef"><b>Definition</b> <a href="../../d7/db1/performance__monitor_8h_source.html#l00402">performance_monitor.h:402</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d6c24fcaacffe36082c7ba720f45a62" name="a3d6c24fcaacffe36082c7ba720f45a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d6c24fcaacffe36082c7ba720f45a62">&#9670;&#160;</a></span>TEST_F() <span class="overload">[5/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MemoryLeakDetectionTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 2: Memory Leak Detection Test Tests for memory leaks under repeated allocation/deallocation </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00218">218</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  218</span>                                                       {</div>
<div class="line"><span class="lineno">  219</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> ITERATIONS = 1000;</div>
<div class="line"><span class="lineno">  220</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> OBJECTS_PER_ITERATION = 100;</div>
<div class="line"><span class="lineno">  221</span>    </div>
<div class="line"><span class="lineno">  222</span>    <span class="comment">// Track memory usage</span></div>
<div class="line"><span class="lineno">  223</span>    std::vector&lt;size_t&gt; memory_samples;</div>
<div class="line"><span class="lineno">  224</span>    </div>
<div class="line"><span class="lineno">  225</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> iter = 0; iter &lt; ITERATIONS; ++iter) {</div>
<div class="line"><span class="lineno">  226</span>        <span class="comment">// Create and destroy many objects</span></div>
<div class="line"><span class="lineno">  227</span>        std::vector&lt;std::unique_ptr&lt;distributed_tracer&gt;&gt; tracers;</div>
<div class="line"><span class="lineno">  228</span>        std::vector&lt;std::unique_ptr&lt;circuit_breaker&lt;bool&gt;&gt;&gt; breakers;</div>
<div class="line"><span class="lineno">  229</span>        </div>
<div class="line"><span class="lineno">  230</span>        <a class="code hl_struct" href="../../d3/def/structkcenon_1_1monitoring_1_1circuit__breaker__config.html">circuit_breaker_config</a> cb_config;</div>
<div class="line"><span class="lineno">  231</span>        cb_config.<a class="code hl_variable" href="../../d3/def/structkcenon_1_1monitoring_1_1circuit__breaker__config.html#ad9b2e2d082a0b5b27861de5590f917a2">failure_threshold</a> = 3;</div>
<div class="line"><span class="lineno">  232</span>        cb_config.<a class="code hl_variable" href="../../d3/def/structkcenon_1_1monitoring_1_1circuit__breaker__config.html#a6b360c1d83507168e0e93b8d50c1b6a3">reset_timeout</a> = 100ms;</div>
<div class="line"><span class="lineno">  233</span>        </div>
<div class="line"><span class="lineno">  234</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; OBJECTS_PER_ITERATION; ++i) {</div>
<div class="line"><span class="lineno">  235</span>            tracers.push_back(std::make_unique&lt;distributed_tracer&gt;());</div>
<div class="line"><span class="lineno">  236</span>            breakers.push_back(std::make_unique&lt;<a class="code hl_class" href="../../d0/d38/classkcenon_1_1monitoring_1_1circuit__breaker.html">circuit_breaker&lt;bool&gt;</a>&gt;(<span class="stringliteral">&quot;breaker_&quot;</span> + std::to_string(i), cb_config));</div>
<div class="line"><span class="lineno">  237</span>            </div>
<div class="line"><span class="lineno">  238</span>            <span class="comment">// Create spans</span></div>
<div class="line"><span class="lineno">  239</span>            <span class="keyword">auto</span> span = tracers.back()-&gt;start_span(<span class="stringliteral">&quot;test_span_&quot;</span> + std::to_string(i));</div>
<div class="line"><span class="lineno">  240</span>            <span class="keywordflow">if</span> (span.is_ok()) {</div>
<div class="line"><span class="lineno">  241</span>                span.value()-&gt;tags[<span class="stringliteral">&quot;iteration&quot;</span>] = std::to_string(iter);</div>
<div class="line"><span class="lineno">  242</span>            }</div>
<div class="line"><span class="lineno">  243</span>        }</div>
<div class="line"><span class="lineno">  244</span>        </div>
<div class="line"><span class="lineno">  245</span>        <span class="comment">// Clear objects (should free memory)</span></div>
<div class="line"><span class="lineno">  246</span>        tracers.clear();</div>
<div class="line"><span class="lineno">  247</span>        breakers.clear();</div>
<div class="line"><span class="lineno">  248</span>        </div>
<div class="line"><span class="lineno">  249</span>        <span class="comment">// Sample memory usage periodically</span></div>
<div class="line"><span class="lineno">  250</span>        <span class="keywordflow">if</span> (iter % 100 == 0) {</div>
<div class="line"><span class="lineno">  251</span>            memory_samples.push_back(GetCurrentMemoryUsage());</div>
<div class="line"><span class="lineno">  252</span>        }</div>
<div class="line"><span class="lineno">  253</span>    }</div>
<div class="line"><span class="lineno">  254</span>    </div>
<div class="line"><span class="lineno">  255</span>    <span class="comment">// Analyze memory trend</span></div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordflow">if</span> (memory_samples.size() &gt; 2) {</div>
<div class="line"><span class="lineno">  257</span>        <span class="comment">// Check if memory is growing linearly (indicates leak)</span></div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordtype">double</span> correlation = 0;</div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordtype">double</span> mean_x = memory_samples.size() / 2.0;</div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordtype">double</span> mean_y = std::accumulate(memory_samples.begin(), memory_samples.end(), 0.0) / memory_samples.size();</div>
<div class="line"><span class="lineno">  261</span>        </div>
<div class="line"><span class="lineno">  262</span>        <span class="keywordtype">double</span> sum_xy = 0, sum_xx = 0;</div>
<div class="line"><span class="lineno">  263</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; memory_samples.size(); ++i) {</div>
<div class="line"><span class="lineno">  264</span>            sum_xy += (i - mean_x) * (memory_samples[i] - mean_y);</div>
<div class="line"><span class="lineno">  265</span>            sum_xx += (i - mean_x) * (i - mean_x);</div>
<div class="line"><span class="lineno">  266</span>        }</div>
<div class="line"><span class="lineno">  267</span>        </div>
<div class="line"><span class="lineno">  268</span>        <span class="keywordflow">if</span> (sum_xx &gt; 0) {</div>
<div class="line"><span class="lineno">  269</span>            correlation = sum_xy / sqrt(sum_xx);</div>
<div class="line"><span class="lineno">  270</span>        }</div>
<div class="line"><span class="lineno">  271</span>        </div>
<div class="line"><span class="lineno">  272</span>        <span class="comment">// High positive correlation indicates memory leak</span></div>
<div class="line"><span class="lineno">  273</span>        EXPECT_LT(correlation, 0.8) &lt;&lt; <span class="stringliteral">&quot;Potential memory leak detected&quot;</span>;</div>
<div class="line"><span class="lineno">  274</span>    }</div>
<div class="line"><span class="lineno">  275</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1circuit__breaker_html"><div class="ttname"><a href="../../d0/d38/classkcenon_1_1monitoring_1_1circuit__breaker.html">kcenon::monitoring::circuit_breaker</a></div><div class="ttdoc">Thread-safe circuit breaker implementation.</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dd4/circuit__breaker_8h_source.html#l00132">circuit_breaker.h:132</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1circuit__breaker__config_html"><div class="ttname"><a href="../../d3/def/structkcenon_1_1monitoring_1_1circuit__breaker__config.html">kcenon::monitoring::circuit_breaker_config</a></div><div class="ttdoc">Circuit breaker configuration.</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dd4/circuit__breaker_8h_source.html#l00061">circuit_breaker.h:61</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1circuit__breaker__config_html_a6b360c1d83507168e0e93b8d50c1b6a3"><div class="ttname"><a href="../../d3/def/structkcenon_1_1monitoring_1_1circuit__breaker__config.html#a6b360c1d83507168e0e93b8d50c1b6a3">kcenon::monitoring::circuit_breaker_config::reset_timeout</a></div><div class="ttdeci">std::chrono::milliseconds reset_timeout</div><div class="ttdoc">Time before half_open.</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dd4/circuit__breaker_8h_source.html#l00064">circuit_breaker.h:64</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1circuit__breaker__config_html_ad9b2e2d082a0b5b27861de5590f917a2"><div class="ttname"><a href="../../d3/def/structkcenon_1_1monitoring_1_1circuit__breaker__config.html#ad9b2e2d082a0b5b27861de5590f917a2">kcenon::monitoring::circuit_breaker_config::failure_threshold</a></div><div class="ttdeci">size_t failure_threshold</div><div class="ttdoc">Number of failures before opening.</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dd4/circuit__breaker_8h_source.html#l00062">circuit_breaker.h:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aadf4d87471055b0cf2239e2e9832277a" name="aadf4d87471055b0cf2239e2e9832277a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadf4d87471055b0cf2239e2e9832277a">&#9670;&#160;</a></span>TEST_F() <span class="overload">[6/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PerformanceDegradationTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 8: Performance Degradation Test Tests how performance degrades under increasing load </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00572">572</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  572</span>                                                          {</div>
<div class="line"><span class="lineno">  573</span>    <span class="keyword">auto</span> tracer = std::make_unique&lt;distributed_tracer&gt;();</div>
<div class="line"><span class="lineno">  574</span>    </div>
<div class="line"><span class="lineno">  575</span>    <span class="keyword">struct </span>LoadLevel {</div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordtype">int</span> threads;</div>
<div class="line"><span class="lineno">  577</span>        <span class="keywordtype">int</span> operations;</div>
<div class="line"><span class="lineno">  578</span>        <span class="keywordtype">double</span> avg_latency;</div>
<div class="line"><span class="lineno">  579</span>        <span class="keywordtype">double</span> throughput;</div>
<div class="line"><span class="lineno">  580</span>    };</div>
<div class="line"><span class="lineno">  581</span>    </div>
<div class="line"><span class="lineno">  582</span>    std::vector&lt;LoadLevel&gt; load_levels = {</div>
<div class="line"><span class="lineno">  583</span>        {1, 1000, 0, 0},</div>
<div class="line"><span class="lineno">  584</span>        {5, 1000, 0, 0},</div>
<div class="line"><span class="lineno">  585</span>        {10, 1000, 0, 0},</div>
<div class="line"><span class="lineno">  586</span>        {20, 1000, 0, 0},</div>
<div class="line"><span class="lineno">  587</span>        {50, 1000, 0, 0},</div>
<div class="line"><span class="lineno">  588</span>        {100, 1000, 0, 0}</div>
<div class="line"><span class="lineno">  589</span>    };</div>
<div class="line"><span class="lineno">  590</span>    </div>
<div class="line"><span class="lineno">  591</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; level : load_levels) {</div>
<div class="line"><span class="lineno">  592</span>        std::atomic&lt;int64_t&gt; total_latency_us{0};</div>
<div class="line"><span class="lineno">  593</span>        std::atomic&lt;int&gt; completed_ops{0};</div>
<div class="line"><span class="lineno">  594</span>        </div>
<div class="line"><span class="lineno">  595</span>        <span class="keyword">auto</span> start_time = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  596</span>        </div>
<div class="line"><span class="lineno">  597</span>        std::vector&lt;std::thread&gt; threads;</div>
<div class="line"><span class="lineno">  598</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; level.threads; ++t) {</div>
<div class="line"><span class="lineno">  599</span>            threads.emplace_back([&amp;]() {</div>
<div class="line"><span class="lineno">  600</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; level.operations / level.threads; ++i) {</div>
<div class="line"><span class="lineno">  601</span>                    <span class="keyword">auto</span> op_start = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  602</span>                    </div>
<div class="line"><span class="lineno">  603</span>                    <span class="keyword">auto</span> span = tracer-&gt;start_span(<span class="stringliteral">&quot;degradation_op&quot;</span>);</div>
<div class="line"><span class="lineno">  604</span>                    <span class="keywordflow">if</span> (span.is_ok()) {</div>
<div class="line"><span class="lineno">  605</span>                        span.value()-&gt;tags[<span class="stringliteral">&quot;load_level&quot;</span>] = std::to_string(level.threads);</div>
<div class="line"><span class="lineno">  606</span>                        completed_ops++;</div>
<div class="line"><span class="lineno">  607</span>                    }</div>
<div class="line"><span class="lineno">  608</span>                    </div>
<div class="line"><span class="lineno">  609</span>                    <span class="keyword">auto</span> op_end = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  610</span>                    total_latency_us += std::chrono::duration_cast&lt;std::chrono::microseconds&gt;(</div>
<div class="line"><span class="lineno">  611</span>                        op_end - op_start).count();</div>
<div class="line"><span class="lineno">  612</span>                }</div>
<div class="line"><span class="lineno">  613</span>            });</div>
<div class="line"><span class="lineno">  614</span>        }</div>
<div class="line"><span class="lineno">  615</span>        </div>
<div class="line"><span class="lineno">  616</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; thread : threads) {</div>
<div class="line"><span class="lineno">  617</span>            thread.join();</div>
<div class="line"><span class="lineno">  618</span>        }</div>
<div class="line"><span class="lineno">  619</span>        </div>
<div class="line"><span class="lineno">  620</span>        <span class="keyword">auto</span> end_time = std::chrono::high_resolution_clock::now();</div>
<div class="line"><span class="lineno">  621</span>        <span class="keyword">auto</span> duration = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(</div>
<div class="line"><span class="lineno">  622</span>            end_time - start_time).count();</div>
<div class="line"><span class="lineno">  623</span>        </div>
<div class="line"><span class="lineno">  624</span>        level.avg_latency = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(total_latency_us) / completed_ops;</div>
<div class="line"><span class="lineno">  625</span>        level.throughput = (completed_ops * 1000.0) / duration;</div>
<div class="line"><span class="lineno">  626</span>        </div>
<div class="line"><span class="lineno">  627</span>        std::cout &lt;&lt; <span class="stringliteral">&quot;Load level &quot;</span> &lt;&lt; level.threads &lt;&lt; <span class="stringliteral">&quot; threads: &quot;</span></div>
<div class="line"><span class="lineno">  628</span>                  &lt;&lt; <span class="stringliteral">&quot;throughput=&quot;</span> &lt;&lt; level.throughput &lt;&lt; <span class="stringliteral">&quot; ops/sec, &quot;</span></div>
<div class="line"><span class="lineno">  629</span>                  &lt;&lt; <span class="stringliteral">&quot;avg_latency=&quot;</span> &lt;&lt; level.avg_latency &lt;&lt; <span class="stringliteral">&quot; s&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  630</span>    }</div>
<div class="line"><span class="lineno">  631</span>    </div>
<div class="line"><span class="lineno">  632</span>    <span class="comment">// Check for graceful degradation</span></div>
<div class="line"><span class="lineno">  633</span>    <span class="comment">// Verify all load levels completed successfully</span></div>
<div class="line"><span class="lineno">  634</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; level : load_levels) {</div>
<div class="line"><span class="lineno">  635</span>        EXPECT_GT(level.throughput, 0) &lt;&lt; <span class="stringliteral">&quot;Load level &quot;</span> &lt;&lt; level.threads</div>
<div class="line"><span class="lineno">  636</span>            &lt;&lt; <span class="stringliteral">&quot; should have non-zero throughput&quot;</span>;</div>
<div class="line"><span class="lineno">  637</span>        EXPECT_GT(level.avg_latency, 0) &lt;&lt; <span class="stringliteral">&quot;Load level &quot;</span> &lt;&lt; level.threads</div>
<div class="line"><span class="lineno">  638</span>            &lt;&lt; <span class="stringliteral">&quot; should have measurable latency&quot;</span>;</div>
<div class="line"><span class="lineno">  639</span>    }</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>    <span class="comment">// Verify we can handle maximum load (100 threads)</span></div>
<div class="line"><span class="lineno">  642</span>    EXPECT_GT(load_levels.back().throughput, 10000.0)</div>
<div class="line"><span class="lineno">  643</span>        &lt;&lt; <span class="stringliteral">&quot;System should maintain &gt;10K ops/sec at high load&quot;</span>;</div>
<div class="line"><span class="lineno">  644</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ade7260b63ca633652f60a91147beae9b" name="ade7260b63ca633652f60a91147beae9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade7260b63ca633652f60a91147beae9b">&#9670;&#160;</a></span>TEST_F() <span class="overload">[7/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ResourceExhaustionTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 4: Resource Exhaustion Test Tests behavior when resources are exhausted </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00347">347</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  347</span>                                                      {</div>
<div class="line"><span class="lineno">  348</span>    <span class="comment">// Create storage with small capacity</span></div>
<div class="line"><span class="lineno">  349</span>    <a class="code hl_struct" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html">storage_config</a> config;</div>
<div class="line"><span class="lineno">  350</span>    config.<a class="code hl_variable" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#a5470889434a9f2c7dab29555dcb3fe0e">type</a> = storage_backend_type::memory_buffer;</div>
<div class="line"><span class="lineno">  351</span>    config.<a class="code hl_variable" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#ac188a463b7a7516db25844e62991a510">max_capacity</a> = 100; <span class="comment">// Small capacity</span></div>
<div class="line"><span class="lineno">  352</span>    <span class="keyword">auto</span> <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a> = std::make_unique&lt;file_storage_backend&gt;(config);</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>    <span class="comment">// Track results</span></div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordtype">int</span> successful_stores = 0;</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    <span class="comment">// Try to store more than capacity</span></div>
<div class="line"><span class="lineno">  358</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 1000; ++i) {</div>
<div class="line"><span class="lineno">  359</span>        <a class="code hl_struct" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html">metrics_snapshot</a> snapshot;</div>
<div class="line"><span class="lineno">  360</span>        snapshot.<a class="code hl_function" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html#a91c4bb5a196e0ace7716f2d6c54eb1a7">add_metric</a>(<span class="stringliteral">&quot;test_metric&quot;</span>, i);</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>        <span class="keyword">auto</span> result = <a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a>-&gt;store(snapshot);</div>
<div class="line"><span class="lineno">  363</span>        <span class="keywordflow">if</span> (result.is_ok()) {</div>
<div class="line"><span class="lineno">  364</span>            successful_stores++;</div>
<div class="line"><span class="lineno">  365</span>        }</div>
<div class="line"><span class="lineno">  366</span>    }</div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>    <span class="comment">// Storage should handle capacity by evicting old data</span></div>
<div class="line"><span class="lineno">  369</span>    <span class="comment">// All stores should succeed as old entries are removed</span></div>
<div class="line"><span class="lineno">  370</span>    EXPECT_EQ(successful_stores, 1000);</div>
<div class="line"><span class="lineno">  371</span>    <span class="comment">// Size should be limited to max_capacity</span></div>
<div class="line"><span class="lineno">  372</span>    EXPECT_EQ(<a class="code hl_enumvalue" href="../../db/d50/namespacekcenon_1_1monitoring.html#ad5391888a20ee60ea1d9e24da879aa88addecebdea58b5f264d27f1f7909bab74">storage</a>-&gt;size(), config.<a class="code hl_variable" href="../../da/d75/structkcenon_1_1monitoring_1_1storage__config.html#ac188a463b7a7516db25844e62991a510">max_capacity</a>);</div>
<div class="line"><span class="lineno">  373</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/da5/test__stress__performance_8cpp_ade7260b63ca633652f60a91147beae9b_cgraph.png" border="0" usemap="#ade/da5/test__stress__performance_8cpp_ade7260b63ca633652f60a91147beae9b_cgraph" alt=""/></div>
<map name="ade/da5/test__stress__performance_8cpp_ade7260b63ca633652f60a91147beae9b_cgraph" id="ade/da5/test__stress__performance_8cpp_ade7260b63ca633652f60a91147beae9b_cgraph">
<area shape="rect" title=" " alt="" coords="5,20,75,45"/>
<area shape="rect" href="../../dd/dd7/structkcenon_1_1monitoring_1_1metrics__snapshot.html#a91c4bb5a196e0ace7716f2d6c54eb1a7" title="Add a metric to the snapshot." alt="" coords="123,5,276,60"/>
<area shape="poly" title=" " alt="" coords="75,30,109,30,109,35,75,35"/>
</map>
</div>

</div>
</div>
<a id="a6a8ace21bd9bec4ff3d0913957a9b6e5" name="a6a8ace21bd9bec4ff3d0913957a9b6e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a8ace21bd9bec4ff3d0913957a9b6e5">&#9670;&#160;</a></span>TEST_F() <span class="overload">[8/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/dbf/classStressPerformanceTest.html">StressPerformanceTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SustainedLoadTest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Test 5: Sustained Load Test Tests system stability under sustained moderate load </p>

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00379">379</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  379</span>                                                 {</div>
<div class="line"><span class="lineno">  380</span>    <span class="keyword">const</span> <span class="keyword">auto</span> TEST_DURATION = 5s; <span class="comment">// Reduced to 5 seconds for faster testing</span></div>
<div class="line"><span class="lineno">  381</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_THREADS = 10;</div>
<div class="line"><span class="lineno">  382</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> OPS_PER_CYCLE = 100;</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span>    <span class="keyword">auto</span> tracer = std::make_unique&lt;distributed_tracer&gt;();</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    std::atomic&lt;int64_t&gt; total_operations{0};</div>
<div class="line"><span class="lineno">  387</span>    std::atomic&lt;int64_t&gt; failed_operations{0};</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>    <span class="comment">// Worker threads</span></div>
<div class="line"><span class="lineno">  390</span>    std::vector&lt;std::thread&gt; workers;</div>
<div class="line"><span class="lineno">  391</span>    <span class="keyword">auto</span> start_time = std::chrono::steady_clock::now();</div>
<div class="line"><span class="lineno">  392</span> </div>
<div class="line"><span class="lineno">  393</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; NUM_THREADS; ++t) {</div>
<div class="line"><span class="lineno">  394</span>        workers.emplace_back([&amp;, t]() {</div>
<div class="line"><span class="lineno">  395</span>            <span class="keywordflow">while</span> (std::chrono::steady_clock::now() - start_time &lt; TEST_DURATION) {</div>
<div class="line"><span class="lineno">  396</span>                <span class="comment">// Perform operations</span></div>
<div class="line"><span class="lineno">  397</span>                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; OPS_PER_CYCLE; ++i) {</div>
<div class="line"><span class="lineno">  398</span>                    <span class="keyword">auto</span> span = tracer-&gt;start_span(<span class="stringliteral">&quot;sustained_op&quot;</span>);</div>
<div class="line"><span class="lineno">  399</span>                    <span class="keywordflow">if</span> (span.is_ok()) {</div>
<div class="line"><span class="lineno">  400</span>                        span.value()-&gt;tags[<span class="stringliteral">&quot;thread&quot;</span>] = std::to_string(t);</div>
<div class="line"><span class="lineno">  401</span>                        total_operations++;</div>
<div class="line"><span class="lineno">  402</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  403</span>                        failed_operations++;</div>
<div class="line"><span class="lineno">  404</span>                    }</div>
<div class="line"><span class="lineno">  405</span>                }</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>                <span class="comment">// Small sleep to prevent CPU overload</span></div>
<div class="line"><span class="lineno">  408</span>                std::this_thread::sleep_for(10ms);</div>
<div class="line"><span class="lineno">  409</span>            }</div>
<div class="line"><span class="lineno">  410</span>        });</div>
<div class="line"><span class="lineno">  411</span>    }</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>    <span class="comment">// Wait for workers</span></div>
<div class="line"><span class="lineno">  414</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; worker : workers) {</div>
<div class="line"><span class="lineno">  415</span>        worker.join();</div>
<div class="line"><span class="lineno">  416</span>    }</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    <span class="comment">// Calculate results</span></div>
<div class="line"><span class="lineno">  419</span>    <span class="keyword">auto</span> duration = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(</div>
<div class="line"><span class="lineno">  420</span>        std::chrono::steady_clock::now() - start_time);</div>
<div class="line"><span class="lineno">  421</span>    <span class="keywordtype">double</span> avg_throughput = (<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(total_operations) * 1000.0) / duration.count();</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;\n=== Sustained Load Test Results ===&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  424</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Duration: &quot;</span> &lt;&lt; duration.count() &lt;&lt; <span class="stringliteral">&quot; ms&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  425</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Total operations: &quot;</span> &lt;&lt; total_operations &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  426</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Failed operations: &quot;</span> &lt;&lt; failed_operations &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  427</span>    std::cout &lt;&lt; <span class="stringliteral">&quot;Average throughput: &quot;</span> &lt;&lt; avg_throughput &lt;&lt; <span class="stringliteral">&quot; ops/sec&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>    <span class="comment">// System should remain stable with minimal failures</span></div>
<div class="line"><span class="lineno">  430</span>    EXPECT_EQ(failed_operations, 0);</div>
<div class="line"><span class="lineno">  431</span>    EXPECT_GT(total_operations, 0);</div>
<div class="line"><span class="lineno">  432</span>    EXPECT_GT(avg_throughput, 1000.0); <span class="comment">// At least 1000 ops/sec</span></div>
<div class="line"><span class="lineno">  433</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a67884643e97237488ddcb66dbd76e94e" name="a67884643e97237488ddcb66dbd76e94e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67884643e97237488ddcb66dbd76e94e">&#9670;&#160;</a></span>SANITIZER_OVERHEAD_FACTOR</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr double SANITIZER_OVERHEAD_FACTOR = <a class="el" href="../../de/da5/test__stress__performance_8cpp.html#a1d103acc1543ddcc0a3485fc9d6e688c">RUNNING_WITH_ASAN</a> ? 2.0 : 1.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html#l00065">65</a> of file <a class="el" href="../../de/da5/test__stress__performance_8cpp_source.html">test_stress_performance.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jan 17 2026 14:24:23 for Monitoring System by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
