<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monitoring System: tests/test_system_resource_collector.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Monitoring System
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_59425e443f801f1f2fd8bbe4959a3ccf.html">tests</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">test_system_resource_collector.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;gtest/gtest.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d7/d9f/system__resource__collector_8h_source.html">kcenon/monitoring/collectors/system_resource_collector.h</a>&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;unordered_set&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for test_system_resource_collector.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/dde/test__system__resource__collector_8cpp__incl.png" border="0" usemap="#atests_2test__system__resource__collector_8cpp" alt=""/></div>
<map name="atests_2test__system__resource__collector_8cpp" id="atests_2test__system__resource__collector_8cpp">
<area shape="rect" title=" " alt="" coords="2041,5,2242,45"/>
<area shape="rect" title=" " alt="" coords="5,101,109,126"/>
<area shape="poly" title=" " alt="" coords="2040,30,1645,33,1092,43,535,63,304,77,128,96,108,100,107,95,128,91,303,72,535,57,1092,37,1645,28,2040,24"/>
<area shape="rect" href="../../d7/d9f/system__resource__collector_8h.html" title=" " alt="" coords="2036,93,2247,133"/>
<area shape="poly" title=" " alt="" coords="2144,46,2144,79,2139,79,2139,46"/>
<area shape="rect" title=" " alt="" coords="496,577,563,603"/>
<area shape="poly" title=" " alt="" coords="2040,32,1574,50,942,83,639,105,386,131,287,146,212,161,165,178,153,186,149,193,149,276,152,307,159,336,171,363,187,389,228,436,278,475,333,509,388,536,484,573,482,578,386,541,330,514,275,480,224,439,183,392,167,366,154,338,147,308,144,276,144,192,149,182,162,173,211,156,286,140,385,126,639,100,941,77,1573,44,2040,27"/>
<area shape="rect" title=" " alt="" coords="2789,262,2853,287"/>
<area shape="poly" title=" " alt="" coords="2243,32,2396,49,2571,78,2654,97,2727,120,2786,148,2808,163,2825,180,2833,196,2836,214,2832,249,2827,248,2831,214,2828,198,2821,183,2805,167,2783,152,2725,125,2652,102,2569,83,2395,54,2242,37"/>
<area shape="rect" title=" " alt="" coords="2909,101,3024,126"/>
<area shape="poly" title=" " alt="" coords="2243,28,2535,48,2713,66,2891,91,2912,95,2911,100,2890,96,2712,71,2534,53,2242,33"/>
<area shape="rect" title=" " alt="" coords="2728,181,2784,207"/>
<area shape="poly" title=" " alt="" coords="2247,119,2460,140,2586,157,2715,179,2714,184,2585,162,2459,145,2247,124"/>
<area shape="rect" title=" " alt="" coords="1987,262,2053,287"/>
<area shape="poly" title=" " alt="" coords="2120,135,2074,183,2051,218,2033,251,2029,248,2047,215,2070,180,2117,132"/>
<area shape="poly" title=" " alt="" coords="2036,120,1719,127,1312,141,940,160,805,171,726,184,685,196,654,209,626,227,595,256,566,295,550,330,527,417,508,473,505,497,508,529,520,564,515,566,503,530,499,497,503,472,521,415,545,328,561,292,591,253,623,223,651,204,683,191,725,179,805,166,939,155,1312,136,1719,122,2036,114"/>
<area shape="rect" title=" " alt="" coords="1009,739,1076,764"/>
<area shape="poly" title=" " alt="" coords="2036,119,1690,127,1239,140,823,159,672,171,583,184,424,227,355,252,294,282,244,320,224,343,207,368,193,397,183,430,177,467,175,508,175,591,181,605,201,619,233,633,276,647,385,671,516,693,790,725,996,744,995,749,790,731,515,698,384,676,274,652,231,638,199,624,177,609,169,592,169,508,171,466,178,429,188,395,202,366,220,339,241,316,291,277,353,247,423,222,582,179,671,165,822,154,1239,135,1690,121,2036,114"/>
<area shape="rect" title=" " alt="" coords="2230,181,2303,207"/>
<area shape="poly" title=" " alt="" coords="2173,131,2238,172,2235,176,2170,136"/>
<area shape="rect" title=" " alt="" coords="2328,181,2403,207"/>
<area shape="poly" title=" " alt="" coords="2196,131,2321,174,2319,179,2194,136"/>
<area shape="rect" title=" " alt="" coords="2427,181,2507,207"/>
<area shape="poly" title=" " alt="" coords="2220,131,2414,177,2413,182,2219,136"/>
<area shape="rect" title=" " alt="" coords="675,416,752,441"/>
<area shape="poly" title=" " alt="" coords="2036,120,1708,131,1288,156,1085,174,910,196,838,210,779,224,736,240,710,257,699,272,692,290,689,330,695,369,706,403,701,404,690,371,684,330,687,289,694,270,706,253,733,235,777,219,837,204,909,191,1084,168,1287,150,1708,126,2036,114"/>
<area shape="rect" title=" " alt="" coords="241,577,305,603"/>
<area shape="poly" title=" " alt="" coords="2036,118,1702,123,1270,134,1059,142,874,153,732,167,682,175,649,184,584,211,530,238,485,266,446,298,411,335,379,378,309,491,292,528,281,564,276,563,287,527,304,488,374,375,407,332,442,295,482,262,527,233,582,206,647,179,681,170,731,162,874,148,1059,137,1270,128,1702,118,2035,113"/>
<area shape="rect" title=" " alt="" coords="2531,181,2605,207"/>
<area shape="poly" title=" " alt="" coords="2247,129,2518,178,2517,184,2246,134"/>
<area shape="rect" title=" " alt="" coords="2629,181,2704,207"/>
<area shape="poly" title=" " alt="" coords="2247,124,2416,146,2616,179,2615,184,2415,152,2246,129"/>
<area shape="rect" title=" " alt="" coords="1521,739,1580,764"/>
<area shape="poly" title=" " alt="" coords="2154,133,2180,194,2190,233,2195,273,2195,592,2189,615,2174,635,2151,653,2120,670,2042,696,1948,717,1847,732,1748,742,1594,751,1594,746,1748,736,1846,726,1947,711,2040,691,2118,665,2148,649,2170,631,2184,612,2189,591,2189,273,2185,234,2175,196,2149,135"/>
<area shape="poly" title=" " alt="" coords="2247,116,2401,125,2572,137,2718,155,2769,166,2798,179,2810,194,2818,212,2824,247,2819,248,2813,214,2806,197,2794,183,2767,172,2717,161,2571,143,2400,130,2247,122"/>
<area shape="rect" title=" " alt="" coords="1787,577,1911,603"/>
<area shape="poly" title=" " alt="" coords="2144,134,2144,273,2144,430,2144,461,2141,486,2131,509,2111,531,2080,549,2033,563,1925,582,1924,577,2032,558,2078,544,2108,527,2127,506,2136,485,2138,461,2139,430,2139,273,2139,134"/>
<area shape="rect" title=" " alt="" coords="1506,577,1569,603"/>
<area shape="poly" title=" " alt="" coords="2134,135,2108,196,2098,234,2093,273,2093,432,2030,453,1886,495,1582,579,1581,574,1885,490,2029,448,2089,428,2088,273,2092,233,2103,194,2129,133"/>
<area shape="rect" href="../../d6/da5/plugin__metric__collector_8h.html" title=" " alt="" coords="1161,181,1346,207"/>
<area shape="poly" title=" " alt="" coords="2036,127,1360,186,1360,181,2036,121"/>
<area shape="rect" href="../../d3/db8/time__series__buffer_8h.html" title="Generic time&#45;series buffer for metric history tracking." alt="" coords="909,489,1051,529"/>
<area shape="poly" title=" " alt="" coords="2036,118,1769,122,1426,133,1091,153,953,167,848,184,749,202,711,220,693,235,674,256,643,304,633,327,627,349,626,371,631,393,641,416,657,440,671,452,694,463,754,480,826,492,895,500,895,505,825,498,753,485,692,468,669,456,653,443,636,419,626,395,621,372,622,348,628,325,638,302,670,253,689,231,708,215,747,197,848,179,952,161,1091,147,1426,128,1769,117,2035,113"/>
<area shape="poly" title=" " alt="" coords="1346,193,1471,196,1627,205,1798,223,1969,252,1980,255,1979,260,1967,257,1797,228,1626,210,1471,201,1346,198"/>
<area shape="poly" title=" " alt="" coords="1160,198,1035,201,893,210,762,228,711,241,673,257,637,281,609,304,586,327,568,352,541,412,516,490,513,509,513,528,522,563,517,564,508,529,507,508,511,489,536,410,564,350,582,324,605,300,634,276,671,252,709,236,761,223,892,205,1035,196,1160,193"/>
<area shape="poly" title=" " alt="" coords="1161,199,1052,203,932,212,824,230,781,242,751,257,725,280,711,304,706,332,707,368,711,402,706,403,701,368,700,332,706,302,721,276,748,252,779,237,822,224,931,207,1052,197,1160,193"/>
<area shape="poly" title=" " alt="" coords="1160,198,1019,202,855,211,701,229,640,241,594,257,540,288,489,327,442,370,400,415,332,502,289,567,285,564,328,499,396,412,438,366,486,323,537,284,592,252,639,236,701,223,854,206,1019,197,1160,193"/>
<area shape="poly" title=" " alt="" coords="1346,193,1481,196,1637,205,1781,223,1839,236,1882,252,1936,285,1957,302,1974,321,1987,342,1996,366,2001,395,2003,427,2003,592,1997,627,1982,653,1958,673,1925,693,1898,705,1862,715,1770,732,1594,750,1593,745,1770,726,1860,710,1897,700,1923,688,1954,669,1978,649,1992,625,1997,591,1997,427,1996,395,1990,368,1982,344,1969,324,1953,306,1933,289,1880,257,1838,241,1780,228,1637,211,1481,202,1346,198"/>
<area shape="poly" title=" " alt="" coords="1346,197,2775,268,2775,274,1346,203"/>
<area shape="poly" title=" " alt="" coords="1346,192,1464,195,1595,204,1715,222,1762,235,1796,252,1841,291,1856,311,1867,333,1877,381,1876,442,1867,509,1857,565,1852,564,1862,508,1871,441,1872,382,1862,335,1852,314,1837,295,1793,257,1760,240,1713,227,1595,209,1464,200,1346,198"/>
<area shape="poly" title=" " alt="" coords="1326,204,1432,225,1553,255,1609,273,1658,293,1697,316,1722,341,1728,353,1728,365,1716,382,1675,418,1608,500,1556,568,1552,565,1604,496,1671,414,1712,379,1722,363,1722,355,1718,344,1694,320,1656,298,1607,278,1551,260,1431,230,1325,209"/>
<area shape="rect" title=" " alt="" coords="587,577,672,603"/>
<area shape="poly" title=" " alt="" coords="1160,200,1036,205,895,215,764,232,712,244,673,257,614,287,572,318,540,359,511,417,505,439,508,461,516,483,529,503,564,540,601,567,597,572,561,543,525,506,511,485,503,462,500,439,505,415,535,356,568,314,611,283,671,252,711,238,763,227,894,210,1036,200,1160,195"/>
<area shape="rect" title=" " alt="" coords="783,262,926,287"/>
<area shape="poly" title=" " alt="" coords="1190,209,939,257,919,262,918,256,938,252,1189,204"/>
<area shape="rect" title=" " alt="" coords="717,343,803,368"/>
<area shape="poly" title=" " alt="" coords="1160,203,926,223,825,239,791,247,772,257,762,272,757,291,758,329,752,329,752,290,757,270,769,253,789,242,824,233,925,218,1160,198"/>
<area shape="rect" title=" " alt="" coords="951,262,1001,287"/>
<area shape="poly" title=" " alt="" coords="1192,209,1107,229,1014,257,1010,259,1008,254,1012,252,1105,224,1191,204"/>
<area shape="rect" title=" " alt="" coords="1837,658,1912,683"/>
<area shape="poly" title=" " alt="" coords="1347,193,1472,196,1614,205,1745,223,1797,236,1836,252,1888,287,1924,323,1936,344,1945,368,1952,427,1952,511,1946,559,1926,604,1896,649,1892,646,1922,601,1941,558,1947,511,1947,427,1940,369,1931,346,1919,326,1884,291,1833,257,1796,241,1744,228,1614,210,1472,201,1346,198"/>
<area shape="rect" title=" " alt="" coords="1026,262,1089,287"/>
<area shape="poly" title=" " alt="" coords="1224,209,1101,257,1096,259,1094,254,1099,252,1222,204"/>
<area shape="rect" title=" " alt="" coords="1113,262,1199,287"/>
<area shape="poly" title=" " alt="" coords="1241,209,1183,255,1179,251,1237,205"/>
<area shape="rect" title=" " alt="" coords="1223,262,1283,287"/>
<area shape="poly" title=" " alt="" coords="1256,207,1256,248,1251,248,1251,207"/>
<area shape="rect" href="../../d7/d8d/metric__collector__interface_8h.html" title="Abstract interface for metric collection components." alt="" coords="1308,255,1471,295"/>
<area shape="poly" title=" " alt="" coords="1275,205,1346,245,1343,250,1272,209"/>
<area shape="rect" href="../../dc/d0b/metric__types__adapter_8h.html" title="Adapter for metric types to support interface definitions." alt="" coords="1686,416,1861,441"/>
<area shape="poly" title=" " alt="" coords="1347,197,1467,205,1598,216,1708,232,1746,242,1767,253,1779,270,1788,289,1794,330,1791,370,1784,403,1778,402,1785,369,1788,330,1782,290,1775,272,1764,257,1744,246,1707,237,1598,221,1467,210,1346,202"/>
<area shape="rect" href="../../df/d4b/metric__types_8h.html" title="Common metric type definitions for efficient storage." alt="" coords="1076,497,1239,522"/>
<area shape="poly" title=" " alt="" coords="1160,202,892,222,773,238,732,247,710,257,692,274,681,291,670,326,669,367,665,416,662,430,665,440,677,451,694,460,738,473,792,480,852,483,971,483,1063,487,1091,491,1090,497,1062,492,971,488,852,488,792,485,737,478,692,465,674,455,660,443,657,430,660,416,663,366,665,325,676,289,688,271,706,252,730,242,772,233,892,217,1160,197"/>
<area shape="rect" href="../../dd/df2/observer__interface_8h.html" title="Observer pattern interface for monitoring system event handling." alt="" coords="1553,343,1709,368"/>
<area shape="poly" title=" " alt="" coords="1322,204,1401,223,1484,252,1553,292,1608,332,1605,336,1550,296,1482,257,1399,228,1321,209"/>
<area shape="poly" title=" " alt="" coords="1308,295,1295,297,1196,308,1118,312,1042,320,998,330,948,345,882,379,772,443,561,572,558,568,769,439,880,374,946,340,997,324,1041,315,1118,306,1196,303,1294,292,1307,290"/>
<area shape="poly" title=" " alt="" coords="1308,295,1295,297,1176,309,1082,311,989,318,936,328,874,345,815,373,746,411,743,407,812,368,872,340,935,323,989,313,1082,306,1175,304,1294,292,1307,290"/>
<area shape="poly" title=" " alt="" coords="1308,295,1062,345,1059,355,1063,367,1079,408,1091,423,1110,439,1128,451,1146,457,1180,462,1215,467,1233,474,1252,487,1276,515,1287,542,1295,570,1313,601,1354,650,1405,688,1458,716,1509,735,1507,740,1456,721,1403,693,1350,654,1308,604,1290,572,1281,544,1271,518,1249,491,1231,479,1214,472,1180,467,1145,463,1126,456,1106,443,1087,427,1074,411,1057,369,1053,355,1058,341,1307,290"/>
<area shape="poly" title=" " alt="" coords="1433,292,1464,313,1490,341,1502,376,1514,438,1536,564,1531,564,1509,439,1496,377,1486,344,1460,317,1430,297"/>
<area shape="poly" title=" " alt="" coords="1308,295,1295,297,1246,304,1203,306,1130,306,1095,308,1060,314,1020,326,976,345,790,531,738,558,686,577,684,572,736,553,786,527,973,340,1019,321,1058,309,1095,303,1130,301,1203,301,1245,298,1294,292,1307,290"/>
<area shape="poly" title=" " alt="" coords="1308,295,1295,297,1163,314,1059,322,955,330,823,345,817,346,816,341,822,340,955,324,1059,317,1162,308,1294,292,1307,290"/>
<area shape="rect" title=" " alt="" coords="1081,343,1161,368"/>
<area shape="poly" title=" " alt="" coords="1326,297,1174,341,1173,336,1324,292"/>
<area shape="rect" title=" " alt="" coords="1186,343,1278,368"/>
<area shape="poly" title=" " alt="" coords="1353,297,1269,339,1266,334,1350,292"/>
<area shape="rect" href="../../d1/d7d/result__types_8h.html" title="Result pattern type definitions for monitoring system." alt="" coords="1323,577,1482,603"/>
<area shape="poly" title=" " alt="" coords="1309,295,1071,345,1067,355,1072,367,1094,397,1118,417,1143,429,1170,438,1229,454,1262,467,1296,487,1345,527,1384,565,1381,569,1342,531,1293,492,1260,472,1228,459,1168,443,1141,434,1115,421,1090,400,1067,369,1062,355,1068,341,1307,290"/>
<area shape="rect" href="../../d5/daa/feature__flags_8h.html" title="Unified feature flags header for monitoring_system." alt="" coords="1302,343,1477,368"/>
<area shape="poly" title=" " alt="" coords="1392,295,1392,329,1387,329,1387,295"/>
<area shape="poly" title=" " alt="" coords="1471,282,1613,305,1677,321,1721,340,1737,354,1749,370,1767,402,1762,405,1745,373,1733,357,1719,345,1675,326,1612,310,1470,288"/>
<area shape="poly" title=" " alt="" coords="1448,292,1583,336,1581,341,1446,297"/>
<area shape="poly" title=" " alt="" coords="1405,603,1410,644,1418,668,1430,689,1447,705,1467,719,1509,737,1507,742,1464,723,1444,710,1426,692,1413,670,1405,645,1400,603"/>
<area shape="poly" title=" " alt="" coords="1472,600,1824,658,1823,664,1471,605"/>
<area shape="rect" href="../../de/d11/error__codes_8h.html" title="Monitoring system specific error codes." alt="" coords="1081,658,1191,683"/>
<area shape="poly" title=" " alt="" coords="1365,605,1189,657,1187,652,1363,600"/>
<area shape="rect" title=" " alt="" coords="1441,651,1629,691"/>
<area shape="poly" title=" " alt="" coords="1424,601,1492,641,1490,646,1421,605"/>
<area shape="poly" title=" " alt="" coords="1124,686,1069,732,1065,728,1121,681"/>
<area shape="poly" title=" " alt="" coords="1183,681,1217,688,1508,740,1507,746,1215,693,1182,686"/>
<area shape="poly" title=" " alt="" coords="1777,441,1779,487,1775,553,1768,590,1757,627,1741,661,1719,692,1692,716,1659,732,1625,743,1594,749,1593,744,1624,738,1657,727,1689,711,1715,689,1737,659,1752,625,1763,589,1769,553,1774,487,1772,442"/>
<area shape="poly" title=" " alt="" coords="1781,440,1840,564,1835,566,1776,443"/>
<area shape="poly" title=" " alt="" coords="1686,444,1252,499,1252,493,1685,438"/>
<area shape="rect" title=" " alt="" coords="1593,577,1661,603"/>
<area shape="poly" title=" " alt="" coords="1765,443,1649,569,1645,565,1761,440"/>
<area shape="poly" title=" " alt="" coords="1105,525,1063,532,928,548,821,554,714,562,577,580,576,575,713,556,821,549,928,542,1062,527,1104,519"/>
<area shape="poly" title=" " alt="" coords="1151,524,1114,579,1090,614,1070,652,1058,690,1050,726,1044,724,1053,689,1066,650,1086,611,1110,576,1147,521"/>
<area shape="poly" title=" " alt="" coords="1169,520,1210,576,1226,610,1234,638,1245,664,1268,689,1286,698,1311,708,1376,723,1508,743,1507,748,1375,728,1310,713,1284,703,1265,693,1240,667,1229,640,1221,611,1206,579,1165,524"/>
<area shape="poly" title=" " alt="" coords="1239,517,1774,577,1773,583,1238,522"/>
<area shape="poly" title=" " alt="" coords="1221,519,1493,575,1492,580,1220,525"/>
<area shape="poly" title=" " alt="" coords="1103,525,1063,532,959,547,876,556,793,565,686,580,685,575,792,559,876,550,958,541,1062,527,1102,519"/>
<area shape="poly" title=" " alt="" coords="1194,519,1355,571,1353,576,1192,525"/>
<area shape="poly" title=" " alt="" coords="1150,524,1134,548,1121,578,1120,613,1128,645,1123,646,1115,613,1116,577,1130,545,1146,521"/>
<area shape="poly" title=" " alt="" coords="1239,519,1393,542,1580,575,1579,580,1392,547,1238,524"/>
<area shape="rect" title=" " alt="" coords="942,577,1005,603"/>
<area shape="poly" title=" " alt="" coords="1132,524,1013,575,1011,570,1130,520"/>
<area shape="rect" title=" " alt="" coords="1131,577,1197,603"/>
<area shape="poly" title=" " alt="" coords="1161,522,1165,563,1159,564,1156,522"/>
<area shape="rect" title=" " alt="" coords="859,577,917,603"/>
<area shape="poly" title=" " alt="" coords="1119,525,931,579,930,574,1117,519"/>
<area shape="poly" title=" " alt="" coords="1553,369,1426,386,1262,413,1079,448,897,492,843,511,789,532,685,557,577,580,576,574,684,552,787,527,841,506,895,487,1078,443,1261,408,1425,381,1552,364"/>
<area shape="poly" title=" " alt="" coords="1553,366,1488,371,766,426,765,421,1488,365,1552,360"/>
<area shape="poly" title=" " alt="" coords="1638,368,1652,407,1668,465,1678,533,1678,568,1675,603,1665,651,1657,670,1642,692,1617,716,1590,735,1587,730,1614,712,1638,689,1653,668,1660,649,1669,602,1673,568,1672,533,1662,466,1647,408,1633,369"/>
<area shape="poly" title=" " alt="" coords="1605,370,1568,390,1530,418,1494,455,1463,496,1418,567,1413,564,1458,493,1490,452,1526,414,1565,386,1603,366"/>
<area shape="poly" title=" " alt="" coords="1655,366,1739,407,1737,412,1652,370"/>
<area shape="poly" title=" " alt="" coords="1633,368,1632,416,1630,564,1624,564,1627,416,1628,368"/>
<area shape="poly" title=" " alt="" coords="909,523,760,546,577,580,576,575,759,541,908,518"/>
<area shape="poly" title=" " alt="" coords="909,521,319,586,319,581,908,516"/>
<area shape="poly" title=" " alt="" coords="1052,524,1064,527,1183,542,1276,550,1372,557,1493,575,1492,580,1371,563,1276,555,1182,548,1064,532,1051,530"/>
<area shape="poly" title=" " alt="" coords="909,529,686,579,685,574,908,524"/>
<area shape="poly" title=" " alt="" coords="1052,524,1065,527,1320,572,1319,578,1063,532,1051,529"/>
<area shape="poly" title=" " alt="" coords="914,532,881,545,855,562,847,571,843,580,843,590,849,601,862,612,883,623,939,640,1004,652,1067,661,1067,666,1004,658,938,645,881,628,859,617,845,604,838,592,837,579,842,568,852,558,879,541,912,527"/>
<area shape="poly" title=" " alt="" coords="981,530,978,564,973,563,976,529"/>
<area shape="poly" title=" " alt="" coords="959,532,914,570,910,566,956,528"/>
<area shape="rect" title=" " alt="" coords="697,577,783,603"/>
<area shape="poly" title=" " alt="" coords="923,532,789,576,787,571,922,527"/>
</map>
</div>
</div>
<p><a href="../../d5/dc8/test__system__resource__collector_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9736ddd1c62e0b1f58049c5427b97b2a" id="r_a9736ddd1c62e0b1f58049c5427b97b2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp.html#a9736ddd1c62e0b1f58049c5427b97b2a">TEST_F</a> (<a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>, Initialization)</td></tr>
<tr class="separator:a9736ddd1c62e0b1f58049c5427b97b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c554ea43d87ae0fd11fb140d267e07c" id="r_a5c554ea43d87ae0fd11fb140d267e07c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp.html#a5c554ea43d87ae0fd11fb140d267e07c">TEST_F</a> (<a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>, CollectMetrics)</td></tr>
<tr class="separator:a5c554ea43d87ae0fd11fb140d267e07c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74badee05d1d5d1c6529be9c295e9090" id="r_a74badee05d1d5d1c6529be9c295e9090"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp.html#a74badee05d1d5d1c6529be9c295e9090">TEST_F</a> (<a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>, ContextSwitchMonitoring)</td></tr>
<tr class="separator:a74badee05d1d5d1c6529be9c295e9090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab27974900a463b641d0c1b7d40113ba2" id="r_ab27974900a463b641d0c1b7d40113ba2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp.html#ab27974900a463b641d0c1b7d40113ba2">TEST_F</a> (<a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>, DiskMetricsCollection)</td></tr>
<tr class="separator:ab27974900a463b641d0c1b7d40113ba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1845f3bf610e06a364959568731985a3" id="r_a1845f3bf610e06a364959568731985a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp.html#a1845f3bf610e06a364959568731985a3">TEST_F</a> (<a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>, NetworkMetricsCollection)</td></tr>
<tr class="separator:a1845f3bf610e06a364959568731985a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31f143d9e5fd51d5fc1fcc5230b16a09" id="r_a31f143d9e5fd51d5fc1fcc5230b16a09"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp.html#a31f143d9e5fd51d5fc1fcc5230b16a09">TEST_F</a> (<a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>, GetMetricTypesIncludesNewMetrics)</td></tr>
<tr class="separator:a31f143d9e5fd51d5fc1fcc5230b16a09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a868f05767f99a1006c57c50d5807bf41" id="r_a868f05767f99a1006c57c50d5807bf41"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp.html#a868f05767f99a1006c57c50d5807bf41">TEST_F</a> (<a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>, CollectionFiltersWork)</td></tr>
<tr class="separator:a868f05767f99a1006c57c50d5807bf41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a868f05767f99a1006c57c50d5807bf41" name="a868f05767f99a1006c57c50d5807bf41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a868f05767f99a1006c57c50d5807bf41">&#9670;&#160;</a></span>TEST_F() <span class="overload">[1/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CollectionFiltersWork&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html#l00213">213</a> of file <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html">test_system_resource_collector.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  213</span>                                                           {</div>
<div class="line"><span class="lineno">  214</span>    <span class="comment">// Disable disk and network metrics</span></div>
<div class="line"><span class="lineno">  215</span>    collector-&gt;set_collection_filters(<span class="keyword">true</span>, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    <span class="keyword">auto</span> metrics = collector-&gt;collect();</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordtype">bool</span> has_cpu = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  220</span>    <span class="keywordtype">bool</span> has_disk = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  221</span>    <span class="keywordtype">bool</span> has_network = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; m : metrics) {</div>
<div class="line"><span class="lineno">  224</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;cpu_usage_percent&quot;</span>) has_cpu = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  225</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;disk_usage_percent&quot;</span>) has_disk = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  226</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;network_rx_bytes_per_sec&quot;</span>) has_network = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  227</span>    }</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>    EXPECT_TRUE(has_cpu) &lt;&lt; <span class="stringliteral">&quot;CPU metrics should be collected when enabled&quot;</span>;</div>
<div class="line"><span class="lineno">  230</span>    EXPECT_FALSE(has_disk) &lt;&lt; <span class="stringliteral">&quot;Disk metrics should not be collected when disabled&quot;</span>;</div>
<div class="line"><span class="lineno">  231</span>    EXPECT_FALSE(has_network) &lt;&lt; <span class="stringliteral">&quot;Network metrics should not be collected when disabled&quot;</span>;</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>    <span class="comment">// Re-enable all metrics</span></div>
<div class="line"><span class="lineno">  234</span>    collector-&gt;set_collection_filters(<span class="keyword">true</span>, <span class="keyword">true</span>, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    metrics = collector-&gt;collect();</div>
<div class="line"><span class="lineno">  237</span>    has_disk = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  238</span>    has_network = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; m : metrics) {</div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;disk_usage_percent&quot;</span>) has_disk = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;network_rx_bytes_per_sec&quot;</span>) has_network = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  243</span>    }</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>    EXPECT_TRUE(has_disk) &lt;&lt; <span class="stringliteral">&quot;Disk metrics should be collected when re-enabled&quot;</span>;</div>
<div class="line"><span class="lineno">  246</span>    EXPECT_TRUE(has_network) &lt;&lt; <span class="stringliteral">&quot;Network metrics should be collected when re-enabled&quot;</span>;</div>
<div class="line"><span class="lineno">  247</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5c554ea43d87ae0fd11fb140d267e07c" name="a5c554ea43d87ae0fd11fb140d267e07c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c554ea43d87ae0fd11fb140d267e07c">&#9670;&#160;</a></span>TEST_F() <span class="overload">[2/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CollectMetrics&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html#l00025">25</a> of file <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html">test_system_resource_collector.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span>                                                    {</div>
<div class="line"><span class="lineno">   26</span>    <span class="comment">// First collection might be zero for rates</span></div>
<div class="line"><span class="lineno">   27</span>    <span class="keyword">auto</span> metrics1 = collector-&gt;collect();</div>
<div class="line"><span class="lineno">   28</span>    EXPECT_FALSE(metrics1.empty());</div>
<div class="line"><span class="lineno">   29</span>    </div>
<div class="line"><span class="lineno">   30</span>    <span class="comment">// Check metric names exist</span></div>
<div class="line"><span class="lineno">   31</span>    <span class="keywordtype">bool</span> has_cpu = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   32</span>    <span class="keywordtype">bool</span> has_memory = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   33</span>    <span class="keywordtype">bool</span> has_context = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   34</span>    </div>
<div class="line"><span class="lineno">   35</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; m : metrics1) {</div>
<div class="line"><span class="lineno">   36</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;cpu_usage_percent&quot;</span>) has_cpu = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   37</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;memory_usage_percent&quot;</span>) has_memory = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   38</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;context_switches_total&quot;</span>) has_context = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   39</span>    }</div>
<div class="line"><span class="lineno">   40</span>    </div>
<div class="line"><span class="lineno">   41</span>    EXPECT_TRUE(has_cpu);</div>
<div class="line"><span class="lineno">   42</span>    EXPECT_TRUE(has_memory);</div>
<div class="line"><span class="lineno">   43</span>    EXPECT_TRUE(has_context);</div>
<div class="line"><span class="lineno">   44</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a74badee05d1d5d1c6529be9c295e9090" name="a74badee05d1d5d1c6529be9c295e9090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74badee05d1d5d1c6529be9c295e9090">&#9670;&#160;</a></span>TEST_F() <span class="overload">[3/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ContextSwitchMonitoring&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html#l00046">46</a> of file <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html">test_system_resource_collector.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>                                                             {</div>
<div class="line"><span class="lineno">   47</span>    <span class="comment">// First collection</span></div>
<div class="line"><span class="lineno">   48</span>    <span class="keyword">auto</span> metrics1 = collector-&gt;collect();</div>
<div class="line"><span class="lineno">   49</span>    uint64_t csw_total_1 = 0;</div>
<div class="line"><span class="lineno">   50</span>    </div>
<div class="line"><span class="lineno">   51</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; m : metrics1) {</div>
<div class="line"><span class="lineno">   52</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;context_switches_total&quot;</span>) {</div>
<div class="line"><span class="lineno">   53</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">   54</span>                csw_total_1 = <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(std::get&lt;double&gt;(m.value));</div>
<div class="line"><span class="lineno">   55</span>            } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">   56</span>                 <span class="keywordflow">try</span> { csw_total_1 = <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(std::get&lt;int64_t&gt;(m.value)); } <span class="keywordflow">catch</span>(...) {}</div>
<div class="line"><span class="lineno">   57</span>            }</div>
<div class="line"><span class="lineno">   58</span>        }</div>
<div class="line"><span class="lineno">   59</span>    }</div>
<div class="line"><span class="lineno">   60</span>    </div>
<div class="line"><span class="lineno">   61</span>    EXPECT_GT(csw_total_1, 0) &lt;&lt; <span class="stringliteral">&quot;Context switches should be non-zero (unless platform stubbed)&quot;</span>;</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>    <span class="comment">// Sleep to allow context switches to happen</span></div>
<div class="line"><span class="lineno">   64</span>    std::this_thread::sleep_for(std::chrono::milliseconds(100));</div>
<div class="line"><span class="lineno">   65</span>    </div>
<div class="line"><span class="lineno">   66</span>    <span class="comment">// Second collection</span></div>
<div class="line"><span class="lineno">   67</span>    <span class="keyword">auto</span> metrics2 = collector-&gt;collect();</div>
<div class="line"><span class="lineno">   68</span>    uint64_t csw_total_2 = 0;</div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordtype">double</span> csw_rate = 0.0;</div>
<div class="line"><span class="lineno">   70</span>    </div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; m : metrics2) {</div>
<div class="line"><span class="lineno">   72</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;context_switches_total&quot;</span>) {</div>
<div class="line"><span class="lineno">   73</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">   74</span>                csw_total_2 = <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(std::get&lt;double&gt;(m.value));</div>
<div class="line"><span class="lineno">   75</span>            } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">   76</span>                 <span class="comment">// Try int64_t if double fails</span></div>
<div class="line"><span class="lineno">   77</span>                 <span class="keywordflow">try</span> { csw_total_2 = <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(std::get&lt;int64_t&gt;(m.value)); } <span class="keywordflow">catch</span>(...) {}</div>
<div class="line"><span class="lineno">   78</span>            }</div>
<div class="line"><span class="lineno">   79</span>        }</div>
<div class="line"><span class="lineno">   80</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;context_switches_per_sec&quot;</span>) {</div>
<div class="line"><span class="lineno">   81</span>            <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">   82</span>                csw_rate = std::get&lt;double&gt;(m.value);</div>
<div class="line"><span class="lineno">   83</span>            } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><span class="lineno">   84</span>                 <span class="keywordflow">try</span> { csw_rate = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(std::get&lt;int64_t&gt;(m.value)); } <span class="keywordflow">catch</span>(...) {}</div>
<div class="line"><span class="lineno">   85</span>            }</div>
<div class="line"><span class="lineno">   86</span>        }</div>
<div class="line"><span class="lineno">   87</span>    }</div>
<div class="line"><span class="lineno">   88</span>    </div>
<div class="line"><span class="lineno">   89</span>    <span class="comment">// On stub platforms (Windows) this might be equal or zero</span></div>
<div class="line"><span class="lineno">   90</span><span class="preprocessor">    #if defined(__linux__)</span></div>
<div class="line"><span class="lineno">   91</span>        <span class="comment">// On Linux, system-wide context switches should be monotonically increasing</span></div>
<div class="line"><span class="lineno">   92</span>        EXPECT_GE(csw_total_2, csw_total_1);</div>
<div class="line"><span class="lineno">   93</span><span class="preprocessor">    #elif defined(__APPLE__)</span></div>
<div class="line"><span class="lineno">   94</span>        <span class="comment">// On macOS, we read process-level context switches which may not be</span></div>
<div class="line"><span class="lineno">   95</span>        <span class="comment">// monotonically increasing in CI environments due to process lifecycle</span></div>
<div class="line"><span class="lineno">   96</span>        <span class="comment">// Just verify we got valid readings</span></div>
<div class="line"><span class="lineno">   97</span>        EXPECT_GT(csw_total_1, 0u);</div>
<div class="line"><span class="lineno">   98</span>        EXPECT_GT(csw_total_2, 0u);</div>
<div class="line"><span class="lineno">   99</span><span class="preprocessor">    #endif</span></div>
<div class="line"><span class="lineno">  100</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab27974900a463b641d0c1b7d40113ba2" name="ab27974900a463b641d0c1b7d40113ba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab27974900a463b641d0c1b7d40113ba2">&#9670;&#160;</a></span>TEST_F() <span class="overload">[4/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DiskMetricsCollection&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html#l00102">102</a> of file <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html">test_system_resource_collector.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  102</span>                                                           {</div>
<div class="line"><span class="lineno">  103</span>    <span class="comment">// First collection to initialize state</span></div>
<div class="line"><span class="lineno">  104</span>    collector-&gt;collect();</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    <span class="comment">// Wait a bit to allow I/O to happen</span></div>
<div class="line"><span class="lineno">  107</span>    std::this_thread::sleep_for(std::chrono::milliseconds(100));</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    <span class="comment">// Second collection should have disk metrics</span></div>
<div class="line"><span class="lineno">  110</span>    <span class="keyword">auto</span> metrics = collector-&gt;collect();</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordtype">bool</span> has_disk_usage = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordtype">bool</span> has_disk_total = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordtype">bool</span> has_disk_used = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordtype">bool</span> has_disk_available = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordtype">bool</span> has_disk_read_bytes = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordtype">bool</span> has_disk_write_bytes = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordtype">double</span> disk_usage_percent = 0.0;</div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordtype">double</span> disk_total = 0.0;</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; m : metrics) {</div>
<div class="line"><span class="lineno">  123</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;disk_usage_percent&quot;</span>) {</div>
<div class="line"><span class="lineno">  124</span>            has_disk_usage = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  125</span>            disk_usage_percent = std::get&lt;double&gt;(m.value);</div>
<div class="line"><span class="lineno">  126</span>        }</div>
<div class="line"><span class="lineno">  127</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;disk_total_bytes&quot;</span>) {</div>
<div class="line"><span class="lineno">  128</span>            has_disk_total = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  129</span>            disk_total = std::get&lt;double&gt;(m.value);</div>
<div class="line"><span class="lineno">  130</span>        }</div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;disk_used_bytes&quot;</span>) has_disk_used = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  132</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;disk_available_bytes&quot;</span>) has_disk_available = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  133</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;disk_read_bytes_per_sec&quot;</span>) has_disk_read_bytes = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;disk_write_bytes_per_sec&quot;</span>) has_disk_write_bytes = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  135</span>    }</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    <span class="comment">// All disk metrics should be present</span></div>
<div class="line"><span class="lineno">  138</span>    EXPECT_TRUE(has_disk_usage) &lt;&lt; <span class="stringliteral">&quot;disk_usage_percent metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  139</span>    EXPECT_TRUE(has_disk_total) &lt;&lt; <span class="stringliteral">&quot;disk_total_bytes metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  140</span>    EXPECT_TRUE(has_disk_used) &lt;&lt; <span class="stringliteral">&quot;disk_used_bytes metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  141</span>    EXPECT_TRUE(has_disk_available) &lt;&lt; <span class="stringliteral">&quot;disk_available_bytes metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  142</span>    EXPECT_TRUE(has_disk_read_bytes) &lt;&lt; <span class="stringliteral">&quot;disk_read_bytes_per_sec metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  143</span>    EXPECT_TRUE(has_disk_write_bytes) &lt;&lt; <span class="stringliteral">&quot;disk_write_bytes_per_sec metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    <span class="comment">// Disk usage should be a valid percentage</span></div>
<div class="line"><span class="lineno">  146</span>    EXPECT_GE(disk_usage_percent, 0.0);</div>
<div class="line"><span class="lineno">  147</span>    EXPECT_LE(disk_usage_percent, 100.0);</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    <span class="comment">// Total disk should be non-zero</span></div>
<div class="line"><span class="lineno">  150</span>    EXPECT_GT(disk_total, 0.0) &lt;&lt; <span class="stringliteral">&quot;Total disk space should be non-zero&quot;</span>;</div>
<div class="line"><span class="lineno">  151</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a31f143d9e5fd51d5fc1fcc5230b16a09" name="a31f143d9e5fd51d5fc1fcc5230b16a09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31f143d9e5fd51d5fc1fcc5230b16a09">&#9670;&#160;</a></span>TEST_F() <span class="overload">[5/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GetMetricTypesIncludesNewMetrics&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html#l00194">194</a> of file <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html">test_system_resource_collector.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  194</span>                                                                      {</div>
<div class="line"><span class="lineno">  195</span>    <span class="keyword">auto</span> types = collector-&gt;get_metric_types();</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>    <span class="comment">// Convert to set for easier lookup</span></div>
<div class="line"><span class="lineno">  198</span>    std::unordered_set&lt;std::string&gt; type_set(types.begin(), types.end());</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>    <span class="comment">// Check disk metrics are listed</span></div>
<div class="line"><span class="lineno">  201</span>    EXPECT_TRUE(type_set.count(<span class="stringliteral">&quot;disk_usage_percent&quot;</span>) &gt; 0);</div>
<div class="line"><span class="lineno">  202</span>    EXPECT_TRUE(type_set.count(<span class="stringliteral">&quot;disk_total_bytes&quot;</span>) &gt; 0);</div>
<div class="line"><span class="lineno">  203</span>    EXPECT_TRUE(type_set.count(<span class="stringliteral">&quot;disk_read_bytes_per_sec&quot;</span>) &gt; 0);</div>
<div class="line"><span class="lineno">  204</span>    EXPECT_TRUE(type_set.count(<span class="stringliteral">&quot;disk_read_ops_per_sec&quot;</span>) &gt; 0);</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>    <span class="comment">// Check network metrics are listed</span></div>
<div class="line"><span class="lineno">  207</span>    EXPECT_TRUE(type_set.count(<span class="stringliteral">&quot;network_rx_bytes_per_sec&quot;</span>) &gt; 0);</div>
<div class="line"><span class="lineno">  208</span>    EXPECT_TRUE(type_set.count(<span class="stringliteral">&quot;network_tx_bytes_per_sec&quot;</span>) &gt; 0);</div>
<div class="line"><span class="lineno">  209</span>    EXPECT_TRUE(type_set.count(<span class="stringliteral">&quot;network_rx_errors&quot;</span>) &gt; 0);</div>
<div class="line"><span class="lineno">  210</span>    EXPECT_TRUE(type_set.count(<span class="stringliteral">&quot;network_rx_dropped&quot;</span>) &gt; 0);</div>
<div class="line"><span class="lineno">  211</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9736ddd1c62e0b1f58049c5427b97b2a" name="a9736ddd1c62e0b1f58049c5427b97b2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9736ddd1c62e0b1f58049c5427b97b2a">&#9670;&#160;</a></span>TEST_F() <span class="overload">[6/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Initialization&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html#l00019">19</a> of file <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html">test_system_resource_collector.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   19</span>                                                    {</div>
<div class="line"><span class="lineno">   20</span>    std::unordered_map&lt;std::string, std::string&gt; config;</div>
<div class="line"><span class="lineno">   21</span>    EXPECT_TRUE(collector-&gt;initialize(config));</div>
<div class="line"><span class="lineno">   22</span>    EXPECT_EQ(collector-&gt;get_name(), <span class="stringliteral">&quot;system_resource_collector&quot;</span>);</div>
<div class="line"><span class="lineno">   23</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1845f3bf610e06a364959568731985a3" name="a1845f3bf610e06a364959568731985a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1845f3bf610e06a364959568731985a3">&#9670;&#160;</a></span>TEST_F() <span class="overload">[7/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/df3/classSystemResourceCollectorTest.html">SystemResourceCollectorTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">NetworkMetricsCollection&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html#l00153">153</a> of file <a class="el" href="../../d5/dc8/test__system__resource__collector_8cpp_source.html">test_system_resource_collector.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  153</span>                                                              {</div>
<div class="line"><span class="lineno">  154</span>    <span class="comment">// First collection to initialize state</span></div>
<div class="line"><span class="lineno">  155</span>    collector-&gt;collect();</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>    <span class="comment">// Wait a bit to allow network activity</span></div>
<div class="line"><span class="lineno">  158</span>    std::this_thread::sleep_for(std::chrono::milliseconds(100));</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>    <span class="comment">// Second collection should have network metrics</span></div>
<div class="line"><span class="lineno">  161</span>    <span class="keyword">auto</span> metrics = collector-&gt;collect();</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordtype">bool</span> has_rx_bytes = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordtype">bool</span> has_tx_bytes = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  165</span>    <span class="keywordtype">bool</span> has_rx_packets = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordtype">bool</span> has_tx_packets = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordtype">bool</span> has_rx_errors = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordtype">bool</span> has_tx_errors = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordtype">bool</span> has_rx_dropped = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordtype">bool</span> has_tx_dropped = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; m : metrics) {</div>
<div class="line"><span class="lineno">  173</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;network_rx_bytes_per_sec&quot;</span>) has_rx_bytes = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  174</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;network_tx_bytes_per_sec&quot;</span>) has_tx_bytes = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  175</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;network_rx_packets_per_sec&quot;</span>) has_rx_packets = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;network_tx_packets_per_sec&quot;</span>) has_tx_packets = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  177</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;network_rx_errors&quot;</span>) has_rx_errors = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  178</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;network_tx_errors&quot;</span>) has_tx_errors = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;network_rx_dropped&quot;</span>) has_rx_dropped = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">if</span> (m.name == <span class="stringliteral">&quot;network_tx_dropped&quot;</span>) has_tx_dropped = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  181</span>    }</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>    <span class="comment">// All network metrics should be present</span></div>
<div class="line"><span class="lineno">  184</span>    EXPECT_TRUE(has_rx_bytes) &lt;&lt; <span class="stringliteral">&quot;network_rx_bytes_per_sec metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  185</span>    EXPECT_TRUE(has_tx_bytes) &lt;&lt; <span class="stringliteral">&quot;network_tx_bytes_per_sec metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  186</span>    EXPECT_TRUE(has_rx_packets) &lt;&lt; <span class="stringliteral">&quot;network_rx_packets_per_sec metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  187</span>    EXPECT_TRUE(has_tx_packets) &lt;&lt; <span class="stringliteral">&quot;network_tx_packets_per_sec metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  188</span>    EXPECT_TRUE(has_rx_errors) &lt;&lt; <span class="stringliteral">&quot;network_rx_errors metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  189</span>    EXPECT_TRUE(has_tx_errors) &lt;&lt; <span class="stringliteral">&quot;network_tx_errors metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  190</span>    EXPECT_TRUE(has_rx_dropped) &lt;&lt; <span class="stringliteral">&quot;network_rx_dropped metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  191</span>    EXPECT_TRUE(has_tx_dropped) &lt;&lt; <span class="stringliteral">&quot;network_tx_dropped metric should be present&quot;</span>;</div>
<div class="line"><span class="lineno">  192</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jan 9 2026 10:26:00 for Monitoring System by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
