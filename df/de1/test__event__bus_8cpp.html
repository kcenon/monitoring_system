<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monitoring System: tests/test_event_bus.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Monitoring System
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../dir_59425e443f801f1f2fd8bbe4959a3ccf.html">tests</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">test_event_bus.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Test for event-driven communication system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;gtest/gtest.h&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d8/d46/logger__system__adapter_8h_source.html">kcenon/monitoring/adapters/logger_system_adapter.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d9/d7a/thread__system__adapter_8h_source.html">kcenon/monitoring/adapters/thread_system_adapter.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../dd/d6d/event__bus_8h_source.html">kcenon/monitoring/core/event_bus.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../de/d0f/event__types_8h_source.html">kcenon/monitoring/core/event_types.h</a>&gt;</code><br />
<code>#include &lt;atomic&gt;</code><br />
<code>#include &lt;chrono&gt;</code><br />
<code>#include &lt;condition_variable&gt;</code><br />
<code>#include &lt;thread&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for test_event_bus.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/df6/test__event__bus_8cpp__incl.png" border="0" usemap="#atests_2test__event__bus_8cpp" alt=""/></div>
<map name="atests_2test__event__bus_8cpp" id="atests_2test__event__bus_8cpp">
<area shape="rect" title="Test for event&#45;driven communication system." alt="" coords="904,5,1088,31"/>
<area shape="rect" title=" " alt="" coords="5,86,109,111"/>
<area shape="poly" title=" " alt="" coords="904,23,755,26,561,36,345,53,128,81,109,85,108,80,128,76,345,48,561,30,754,21,903,17"/>
<area shape="rect" href="../../d8/d46/logger__system__adapter_8h.html" title=" " alt="" coords="893,79,1099,119"/>
<area shape="poly" title=" " alt="" coords="999,31,999,65,993,65,993,31"/>
<area shape="rect" title=" " alt="" coords="993,431,1060,456"/>
<area shape="poly" title=" " alt="" coords="904,22,705,29,588,38,472,52,366,73,320,86,279,102,246,119,221,139,205,161,200,186,200,276,207,303,226,327,256,349,296,368,344,384,399,397,523,417,655,430,783,437,979,440,979,445,783,442,654,436,522,423,398,402,343,389,294,372,253,353,222,331,202,306,195,276,195,185,201,159,217,135,243,115,277,97,318,81,365,68,471,47,588,33,705,23,904,17"/>
<area shape="rect" title=" " alt="" coords="1287,504,1353,529"/>
<area shape="poly" title=" " alt="" coords="904,21,744,23,553,31,460,38,374,49,302,63,249,81,209,100,177,120,165,132,157,146,151,164,149,185,149,364,152,373,159,383,187,401,233,418,292,433,446,458,628,478,820,492,1004,502,1273,512,1273,517,1004,507,820,498,627,483,445,464,291,438,231,423,185,406,155,387,147,376,144,364,144,185,146,163,152,144,161,129,174,116,206,96,247,76,301,58,374,44,459,33,553,26,744,18,904,16"/>
<area shape="rect" title=" " alt="" coords="479,350,543,375"/>
<area shape="poly" title=" " alt="" coords="904,22,840,26,765,34,684,48,600,70,517,100,439,140,402,164,369,192,338,222,310,256,302,276,306,293,321,308,344,321,405,341,465,353,464,358,403,346,342,326,318,312,302,296,297,276,306,253,334,219,365,188,399,160,436,135,515,95,599,65,683,43,765,29,839,21,903,17"/>
<area shape="rect" href="../../dd/d6d/event__bus_8h.html" title="Lightweight event bus implementation for monitoring system." alt="" coords="1569,262,1714,287"/>
<area shape="poly" title=" " alt="" coords="1026,28,1601,255,1599,259,1024,33"/>
<area shape="rect" title=" " alt="" coords="2801,350,2943,375"/>
<area shape="poly" title=" " alt="" coords="1088,16,1279,18,1539,27,1835,45,1986,58,2134,76,2260,86,2375,84,2480,79,2577,77,2623,80,2668,86,2712,97,2755,113,2797,136,2839,167,2881,205,2924,253,2932,276,2926,299,2913,322,2897,341,2893,338,2909,319,2921,297,2926,276,2919,256,2878,209,2836,171,2794,141,2753,118,2710,102,2667,91,2622,85,2577,82,2480,84,2375,90,2260,91,2133,81,1985,64,1834,50,1539,32,1279,24,1088,22"/>
<area shape="rect" href="../../de/d0f/event__types_8h.html" title="Common event type definitions for monitoring system." alt="" coords="2750,262,2909,287"/>
<area shape="poly" title=" " alt="" coords="1088,17,1260,20,1489,28,1749,46,1881,59,2010,76,2237,117,2458,168,2647,218,2779,255,2778,261,2646,223,2456,173,2236,122,2009,81,1880,65,1748,51,1489,34,1260,25,1088,22"/>
<area shape="rect" href="../../d9/d7a/thread__system__adapter_8h.html" title=" " alt="" coords="1792,79,1997,119"/>
<area shape="poly" title=" " alt="" coords="1089,25,1778,85,1778,90,1088,30"/>
<area shape="rect" href="../../d7/d45/logger__to__monitoring__adapter_8h.html" title=" " alt="" coords="915,167,1077,207"/>
<area shape="poly" title=" " alt="" coords="999,119,999,153,993,153,993,119"/>
<area shape="poly" title=" " alt="" coords="991,208,981,241,973,285,971,334,980,382,991,402,1005,419,1001,423,986,405,975,384,965,335,968,285,976,240,986,206"/>
<area shape="poly" title=" " alt="" coords="950,209,913,230,878,257,834,305,817,330,806,355,800,379,801,404,810,429,827,454,849,465,892,476,1016,492,1158,504,1273,511,1273,516,1157,509,1016,498,891,481,847,470,824,458,805,431,796,405,794,379,801,353,813,327,830,302,874,253,910,225,948,205"/>
<area shape="rect" title=" " alt="" coords="1084,431,1161,456"/>
<area shape="poly" title=" " alt="" coords="1005,206,1034,284,1081,381,1106,418,1102,421,1076,384,1030,286,1000,208"/>
<area shape="rect" title=" " alt="" coords="2513,585,2588,610"/>
<area shape="poly" title=" " alt="" coords="1077,189,1365,209,1546,228,1727,252,1791,260,1852,264,1965,264,2069,259,2164,257,2254,265,2298,276,2341,292,2383,314,2424,344,2466,382,2508,429,2512,443,2508,457,2494,474,2479,482,2464,490,2452,505,2448,517,2452,528,2462,543,2476,556,2508,577,2505,581,2473,561,2458,547,2447,530,2443,517,2447,503,2460,486,2476,478,2491,470,2503,455,2507,443,2503,432,2462,385,2421,348,2380,319,2338,296,2296,281,2254,270,2164,262,2069,264,1965,269,1852,269,1790,265,1726,257,1545,233,1364,215,1077,195"/>
<area shape="rect" title=" " alt="" coords="3351,665,3409,691"/>
<area shape="poly" title=" " alt="" coords="1077,187,2106,213,2681,232,2892,242,3016,252,3126,262,3214,268,3255,276,3297,289,3342,310,3392,340,3417,359,3435,379,3449,399,3458,421,3465,470,3463,529,3461,575,3458,595,3448,619,3431,641,3411,659,3408,655,3427,637,3443,616,3453,594,3456,575,3457,529,3460,470,3453,422,3444,402,3431,382,3413,363,3389,345,3340,314,3296,294,3254,281,3214,273,3126,267,3016,257,2891,247,2681,237,2106,218,1077,192"/>
<area shape="poly" title=" " alt="" coords="915,193,757,199,570,211,408,230,353,242,325,257,315,274,318,289,331,303,352,316,408,337,466,351,465,356,406,342,349,320,327,307,313,291,310,273,321,253,351,237,407,224,570,205,756,194,915,187"/>
<area shape="rect" title=" " alt="" coords="2461,504,2523,529"/>
<area shape="poly" title=" " alt="" coords="1077,187,1177,197,1234,207,1294,222,1354,242,1413,268,1468,300,1517,341,1528,356,1533,371,1534,401,1535,429,1541,442,1552,454,1572,463,1605,472,1701,484,1827,492,1967,496,2236,498,2398,501,2447,507,2447,512,2397,507,2236,504,1967,501,1826,497,1701,489,1604,477,1571,468,1549,458,1536,445,1530,430,1528,401,1528,372,1523,358,1513,345,1465,305,1410,272,1352,247,1293,227,1233,213,1176,202,1077,192"/>
<area shape="poly" title=" " alt="" coords="1077,193,1291,216,1550,252,1576,257,1575,262,1549,257,1291,222,1077,198"/>
<area shape="rect" href="../../d1/d7d/result__types_8h.html" title="Result pattern type definitions for monitoring system." alt="" coords="2226,504,2385,529"/>
<area shape="poly" title=" " alt="" coords="986,208,975,230,967,255,951,316,942,367,943,390,949,412,962,433,983,454,1000,461,1036,467,1153,478,1505,496,1903,506,2212,512,2212,517,1903,512,1504,501,1152,484,1035,472,999,466,980,458,958,436,944,414,938,391,937,367,946,314,961,254,970,228,982,206"/>
<area shape="poly" title=" " alt="" coords="1077,187,1719,207,2169,226,2630,252,2736,261,2736,266,2629,257,2169,231,1719,212,1077,192"/>
<area shape="rect" href="../../dc/d0b/metric__types__adapter_8h.html" title="Adapter for metric types to support interface definitions." alt="" coords="3193,343,3338,383"/>
<area shape="poly" title=" " alt="" coords="1077,188,2097,218,2644,237,2922,252,3000,269,3078,291,3207,335,3206,340,3076,296,2999,274,2921,257,2644,242,2097,223,1077,193"/>
<area shape="rect" title=" " alt="" coords="335,255,534,295"/>
<area shape="poly" title=" " alt="" coords="916,202,548,257,547,252,915,197"/>
<area shape="rect" title=" " alt="" coords="558,255,757,295"/>
<area shape="poly" title=" " alt="" coords="922,209,745,254,744,249,921,204"/>
<area shape="poly" title=" " alt="" coords="1569,279,1485,283,1385,293,1277,313,1223,327,1172,345,1137,362,1104,382,1051,424,1048,419,1101,378,1134,357,1170,340,1222,322,1275,308,1384,288,1485,277,1568,273"/>
<area shape="poly" title=" " alt="" coords="1569,282,1524,289,1476,301,1428,319,1384,345,1369,359,1356,377,1338,416,1328,456,1324,491,1318,490,1323,455,1333,414,1352,374,1365,356,1381,341,1425,314,1474,296,1523,284,1568,277"/>
<area shape="poly" title=" " alt="" coords="1569,278,1495,282,1409,292,1318,313,1274,327,1232,345,1205,361,1180,381,1142,421,1138,418,1177,377,1202,357,1229,340,1272,322,1317,307,1408,287,1495,277,1568,273"/>
<area shape="poly" title=" " alt="" coords="1569,284,557,361,556,355,1568,279"/>
<area shape="poly" title=" " alt="" coords="1714,276,1899,287,2013,297,2131,312,2245,332,2347,357,2430,389,2462,408,2486,429,2495,443,2499,459,2500,490,2494,490,2494,460,2490,445,2482,432,2459,412,2428,394,2346,362,2244,337,2130,317,2012,303,1898,292,1714,281"/>
<area shape="rect" title=" " alt="" coords="2748,504,2833,529"/>
<area shape="poly" title=" " alt="" coords="1714,273,1839,276,2003,285,2186,306,2279,321,2369,340,2484,375,2594,418,2690,461,2759,495,2756,500,2687,466,2592,423,2482,380,2367,345,2278,326,2185,311,2003,291,1839,281,1714,278"/>
<area shape="rect" title=" " alt="" coords="1439,431,1486,456"/>
<area shape="poly" title=" " alt="" coords="1631,289,1487,423,1483,419,1627,285"/>
<area shape="poly" title=" " alt="" coords="1715,277,2125,301,2680,340,2787,350,2787,355,2680,345,2125,306,1714,283"/>
<area shape="rect" title=" " alt="" coords="2029,665,2096,691"/>
<area shape="poly" title=" " alt="" coords="1569,286,1416,307,1346,324,1319,334,1299,345,1275,364,1255,386,1240,408,1231,432,1227,456,1229,480,1238,504,1255,528,1279,548,1310,566,1394,597,1499,622,1614,641,1733,654,1845,664,2016,673,2015,678,1844,669,1732,660,1614,646,1498,627,1393,602,1308,571,1276,552,1251,531,1234,506,1224,481,1221,455,1226,430,1236,406,1251,382,1271,360,1296,340,1316,329,1345,319,1415,302,1568,280"/>
<area shape="rect" title=" " alt="" coords="1562,431,1649,456"/>
<area shape="poly" title=" " alt="" coords="1641,288,1613,418,1608,417,1636,287"/>
<area shape="rect" title=" " alt="" coords="1673,431,1737,456"/>
<area shape="poly" title=" " alt="" coords="1648,286,1699,417,1694,419,1643,288"/>
<area shape="rect" title=" " alt="" coords="1439,350,1502,375"/>
<area shape="poly" title=" " alt="" coords="1620,290,1507,346,1505,341,1617,285"/>
<area shape="rect" title=" " alt="" coords="1813,431,1899,456"/>
<area shape="poly" title=" " alt="" coords="1658,285,1832,420,1829,424,1654,290"/>
<area shape="rect" title=" " alt="" coords="2599,504,2723,529"/>
<area shape="poly" title=" " alt="" coords="1714,276,2056,297,2237,316,2312,327,2369,340,2450,372,2526,414,2591,457,2638,493,2635,497,2588,462,2524,419,2448,377,2367,345,2311,333,2237,321,2055,303,1714,282"/>
<area shape="rect" href="../../dd/d70/event__bus__interface_8h.html" title="Event bus interface for decoupled component communication." alt="" coords="1903,343,2043,383"/>
<area shape="poly" title=" " alt="" coords="1686,285,1891,337,1889,343,1685,290"/>
<area shape="poly" title=" " alt="" coords="1569,280,1531,287,1493,298,1458,317,1430,344,1413,373,1407,401,1412,427,1430,454,1444,464,1469,472,1543,487,1643,497,1759,505,2006,512,2212,513,2212,519,2006,518,1759,510,1642,503,1542,492,1467,477,1442,468,1426,458,1407,429,1401,401,1408,371,1426,341,1455,313,1491,294,1530,282,1568,275"/>
<area shape="rect" href="../../de/d11/error__codes_8h.html" title="Monitoring system specific error codes." alt="" coords="2294,585,2405,610"/>
<area shape="poly" title=" " alt="" coords="1569,287,1441,310,1385,326,1347,345,1299,388,1279,411,1264,434,1255,458,1253,481,1260,504,1276,527,1299,541,1336,551,1449,566,1598,573,1766,574,2089,571,2211,571,2283,575,2302,579,2301,584,2282,580,2211,576,2089,576,1766,580,1598,578,1449,571,1335,557,1296,545,1273,531,1255,506,1248,481,1249,456,1259,432,1275,408,1295,385,1344,340,1383,321,1440,305,1568,282"/>
<area shape="poly" title=" " alt="" coords="1903,368,1755,372,1551,383,1316,403,1074,433,1073,428,1315,397,1551,378,1755,367,1903,362"/>
<area shape="poly" title=" " alt="" coords="1969,384,1949,423,1933,442,1913,458,1868,477,1806,491,1732,502,1652,509,1491,517,1367,518,1367,513,1491,512,1651,504,1732,496,1805,486,1867,472,1911,454,1929,439,1944,420,1964,382"/>
<area shape="poly" title=" " alt="" coords="1903,373,1175,440,1175,435,1903,368"/>
<area shape="poly" title=" " alt="" coords="2043,363,2713,387,3058,406,3173,417,3229,428,3247,443,3267,467,3307,529,3371,652,3367,654,3302,532,3263,470,3244,447,3227,433,3173,422,3057,411,2713,392,2043,369"/>
<area shape="poly" title=" " alt="" coords="1988,381,2020,419,2041,438,2065,454,2116,464,2222,479,2447,507,2447,513,2222,484,2116,469,2063,458,2038,443,2016,423,1984,384"/>
<area shape="poly" title=" " alt="" coords="1903,377,1500,439,1499,434,1902,372"/>
<area shape="poly" title=" " alt="" coords="1904,381,1663,433,1662,427,1903,376"/>
<area shape="poly" title=" " alt="" coords="1910,385,1751,431,1750,426,1908,380"/>
<area shape="poly" title=" " alt="" coords="1946,385,1886,425,1883,421,1943,381"/>
<area shape="poly" title=" " alt="" coords="2044,364,2133,369,2244,381,2365,400,2485,428,2566,460,2632,495,2630,499,2564,465,2483,433,2364,405,2244,386,2133,375,2044,369"/>
<area shape="rect" title=" " alt="" coords="2076,431,2156,456"/>
<area shape="poly" title=" " alt="" coords="2009,380,2084,422,2082,426,2006,385"/>
<area shape="rect" title=" " alt="" coords="2181,431,2273,456"/>
<area shape="poly" title=" " alt="" coords="2035,380,2177,424,2176,429,2033,385"/>
<area shape="poly" title=" " alt="" coords="1980,382,1995,419,2006,438,2022,454,2054,469,2101,483,2213,502,2212,507,2100,488,2052,474,2018,458,2002,442,1990,422,1975,384"/>
<area shape="rect" href="../../d5/daa/feature__flags_8h.html" title="Unified feature flags header for monitoring_system." alt="" coords="2297,431,2471,456"/>
<area shape="poly" title=" " alt="" coords="2044,375,2312,426,2311,431,2043,380"/>
<area shape="poly" title=" " alt="" coords="2342,527,2503,578,2501,583,2340,532"/>
<area shape="poly" title=" " alt="" coords="2328,527,2426,579,2502,615,2577,630,2678,642,2921,660,3164,669,3337,673,3337,679,3164,675,2921,665,2677,647,2576,635,2500,620,2424,583,2325,532"/>
<area shape="poly" title=" " alt="" coords="2314,528,2338,571,2334,574,2310,531"/>
<area shape="rect" title=" " alt="" coords="2082,577,2270,617"/>
<area shape="poly" title=" " alt="" coords="2288,532,2220,573,2217,568,2285,527"/>
<area shape="poly" title=" " alt="" coords="2402,607,2446,615,2710,642,2970,659,3337,673,3337,679,2969,665,2710,647,2445,620,2401,613"/>
<area shape="poly" title=" " alt="" coords="2310,613,2283,620,2110,667,2109,662,2282,615,2308,608"/>
<area shape="poly" title=" " alt="" coords="2749,279,2573,282,2331,291,2054,311,1913,326,1775,345,1675,360,1597,372,1521,393,1429,433,1382,463,1343,496,1340,492,1378,459,1427,428,1519,388,1595,367,1674,354,1774,340,1913,321,2054,306,2331,286,2573,276,2749,273"/>
<area shape="poly" title=" " alt="" coords="2877,285,2922,306,2942,321,2958,341,2966,363,2958,384,2943,398,2922,411,2865,431,2761,459,2710,469,2668,472,2630,480,2611,490,2590,506,2577,520,2568,537,2557,572,2552,570,2563,535,2573,517,2586,502,2608,486,2628,475,2668,467,2709,464,2759,453,2864,426,2919,406,2940,394,2954,381,2961,363,2954,344,2938,325,2919,310,2875,290"/>
<area shape="poly" title=" " alt="" coords="2909,274,3023,279,3153,289,3272,309,3318,323,3352,340,3386,369,3412,399,3430,430,3441,463,3445,497,3443,535,3436,575,3424,618,3414,639,3402,656,3398,653,3410,636,3419,616,3431,574,3438,534,3440,498,3436,464,3425,432,3408,402,3382,373,3349,345,3316,328,3270,314,3152,294,3023,284,2909,280"/>
<area shape="poly" title=" " alt="" coords="2824,289,2792,344,2777,377,2769,406,2757,432,2732,458,2656,480,2537,508,2536,503,2655,475,2729,454,2753,429,2764,404,2772,375,2787,341,2820,286"/>
<area shape="poly" title=" " alt="" coords="2750,281,2537,289,2271,303,2029,322,1943,333,1893,345,1851,366,1816,389,1805,403,1798,418,1798,435,1804,455,1824,491,1850,524,1879,554,1910,581,1973,626,2027,657,2025,661,1971,631,1907,586,1875,558,1846,528,1820,494,1799,457,1792,436,1793,417,1800,400,1813,385,1848,361,1891,340,1942,328,2029,316,2270,298,2537,284,2750,276"/>
<area shape="poly" title=" " alt="" coords="2875,285,2950,309,2982,324,3002,341,3010,362,3002,384,2982,401,2945,424,2884,458,2809,485,2737,504,2736,498,2807,480,2882,454,2942,420,2979,397,2998,381,3004,362,2998,344,2979,329,2948,314,2874,290"/>
<area shape="poly" title=" " alt="" coords="2750,287,2057,356,2057,350,2750,281"/>
<area shape="rect" title=" " alt="" coords="3321,504,3389,529"/>
<area shape="poly" title=" " alt="" coords="2870,285,3081,350,3194,391,3273,428,3311,459,3340,491,3336,495,3307,463,3271,433,3192,396,3080,355,2869,290"/>
<area shape="poly" title=" " alt="" coords="2890,285,3174,340,3180,341,3179,346,3173,345,2889,290"/>
<area shape="poly" title=" " alt="" coords="3297,381,3326,402,3356,430,3384,464,3404,503,3411,544,3409,585,3401,623,3392,653,3387,652,3396,621,3404,584,3406,544,3399,505,3380,467,3353,434,3322,406,3294,385"/>
<area shape="poly" title=" " alt="" coords="3203,385,2934,459,2732,504,2730,499,2933,453,3201,380"/>
<area shape="poly" title=" " alt="" coords="3287,381,3306,403,3325,429,3340,460,3350,490,3345,492,3335,462,3320,432,3302,407,3283,385"/>
<area shape="rect" href="../../df/d4b/metric__types_8h.html" title="Common metric type definitions for efficient storage." alt="" coords="3053,431,3216,456"/>
<area shape="poly" title=" " alt="" coords="3235,385,3167,426,3164,421,3232,381"/>
<area shape="poly" title=" " alt="" coords="3053,451,1367,516,1367,511,3053,445"/>
<area shape="poly" title=" " alt="" coords="3154,454,3181,475,3209,502,3227,534,3236,561,3246,588,3266,615,3301,642,3339,660,3337,665,3298,646,3262,619,3241,590,3231,563,3222,536,3205,506,3178,479,3151,458"/>
<area shape="poly" title=" " alt="" coords="3053,456,2588,507,2537,513,2537,507,2588,501,3053,451"/>
<area shape="poly" title=" " alt="" coords="3080,459,2847,506,2846,501,3079,453"/>
<area shape="poly" title=" " alt="" coords="3095,459,2949,506,2893,532,2749,584,2601,620,2462,644,2323,660,2110,677,2110,672,2323,655,2461,638,2599,615,2747,578,2891,527,2947,502,3093,454"/>
<area shape="poly" title=" " alt="" coords="3058,459,2738,506,2737,501,3057,453"/>
<area shape="poly" title=" " alt="" coords="3053,454,2398,510,2398,505,3053,449"/>
<area shape="poly" title=" " alt="" coords="3080,459,2996,479,2904,506,2875,520,2846,532,2674,557,2419,590,2418,585,2673,552,2845,527,2873,515,2902,502,2995,474,3079,453"/>
<area shape="poly" title=" " alt="" coords="3171,453,3309,498,3307,503,3169,459"/>
<area shape="rect" title=" " alt="" coords="2959,504,3022,529"/>
<area shape="poly" title=" " alt="" coords="3113,458,3028,500,3025,495,3110,454"/>
<area shape="rect" title=" " alt="" coords="3046,504,3111,529"/>
<area shape="poly" title=" " alt="" coords="3128,458,3098,495,3094,492,3123,455"/>
<area shape="rect" title=" " alt="" coords="3136,504,3195,529"/>
<area shape="poly" title=" " alt="" coords="3142,455,3157,491,3153,493,3137,457"/>
<area shape="rect" href="../../d5/d95/thread__to__monitoring__adapter_8h.html" title=" " alt="" coords="1824,167,1987,207"/>
<area shape="poly" title=" " alt="" coords="1900,119,1904,153,1899,153,1894,119"/>
<area shape="poly" title=" " alt="" coords="1824,194,1689,202,1529,215,1378,233,1316,245,1270,257,1235,272,1200,292,1137,337,1085,383,1048,422,1044,418,1082,379,1134,333,1198,287,1232,268,1268,252,1315,239,1377,228,1528,210,1688,197,1823,189"/>
<area shape="poly" title=" " alt="" coords="1823,192,1672,198,1489,210,1315,229,1244,242,1192,257,1119,288,1064,320,1042,340,1021,364,984,432,980,444,983,454,1002,469,1031,481,1110,498,1197,507,1273,512,1272,517,1197,513,1109,503,1030,486,1000,473,979,458,974,444,979,430,1017,361,1038,336,1061,316,1116,283,1190,252,1243,236,1314,223,1488,204,1672,193,1823,187"/>
<area shape="poly" title=" " alt="" coords="1824,199,1665,218,1472,249,1377,268,1292,291,1222,317,1172,345,1157,361,1145,380,1131,418,1126,416,1141,377,1153,357,1169,341,1220,312,1291,286,1376,263,1471,243,1664,213,1823,193"/>
<area shape="poly" title=" " alt="" coords="1987,186,2244,190,2588,200,2929,220,3070,234,3176,252,3221,259,3265,263,3346,270,3380,279,3406,296,3423,322,3429,361,3429,445,3428,493,3420,513,3403,531,3385,541,3357,549,3275,563,3167,574,3044,583,2792,594,2602,598,2602,593,2792,588,3044,577,3167,569,3274,558,3356,544,3383,536,3400,527,3416,510,3423,492,3424,445,3424,362,3418,324,3402,299,3377,284,3345,275,3265,268,3220,265,3176,257,3069,239,2928,225,2587,205,2243,195,1987,191"/>
<area shape="poly" title=" " alt="" coords="1987,185,2388,188,2657,195,2936,209,3200,230,3318,244,3421,261,3508,281,3574,303,3598,316,3617,330,3628,345,3632,361,3632,518,3632,549,3628,574,3619,596,3599,619,3558,648,3511,666,3464,675,3423,679,3423,674,3464,670,3510,660,3556,643,3596,615,3614,593,3623,572,3626,548,3627,518,3627,362,3623,347,3613,334,3595,321,3572,308,3506,286,3420,266,3317,249,3199,235,2936,214,2657,201,2388,193,1987,190"/>
<area shape="poly" title=" " alt="" coords="1824,193,1477,212,1254,231,1028,257,893,279,761,306,557,352,556,347,759,301,892,274,1028,252,1253,226,1477,207,1824,188"/>
<area shape="poly" title=" " alt="" coords="1987,187,2158,192,2360,203,2455,212,2537,223,2598,236,2618,244,2631,253,2651,278,2664,302,2671,327,2673,352,2669,377,2661,403,2632,458,2612,478,2589,494,2538,511,2536,506,2586,489,2609,474,2627,454,2656,401,2664,376,2668,352,2666,328,2659,305,2646,281,2628,257,2616,249,2596,241,2536,228,2455,217,2360,209,2157,197,1987,192"/>
<area shape="poly" title=" " alt="" coords="1848,209,1690,260,1689,255,1847,204"/>
<area shape="poly" title=" " alt="" coords="1987,192,2105,212,2173,229,2243,253,2313,284,2379,323,2438,371,2463,399,2486,429,2493,444,2492,458,2485,470,2474,480,2440,496,2399,506,2397,501,2438,491,2471,476,2481,467,2487,457,2488,445,2482,432,2459,402,2434,375,2376,327,2311,288,2242,258,2171,234,2103,217,1986,197"/>
<area shape="poly" title=" " alt="" coords="1987,189,2313,210,2521,228,2731,252,2762,257,2761,262,2730,257,2521,233,2313,215,1987,194"/>
<area shape="poly" title=" " alt="" coords="1987,187,2258,194,2612,207,2939,226,3057,238,3126,252,3160,268,3191,288,3240,331,3237,335,3187,292,3157,273,3124,257,3056,244,2938,231,2612,212,2257,199,1987,192"/>
</map>
</div>
</div>
<p><a href="../../df/de1/test__event__bus_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4a641825def781944b45efd04729b7bf" id="r_a4a641825def781944b45efd04729b7bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/de1/test__event__bus_8cpp.html#a4a641825def781944b45efd04729b7bf">TEST_F</a> (<a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>, PublishSubscribe)</td></tr>
<tr class="separator:a4a641825def781944b45efd04729b7bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b36e025a5a670348b2bc28f469f946e" id="r_a0b36e025a5a670348b2bc28f469f946e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/de1/test__event__bus_8cpp.html#a0b36e025a5a670348b2bc28f469f946e">TEST_F</a> (<a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>, MultipleSubscribers)</td></tr>
<tr class="separator:a0b36e025a5a670348b2bc28f469f946e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a810448c5cf6f29339d322f23d9579f06" id="r_a810448c5cf6f29339d322f23d9579f06"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/de1/test__event__bus_8cpp.html#a810448c5cf6f29339d322f23d9579f06">TEST_F</a> (<a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>, EventPriority)</td></tr>
<tr class="separator:a810448c5cf6f29339d322f23d9579f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7754778d4db28e5ffb0b6cf1fc6e561f" id="r_a7754778d4db28e5ffb0b6cf1fc6e561f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/de1/test__event__bus_8cpp.html#a7754778d4db28e5ffb0b6cf1fc6e561f">TEST_F</a> (<a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>, Unsubscribe)</td></tr>
<tr class="separator:a7754778d4db28e5ffb0b6cf1fc6e561f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae06a6cf280f4728f9cf3fcd13f974741" id="r_ae06a6cf280f4728f9cf3fcd13f974741"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/de1/test__event__bus_8cpp.html#ae06a6cf280f4728f9cf3fcd13f974741">TEST_F</a> (<a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>, ThreadSystemAdapter)</td></tr>
<tr class="separator:ae06a6cf280f4728f9cf3fcd13f974741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfac69ff77f740115918f3252668d5f8" id="r_adfac69ff77f740115918f3252668d5f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/de1/test__event__bus_8cpp.html#adfac69ff77f740115918f3252668d5f8">TEST_F</a> (<a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>, LoggerSystemAdapter)</td></tr>
<tr class="separator:adfac69ff77f740115918f3252668d5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41ebbaa1f78ac3aa7a6ceb3f0dc93dd9" id="r_a41ebbaa1f78ac3aa7a6ceb3f0dc93dd9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/de1/test__event__bus_8cpp.html#a41ebbaa1f78ac3aa7a6ceb3f0dc93dd9">TEST_F</a> (<a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>, Statistics)</td></tr>
<tr class="separator:a41ebbaa1f78ac3aa7a6ceb3f0dc93dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adad82a3dc4dded30ddc9510a1d82c42f" id="r_adad82a3dc4dded30ddc9510a1d82c42f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/de1/test__event__bus_8cpp.html#adad82a3dc4dded30ddc9510a1d82c42f">TEST_F</a> (<a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>, ConcurrentPublishing)</td></tr>
<tr class="separator:adad82a3dc4dded30ddc9510a1d82c42f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Test for event-driven communication system. </p>

<p class="definition">Definition in file <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html">test_event_bus.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="adad82a3dc4dded30ddc9510a1d82c42f" name="adad82a3dc4dded30ddc9510a1d82c42f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adad82a3dc4dded30ddc9510a1d82c42f">&#9670;&#160;</a></span>TEST_F() <span class="overload">[1/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ConcurrentPublishing&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html#l00338">338</a> of file <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html">test_event_bus.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  338</span>                                           {</div>
<div class="line"><span class="lineno">  339</span>    std::atomic&lt;int&gt; received_count{0};</div>
<div class="line"><span class="lineno">  340</span>    std::mutex mtx;</div>
<div class="line"><span class="lineno">  341</span>    std::condition_variable cv;</div>
<div class="line"><span class="lineno">  342</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> num_threads = 4;</div>
<div class="line"><span class="lineno">  343</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> events_per_thread = 25;</div>
<div class="line"><span class="lineno">  344</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> total_expected = num_threads * events_per_thread;</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>    <span class="comment">// Subscribe to metric collection events</span></div>
<div class="line"><span class="lineno">  347</span>    <span class="keyword">auto</span> token =</div>
<div class="line"><span class="lineno">  348</span>        bus-&gt;subscribe_event&lt;<a class="code hl_class" href="../../df/d19/classkcenon_1_1monitoring_1_1metric__collection__event.html">metric_collection_event</a>&gt;([&amp;](<span class="keyword">const</span> <a class="code hl_class" href="../../df/d19/classkcenon_1_1monitoring_1_1metric__collection__event.html">metric_collection_event</a>&amp; event) {</div>
<div class="line"><span class="lineno">  349</span>            received_count.fetch_add(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(event.get_metric_count()));</div>
<div class="line"><span class="lineno">  350</span>            cv.notify_all();</div>
<div class="line"><span class="lineno">  351</span>        });</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    ASSERT_TRUE(token.is_ok());</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>    std::vector&lt;std::thread&gt; publishers;</div>
<div class="line"><span class="lineno">  356</span>    publishers.reserve(num_threads);</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span>    <span class="comment">// Start publisher threads</span></div>
<div class="line"><span class="lineno">  359</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> t = 0; t &lt; num_threads; ++t) {</div>
<div class="line"><span class="lineno">  360</span>        publishers.emplace_back([<span class="keyword">this</span>, events_per_thread]() {</div>
<div class="line"><span class="lineno">  361</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; events_per_thread; ++i) {</div>
<div class="line"><span class="lineno">  362</span>                std::vector&lt;metric&gt; metrics;</div>
<div class="line"><span class="lineno">  363</span>                metrics.push_back(</div>
<div class="line"><span class="lineno">  364</span>                    <a class="code hl_struct" href="../../d2/d54/structkcenon_1_1monitoring_1_1metric.html">metric</a>{<span class="stringliteral">&quot;test_metric&quot;</span>, 42.0, {{<span class="stringliteral">&quot;thread&quot;</span>, <span class="stringliteral">&quot;publisher&quot;</span>}}, metric_type::gauge});</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>                <a class="code hl_class" href="../../df/d19/classkcenon_1_1monitoring_1_1metric__collection__event.html">metric_collection_event</a> event(<span class="stringliteral">&quot;test_collector&quot;</span>, std::move(metrics));</div>
<div class="line"><span class="lineno">  367</span>                bus-&gt;publish_event(event);</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>                <span class="comment">// Yield to allow other threads to run instead of sleeping</span></div>
<div class="line"><span class="lineno">  370</span>                std::this_thread::yield();</div>
<div class="line"><span class="lineno">  371</span>            }</div>
<div class="line"><span class="lineno">  372</span>        });</div>
<div class="line"><span class="lineno">  373</span>    }</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>    <span class="comment">// Wait for all publishers</span></div>
<div class="line"><span class="lineno">  376</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; thread : publishers) {</div>
<div class="line"><span class="lineno">  377</span>        thread.join();</div>
<div class="line"><span class="lineno">  378</span>    }</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>    <span class="comment">// Wait for processing with condition variable</span></div>
<div class="line"><span class="lineno">  381</span>    {</div>
<div class="line"><span class="lineno">  382</span>        std::unique_lock&lt;std::mutex&gt; lock(mtx);</div>
<div class="line"><span class="lineno">  383</span>        ASSERT_TRUE(</div>
<div class="line"><span class="lineno">  384</span>            cv.wait_for(lock, 10s, [&amp;] { return received_count.load() &gt;= total_expected; }));</div>
<div class="line"><span class="lineno">  385</span>    }</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>    <span class="comment">// Should have received all metrics</span></div>
<div class="line"><span class="lineno">  388</span>    EXPECT_EQ(received_count.load(), total_expected);</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>    <span class="comment">// Unsubscribe before local variables are destroyed</span></div>
<div class="line"><span class="lineno">  391</span>    bus-&gt;unsubscribe_event(token.value());</div>
<div class="line"><span class="lineno">  392</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1metric__collection__event_html"><div class="ttname"><a href="../../df/d19/classkcenon_1_1monitoring_1_1metric__collection__event.html">kcenon::monitoring::metric_collection_event</a></div><div class="ttdoc">Event containing collected metrics batch.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d0f/event__types_8h_source.html#l00315">event_types.h:315</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1metric_html"><div class="ttname"><a href="../../d2/d54/structkcenon_1_1monitoring_1_1metric.html">kcenon::monitoring::metric</a></div><div class="ttdoc">Basic metric structure for interface compatibility.</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d0b/metric__types__adapter_8h_source.html#l00078">metric_types_adapter.h:78</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a810448c5cf6f29339d322f23d9579f06" name="a810448c5cf6f29339d322f23d9579f06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a810448c5cf6f29339d322f23d9579f06">&#9670;&#160;</a></span>TEST_F() <span class="overload">[2/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">EventPriority&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html#l00160">160</a> of file <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html">test_event_bus.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  160</span>                                    {</div>
<div class="line"><span class="lineno">  161</span>    std::vector&lt;int&gt; processing_order;</div>
<div class="line"><span class="lineno">  162</span>    std::mutex order_mutex;</div>
<div class="line"><span class="lineno">  163</span>    std::condition_variable cv;</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    <span class="comment">// Subscribe to configuration changes</span></div>
<div class="line"><span class="lineno">  166</span>    <span class="keyword">auto</span> token = bus-&gt;subscribe_event&lt;<a class="code hl_class" href="../../da/d7a/classkcenon_1_1monitoring_1_1configuration__change__event.html">configuration_change_event</a>&gt;(</div>
<div class="line"><span class="lineno">  167</span>        [&amp;](<span class="keyword">const</span> <a class="code hl_class" href="../../da/d7a/classkcenon_1_1monitoring_1_1configuration__change__event.html">configuration_change_event</a>&amp; event) {</div>
<div class="line"><span class="lineno">  168</span>            {</div>
<div class="line"><span class="lineno">  169</span>                std::lock_guard&lt;std::mutex&gt; lock(order_mutex);</div>
<div class="line"><span class="lineno">  170</span>                <span class="keywordflow">if</span> (event.get_config_key() == <span class="stringliteral">&quot;high_priority&quot;</span>) {</div>
<div class="line"><span class="lineno">  171</span>                    processing_order.push_back(1);</div>
<div class="line"><span class="lineno">  172</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  173</span>                    processing_order.push_back(2);</div>
<div class="line"><span class="lineno">  174</span>                }</div>
<div class="line"><span class="lineno">  175</span>            }</div>
<div class="line"><span class="lineno">  176</span>            cv.notify_all();</div>
<div class="line"><span class="lineno">  177</span>        },</div>
<div class="line"><span class="lineno">  178</span>        event_priority::high);</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>    ASSERT_TRUE(token.is_ok());</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    <span class="comment">// Publish events with different priorities</span></div>
<div class="line"><span class="lineno">  183</span>    <a class="code hl_class" href="../../da/d7a/classkcenon_1_1monitoring_1_1configuration__change__event.html">configuration_change_event</a> high_priority(<span class="stringliteral">&quot;test&quot;</span>, <span class="stringliteral">&quot;high_priority&quot;</span>,</div>
<div class="line"><span class="lineno">  184</span>                                             configuration_change_event::change_type::modified);</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>    <a class="code hl_class" href="../../da/d7a/classkcenon_1_1monitoring_1_1configuration__change__event.html">configuration_change_event</a> normal_priority(<span class="stringliteral">&quot;test&quot;</span>, <span class="stringliteral">&quot;normal_priority&quot;</span>,</div>
<div class="line"><span class="lineno">  187</span>                                               configuration_change_event::change_type::modified);</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>    <span class="comment">// Stop bus to queue events</span></div>
<div class="line"><span class="lineno">  190</span>    bus-&gt;stop();</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>    <span class="comment">// Queue events</span></div>
<div class="line"><span class="lineno">  193</span>    bus-&gt;publish_event(normal_priority);</div>
<div class="line"><span class="lineno">  194</span>    bus-&gt;publish_event(high_priority);</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>    <span class="comment">// Restart and process</span></div>
<div class="line"><span class="lineno">  197</span>    bus-&gt;start();</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>    <span class="comment">// Wait for both events to be processed with timeout</span></div>
<div class="line"><span class="lineno">  200</span>    {</div>
<div class="line"><span class="lineno">  201</span>        std::unique_lock&lt;std::mutex&gt; lock(order_mutex);</div>
<div class="line"><span class="lineno">  202</span>        cv.wait_for(lock, 5s, [&amp;] { <span class="keywordflow">return</span> processing_order.size() &gt;= 2; });</div>
<div class="line"><span class="lineno">  203</span>    }</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>    <span class="comment">// Stop the bus to ensure all events are processed before checking results</span></div>
<div class="line"><span class="lineno">  206</span>    bus-&gt;stop();</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    <span class="comment">// Verify events were processed</span></div>
<div class="line"><span class="lineno">  209</span>    {</div>
<div class="line"><span class="lineno">  210</span>        std::lock_guard&lt;std::mutex&gt; lock(order_mutex);</div>
<div class="line"><span class="lineno">  211</span>        EXPECT_GE(processing_order.size(), 0U);</div>
<div class="line"><span class="lineno">  212</span>    }</div>
<div class="line"><span class="lineno">  213</span>    <span class="comment">// Note: Priority ordering test is inherently flaky in async systems</span></div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>    <span class="comment">// Unsubscribe before local variables are destroyed</span></div>
<div class="line"><span class="lineno">  216</span>    bus-&gt;unsubscribe_event(token.value());</div>
<div class="line"><span class="lineno">  217</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1configuration__change__event_html"><div class="ttname"><a href="../../da/d7a/classkcenon_1_1monitoring_1_1configuration__change__event.html">kcenon::monitoring::configuration_change_event</a></div><div class="ttdoc">Event fired when configuration changes.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d0f/event__types_8h_source.html#l00236">event_types.h:236</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adfac69ff77f740115918f3252668d5f8" name="adfac69ff77f740115918f3252668d5f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfac69ff77f740115918f3252668d5f8">&#9670;&#160;</a></span>TEST_F() <span class="overload">[3/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LoggerSystemAdapter&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html#l00290">290</a> of file <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html">test_event_bus.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  290</span>                                          {</div>
<div class="line"><span class="lineno">  291</span>    <a class="code hl_class" href="../../d7/d37/classkcenon_1_1monitoring_1_1logger__to__monitoring__adapter.html">logger_system_adapter</a> adapter(bus);</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>    <span class="comment">// Check availability</span></div>
<div class="line"><span class="lineno">  294</span>    EXPECT_FALSE(adapter.is_logger_system_available());</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    <span class="comment">// Try to collect metrics</span></div>
<div class="line"><span class="lineno">  297</span>    <span class="keyword">auto</span> result = adapter.collect_metrics();</div>
<div class="line"><span class="lineno">  298</span>    ASSERT_TRUE(result.is_ok());</div>
<div class="line"><span class="lineno">  299</span>    EXPECT_TRUE(result.value().empty());</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    <span class="comment">// Register a logger (won&#39;t do anything when system not available)</span></div>
<div class="line"><span class="lineno">  302</span>    adapter.register_logger(<span class="stringliteral">&quot;test_logger&quot;</span>);</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    <span class="comment">// Get current log rate</span></div>
<div class="line"><span class="lineno">  305</span>    EXPECT_EQ(adapter.get_current_log_rate(), 0.0);</div>
<div class="line"><span class="lineno">  306</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1logger__to__monitoring__adapter_html"><div class="ttname"><a href="../../d7/d37/classkcenon_1_1monitoring_1_1logger__to__monitoring__adapter.html">kcenon::monitoring::logger_to_monitoring_adapter</a></div><div class="ttdoc">Logger system adapter using dependency injection (Phase 2.3.3)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d45/logger__to__monitoring__adapter_8h_source.html#l00042">logger_to_monitoring_adapter.h:42</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/de1/test__event__bus_8cpp_adfac69ff77f740115918f3252668d5f8_cgraph.png" border="0" usemap="#adf/de1/test__event__bus_8cpp_adfac69ff77f740115918f3252668d5f8_cgraph" alt=""/></div>
<map name="adf/de1/test__event__bus_8cpp_adfac69ff77f740115918f3252668d5f8_cgraph" id="adf/de1/test__event__bus_8cpp_adfac69ff77f740115918f3252668d5f8_cgraph">
<area shape="rect" title=" " alt="" coords="5,153,75,179"/>
<area shape="rect" href="../../d7/d37/classkcenon_1_1monitoring_1_1logger__to__monitoring__adapter.html#a129b3a5f4de39eefd17fbc5034dabdeb" title="Collect metrics from logger if available (Phase 2.3.3)" alt="" coords="130,5,317,60"/>
<area shape="poly" title=" " alt="" coords="48,151,77,112,98,90,121,71,130,65,133,69,124,75,102,94,81,116,52,154"/>
<area shape="rect" href="../../d7/d37/classkcenon_1_1monitoring_1_1logger__to__monitoring__adapter.html#af334a50349ecc8dc388a30c5a1f88dd0" title="Get current log rate (if logger supports metrics)" alt="" coords="139,85,308,154"/>
<area shape="poly" title=" " alt="" coords="74,155,124,142,126,147,76,160"/>
<area shape="rect" href="../../d7/d37/classkcenon_1_1monitoring_1_1logger__to__monitoring__adapter.html#a654bc45ed45ca203938645efe8a872e6" title="Check if logger is available." alt="" coords="123,178,324,247"/>
<area shape="poly" title=" " alt="" coords="76,172,110,181,109,186,74,177"/>
<area shape="rect" href="../../d7/d37/classkcenon_1_1monitoring_1_1logger__to__monitoring__adapter.html#a136ff5b9b8d680249e8d0a91c51b4bfc" title="Register a logger instance by name." alt="" coords="131,272,316,327"/>
<area shape="poly" title=" " alt="" coords="52,178,81,216,102,238,124,257,133,263,130,267,121,261,98,242,77,220,48,181"/>
</map>
</div>

</div>
</div>
<a id="a0b36e025a5a670348b2bc28f469f946e" name="a0b36e025a5a670348b2bc28f469f946e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b36e025a5a670348b2bc28f469f946e">&#9670;&#160;</a></span>TEST_F() <span class="overload">[4/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MultipleSubscribers&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html#l00114">114</a> of file <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html">test_event_bus.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  114</span>                                          {</div>
<div class="line"><span class="lineno">  115</span>    std::atomic&lt;int&gt; subscriber1_count{0};</div>
<div class="line"><span class="lineno">  116</span>    std::atomic&lt;int&gt; subscriber2_count{0};</div>
<div class="line"><span class="lineno">  117</span>    std::mutex mtx;</div>
<div class="line"><span class="lineno">  118</span>    std::condition_variable cv;</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>    <span class="comment">// Subscribe twice to the same event type</span></div>
<div class="line"><span class="lineno">  121</span>    <span class="keyword">auto</span> token1 =</div>
<div class="line"><span class="lineno">  122</span>        bus-&gt;subscribe_event&lt;<a class="code hl_class" href="../../d5/dd2/classkcenon_1_1monitoring_1_1system__resource__event.html">system_resource_event</a>&gt;([&amp;](<span class="keyword">const</span> <a class="code hl_class" href="../../d5/dd2/classkcenon_1_1monitoring_1_1system__resource__event.html">system_resource_event</a>&amp; <span class="comment">/*event*/</span>) {</div>
<div class="line"><span class="lineno">  123</span>            subscriber1_count++;</div>
<div class="line"><span class="lineno">  124</span>            cv.notify_all();</div>
<div class="line"><span class="lineno">  125</span>        });</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>    <span class="keyword">auto</span> token2 =</div>
<div class="line"><span class="lineno">  128</span>        bus-&gt;subscribe_event&lt;<a class="code hl_class" href="../../d5/dd2/classkcenon_1_1monitoring_1_1system__resource__event.html">system_resource_event</a>&gt;([&amp;](<span class="keyword">const</span> <a class="code hl_class" href="../../d5/dd2/classkcenon_1_1monitoring_1_1system__resource__event.html">system_resource_event</a>&amp; <span class="comment">/*event*/</span>) {</div>
<div class="line"><span class="lineno">  129</span>            subscriber2_count++;</div>
<div class="line"><span class="lineno">  130</span>            cv.notify_all();</div>
<div class="line"><span class="lineno">  131</span>        });</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>    ASSERT_TRUE(token1.is_ok());</div>
<div class="line"><span class="lineno">  134</span>    ASSERT_TRUE(token2.is_ok());</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>    <span class="comment">// Publish event</span></div>
<div class="line"><span class="lineno">  137</span>    <a class="code hl_struct" href="../../d0/de7/structkcenon_1_1monitoring_1_1system__resource__event_1_1resource__stats.html">system_resource_event::resource_stats</a> stats;</div>
<div class="line"><span class="lineno">  138</span>    stats.<a class="code hl_variable" href="../../d0/de7/structkcenon_1_1monitoring_1_1system__resource__event_1_1resource__stats.html#a7226b695d4b36d15f7e729cf1936be58">cpu_usage_percent</a> = 75.5;</div>
<div class="line"><span class="lineno">  139</span>    <a class="code hl_class" href="../../d5/dd2/classkcenon_1_1monitoring_1_1system__resource__event.html">system_resource_event</a> event(stats);</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    bus-&gt;publish_event(event);</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>    <span class="comment">// Wait for both subscribers with timeout</span></div>
<div class="line"><span class="lineno">  144</span>    {</div>
<div class="line"><span class="lineno">  145</span>        std::unique_lock&lt;std::mutex&gt; lock(mtx);</div>
<div class="line"><span class="lineno">  146</span>        ASSERT_TRUE(cv.wait_for(lock, 5s, [&amp;] {</div>
<div class="line"><span class="lineno">  147</span>            return subscriber1_count.load() &gt;= 1 &amp;&amp; subscriber2_count.load() &gt;= 1;</div>
<div class="line"><span class="lineno">  148</span>        }));</div>
<div class="line"><span class="lineno">  149</span>    }</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>    EXPECT_EQ(subscriber1_count.load(), 1);</div>
<div class="line"><span class="lineno">  152</span>    EXPECT_EQ(subscriber2_count.load(), 1);</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    <span class="comment">// Unsubscribe before local variables (cv, mutex) are destroyed</span></div>
<div class="line"><span class="lineno">  155</span>    bus-&gt;unsubscribe_event(token1.value());</div>
<div class="line"><span class="lineno">  156</span>    bus-&gt;unsubscribe_event(token2.value());</div>
<div class="line"><span class="lineno">  157</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1system__resource__event_html"><div class="ttname"><a href="../../d5/dd2/classkcenon_1_1monitoring_1_1system__resource__event.html">kcenon::monitoring::system_resource_event</a></div><div class="ttdoc">Event containing system resource metrics.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d0f/event__types_8h_source.html#l00135">event_types.h:135</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1system__resource__event_1_1resource__stats_html"><div class="ttname"><a href="../../d0/de7/structkcenon_1_1monitoring_1_1system__resource__event_1_1resource__stats.html">kcenon::monitoring::system_resource_event::resource_stats</a></div><div class="ttdef"><b>Definition</b> <a href="../../de/d0f/event__types_8h_source.html#l00137">event_types.h:137</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1system__resource__event_1_1resource__stats_html_a7226b695d4b36d15f7e729cf1936be58"><div class="ttname"><a href="../../d0/de7/structkcenon_1_1monitoring_1_1system__resource__event_1_1resource__stats.html#a7226b695d4b36d15f7e729cf1936be58">kcenon::monitoring::system_resource_event::resource_stats::cpu_usage_percent</a></div><div class="ttdeci">double cpu_usage_percent</div><div class="ttdef"><b>Definition</b> <a href="../../de/d0f/event__types_8h_source.html#l00138">event_types.h:138</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a641825def781944b45efd04729b7bf" name="a4a641825def781944b45efd04729b7bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a641825def781944b45efd04729b7bf">&#9670;&#160;</a></span>TEST_F() <span class="overload">[5/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PublishSubscribe&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html#l00070">70</a> of file <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html">test_event_bus.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   70</span>                                       {</div>
<div class="line"><span class="lineno">   71</span>    std::atomic&lt;int&gt; received_count{0};</div>
<div class="line"><span class="lineno">   72</span>    std::string received_message;</div>
<div class="line"><span class="lineno">   73</span>    std::mutex message_mutex;</div>
<div class="line"><span class="lineno">   74</span>    std::condition_variable cv;</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    <span class="comment">// Subscribe to performance alerts</span></div>
<div class="line"><span class="lineno">   77</span>    <span class="keyword">auto</span> token =</div>
<div class="line"><span class="lineno">   78</span>        bus-&gt;subscribe_event&lt;<a class="code hl_class" href="../../d4/d66/classkcenon_1_1monitoring_1_1performance__alert__event.html">performance_alert_event</a>&gt;([&amp;](<span class="keyword">const</span> <a class="code hl_class" href="../../d4/d66/classkcenon_1_1monitoring_1_1performance__alert__event.html">performance_alert_event</a>&amp; event) {</div>
<div class="line"><span class="lineno">   79</span>            {</div>
<div class="line"><span class="lineno">   80</span>                std::lock_guard&lt;std::mutex&gt; lock(message_mutex);</div>
<div class="line"><span class="lineno">   81</span>                received_message = <span class="keyword">event</span>.get_message();</div>
<div class="line"><span class="lineno">   82</span>            }</div>
<div class="line"><span class="lineno">   83</span>            received_count++;</div>
<div class="line"><span class="lineno">   84</span>            cv.notify_one();</div>
<div class="line"><span class="lineno">   85</span>        });</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>    ASSERT_TRUE(token.is_ok());</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="comment">// Publish an event</span></div>
<div class="line"><span class="lineno">   90</span>    <a class="code hl_class" href="../../d4/d66/classkcenon_1_1monitoring_1_1performance__alert__event.html">performance_alert_event</a> <a class="code hl_struct" href="../../d1/d1e/structkcenon_1_1monitoring_1_1alert.html">alert</a>(performance_alert_event::alert_type::high_cpu_usage,</div>
<div class="line"><span class="lineno">   91</span>                                  performance_alert_event::alert_severity::warning,</div>
<div class="line"><span class="lineno">   92</span>                                  <span class="stringliteral">&quot;test_component&quot;</span>, <span class="stringliteral">&quot;CPU usage is high&quot;</span>);</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>    <span class="keyword">auto</span> result = bus-&gt;publish_event(<a class="code hl_struct" href="../../d1/d1e/structkcenon_1_1monitoring_1_1alert.html">alert</a>);</div>
<div class="line"><span class="lineno">   95</span>    ASSERT_TRUE(result.is_ok());</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    <span class="comment">// Wait for event processing with condition variable</span></div>
<div class="line"><span class="lineno">   98</span>    {</div>
<div class="line"><span class="lineno">   99</span>        std::unique_lock&lt;std::mutex&gt; lock(message_mutex);</div>
<div class="line"><span class="lineno">  100</span>        ASSERT_TRUE(cv.wait_for(lock, 5s, [&amp;] { return received_count.load() &gt;= 1; }));</div>
<div class="line"><span class="lineno">  101</span>    }</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    EXPECT_EQ(received_count.load(), 1);</div>
<div class="line"><span class="lineno">  104</span>    {</div>
<div class="line"><span class="lineno">  105</span>        std::lock_guard&lt;std::mutex&gt; lock(message_mutex);</div>
<div class="line"><span class="lineno">  106</span>        EXPECT_EQ(received_message, <span class="stringliteral">&quot;CPU usage is high&quot;</span>);</div>
<div class="line"><span class="lineno">  107</span>    }</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    <span class="comment">// Unsubscribe before local variables (cv, mutex) are destroyed</span></div>
<div class="line"><span class="lineno">  110</span>    bus-&gt;unsubscribe_event(token.value());</div>
<div class="line"><span class="lineno">  111</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1performance__alert__event_html"><div class="ttname"><a href="../../d4/d66/classkcenon_1_1monitoring_1_1performance__alert__event.html">kcenon::monitoring::performance_alert_event</a></div><div class="ttdoc">Event for performance-related alerts.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d0f/event__types_8h_source.html#l00187">event_types.h:187</a></div></div>
<div class="ttc" id="astructkcenon_1_1monitoring_1_1alert_html"><div class="ttname"><a href="../../d1/d1e/structkcenon_1_1monitoring_1_1alert.html">kcenon::monitoring::alert</a></div><div class="ttdoc">Core alert data structure.</div><div class="ttdef"><b>Definition</b> <a href="../../dd/dee/alert__types_8h_source.html#l00210">alert_types.h:210</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a41ebbaa1f78ac3aa7a6ceb3f0dc93dd9" name="a41ebbaa1f78ac3aa7a6ceb3f0dc93dd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41ebbaa1f78ac3aa7a6ceb3f0dc93dd9">&#9670;&#160;</a></span>TEST_F() <span class="overload">[6/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Statistics&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html#l00309">309</a> of file <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html">test_event_bus.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  309</span>                                 {</div>
<div class="line"><span class="lineno">  310</span>    <span class="keyword">auto</span> initial_stats = bus-&gt;get_stats();</div>
<div class="line"><span class="lineno">  311</span>    EXPECT_EQ(initial_stats.total_published, 0);</div>
<div class="line"><span class="lineno">  312</span>    EXPECT_EQ(initial_stats.total_processed, 0);</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>    <span class="comment">// Publish some events</span></div>
<div class="line"><span class="lineno">  315</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; ++i) {</div>
<div class="line"><span class="lineno">  316</span>        <a class="code hl_class" href="../../df/d67/classkcenon_1_1monitoring_1_1component__lifecycle__event.html">component_lifecycle_event</a> event(<span class="stringliteral">&quot;test_component&quot;</span>,</div>
<div class="line"><span class="lineno">  317</span>                                        component_lifecycle_event::lifecycle_state::started,</div>
<div class="line"><span class="lineno">  318</span>                                        component_lifecycle_event::lifecycle_state::running);</div>
<div class="line"><span class="lineno">  319</span>        bus-&gt;publish_event(event);</div>
<div class="line"><span class="lineno">  320</span>    }</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>    <span class="comment">// Wait until all events are published (poll stats with timeout)</span></div>
<div class="line"><span class="lineno">  323</span>    <span class="keyword">auto</span> deadline = std::chrono::steady_clock::now() + 5s;</div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">while</span> (std::chrono::steady_clock::now() &lt; deadline) {</div>
<div class="line"><span class="lineno">  325</span>        <span class="keyword">auto</span> stats = bus-&gt;get_stats();</div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordflow">if</span> (stats.total_published &gt;= 10) {</div>
<div class="line"><span class="lineno">  327</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  328</span>        }</div>
<div class="line"><span class="lineno">  329</span>        std::this_thread::yield();</div>
<div class="line"><span class="lineno">  330</span>    }</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <span class="keyword">auto</span> final_stats = bus-&gt;get_stats();</div>
<div class="line"><span class="lineno">  333</span>    EXPECT_EQ(final_stats.total_published, 10);</div>
<div class="line"><span class="lineno">  334</span>    EXPECT_GE(final_stats.total_processed, 0);  <span class="comment">// May vary due to async processing</span></div>
<div class="line"><span class="lineno">  335</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1component__lifecycle__event_html"><div class="ttname"><a href="../../df/d67/classkcenon_1_1monitoring_1_1component__lifecycle__event.html">kcenon::monitoring::component_lifecycle_event</a></div><div class="ttdoc">Event for component lifecycle changes.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d0f/event__types_8h_source.html#l00274">event_types.h:274</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae06a6cf280f4728f9cf3fcd13f974741" name="ae06a6cf280f4728f9cf3fcd13f974741"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae06a6cf280f4728f9cf3fcd13f974741">&#9670;&#160;</a></span>TEST_F() <span class="overload">[7/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ThreadSystemAdapter&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html#l00261">261</a> of file <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html">test_event_bus.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  261</span>                                          {</div>
<div class="line"><span class="lineno">  262</span>    <a class="code hl_class" href="../../dc/d7f/classkcenon_1_1monitoring_1_1thread__to__monitoring__adapter.html">thread_system_adapter</a> adapter(bus);</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>    <span class="comment">// Check availability - depends on compile-time header detection</span></div>
<div class="line"><span class="lineno">  265</span><span class="preprocessor">#if MONITORING_THREAD_SYSTEM_AVAILABLE</span></div>
<div class="line"><span class="lineno">  266</span>    <span class="comment">// When headers are present, is_thread_system_available() may return true</span></div>
<div class="line"><span class="lineno">  267</span>    <span class="comment">// (it attempts runtime resolution but defaults to true if headers exist)</span></div>
<div class="line"><span class="lineno">  268</span>    <span class="comment">// We just verify collect_metrics works without asserting availability</span></div>
<div class="line"><span class="lineno">  269</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  270</span>    EXPECT_FALSE(adapter.is_thread_system_available());</div>
<div class="line"><span class="lineno">  271</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>    <span class="comment">// Try to collect metrics - should succeed regardless of availability</span></div>
<div class="line"><span class="lineno">  274</span>    <span class="keyword">auto</span> result = adapter.collect_metrics();</div>
<div class="line"><span class="lineno">  275</span>    ASSERT_TRUE(result.is_ok());</div>
<div class="line"><span class="lineno">  276</span>    <span class="comment">// When no actual thread_system service is registered, result may be empty</span></div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    <span class="comment">// Get supported metric types - compile-time determined</span></div>
<div class="line"><span class="lineno">  279</span>    <span class="keyword">auto</span> types = adapter.get_metric_types();</div>
<div class="line"><span class="lineno">  280</span><span class="preprocessor">#if MONITORING_THREAD_SYSTEM_AVAILABLE</span></div>
<div class="line"><span class="lineno">  281</span>    <span class="comment">// When headers are available, returns the list of supported types</span></div>
<div class="line"><span class="lineno">  282</span>    EXPECT_FALSE(types.empty());</div>
<div class="line"><span class="lineno">  283</span>    EXPECT_EQ(types.size(), 3u);</div>
<div class="line"><span class="lineno">  284</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  285</span>    EXPECT_TRUE(types.empty());  <span class="comment">// Empty when thread_system not available</span></div>
<div class="line"><span class="lineno">  286</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  287</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1thread__to__monitoring__adapter_html"><div class="ttname"><a href="../../dc/d7f/classkcenon_1_1monitoring_1_1thread__to__monitoring__adapter.html">kcenon::monitoring::thread_to_monitoring_adapter</a></div><div class="ttdef"><b>Definition</b> <a href="../../d5/d95/thread__to__monitoring__adapter_8h_source.html#l00055">thread_to_monitoring_adapter.h:55</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/de1/test__event__bus_8cpp_ae06a6cf280f4728f9cf3fcd13f974741_cgraph.png" border="0" usemap="#adf/de1/test__event__bus_8cpp_ae06a6cf280f4728f9cf3fcd13f974741_cgraph" alt=""/></div>
<map name="adf/de1/test__event__bus_8cpp_ae06a6cf280f4728f9cf3fcd13f974741_cgraph" id="adf/de1/test__event__bus_8cpp_ae06a6cf280f4728f9cf3fcd13f974741_cgraph">
<area shape="rect" title=" " alt="" coords="5,99,75,124"/>
<area shape="rect" href="../../dc/d7f/classkcenon_1_1monitoring_1_1thread__to__monitoring__adapter.html#a722312c4f651d5f9186d43f69372682d" title=" " alt="" coords="131,5,317,60"/>
<area shape="poly" title=" " alt="" coords="65,96,122,69,136,63,138,68,124,74,67,101"/>
<area shape="rect" href="../../dc/d7f/classkcenon_1_1monitoring_1_1thread__to__monitoring__adapter.html#ad0580e1393989f9b9d5b386af96f1f02" title=" " alt="" coords="124,84,324,139"/>
<area shape="poly" title=" " alt="" coords="75,109,110,109,110,114,75,114"/>
<area shape="rect" href="../../dc/d7f/classkcenon_1_1monitoring_1_1thread__to__monitoring__adapter.html#a6d4882ffb2e4bf6bbde04cc83eee501a" title=" " alt="" coords="123,163,325,233"/>
<area shape="poly" title=" " alt="" coords="69,122,139,155,136,160,67,127"/>
</map>
</div>

</div>
</div>
<a id="a7754778d4db28e5ffb0b6cf1fc6e561f" name="a7754778d4db28e5ffb0b6cf1fc6e561f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7754778d4db28e5ffb0b6cf1fc6e561f">&#9670;&#160;</a></span>TEST_F() <span class="overload">[8/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TEST_F </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d12/classEventBusTest.html">EventBusTest</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Unsubscribe&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html#l00220">220</a> of file <a class="el" href="../../df/de1/test__event__bus_8cpp_source.html">test_event_bus.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  220</span>                                  {</div>
<div class="line"><span class="lineno">  221</span>    std::atomic&lt;int&gt; received_count{0};</div>
<div class="line"><span class="lineno">  222</span>    std::mutex mtx;</div>
<div class="line"><span class="lineno">  223</span>    std::condition_variable cv;</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    <span class="keyword">auto</span> token = bus-&gt;subscribe_event&lt;<a class="code hl_class" href="../../d2/d8d/classkcenon_1_1monitoring_1_1health__check__event.html">health_check_event</a>&gt;([&amp;](<span class="keyword">const</span> <a class="code hl_class" href="../../d2/d8d/classkcenon_1_1monitoring_1_1health__check__event.html">health_check_event</a>&amp; <span class="comment">/*event*/</span>) {</div>
<div class="line"><span class="lineno">  226</span>        received_count++;</div>
<div class="line"><span class="lineno">  227</span>        cv.notify_one();</div>
<div class="line"><span class="lineno">  228</span>    });</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>    ASSERT_TRUE(token.is_ok());</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>    <span class="comment">// Publish first event</span></div>
<div class="line"><span class="lineno">  233</span>    std::vector&lt;health_check_event::health_check_result&gt; results;</div>
<div class="line"><span class="lineno">  234</span>    <a class="code hl_class" href="../../d2/d8d/classkcenon_1_1monitoring_1_1health__check__event.html">health_check_event</a> event1(<span class="stringliteral">&quot;component1&quot;</span>, results);</div>
<div class="line"><span class="lineno">  235</span>    bus-&gt;publish_event(event1);</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>    <span class="comment">// Wait for first event with timeout</span></div>
<div class="line"><span class="lineno">  238</span>    {</div>
<div class="line"><span class="lineno">  239</span>        std::unique_lock&lt;std::mutex&gt; lock(mtx);</div>
<div class="line"><span class="lineno">  240</span>        ASSERT_TRUE(cv.wait_for(lock, 5s, [&amp;] { return received_count.load() &gt;= 1; }));</div>
<div class="line"><span class="lineno">  241</span>    }</div>
<div class="line"><span class="lineno">  242</span>    EXPECT_EQ(received_count.load(), 1);</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>    <span class="comment">// Unsubscribe</span></div>
<div class="line"><span class="lineno">  245</span>    bus-&gt;unsubscribe_event(token.value());</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="comment">// Publish second event</span></div>
<div class="line"><span class="lineno">  248</span>    <a class="code hl_class" href="../../d2/d8d/classkcenon_1_1monitoring_1_1health__check__event.html">health_check_event</a> event2(<span class="stringliteral">&quot;component2&quot;</span>, results);</div>
<div class="line"><span class="lineno">  249</span>    bus-&gt;publish_event(event2);</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>    <span class="comment">// After unsubscribe, we need a small wait to verify event is NOT received</span></div>
<div class="line"><span class="lineno">  252</span>    <span class="comment">// This is a legitimate case where we need a brief timeout to confirm no event arrived</span></div>
<div class="line"><span class="lineno">  253</span>    {</div>
<div class="line"><span class="lineno">  254</span>        std::unique_lock&lt;std::mutex&gt; lock(mtx);</div>
<div class="line"><span class="lineno">  255</span>        cv.wait_for(lock, 100ms, [&amp;] { <span class="keywordflow">return</span> received_count.load() &gt;= 2; });</div>
<div class="line"><span class="lineno">  256</span>    }</div>
<div class="line"><span class="lineno">  257</span>    EXPECT_EQ(received_count.load(), 1);  <span class="comment">// Should still be 1</span></div>
<div class="line"><span class="lineno">  258</span>}</div>
<div class="ttc" id="aclasskcenon_1_1monitoring_1_1health__check__event_html"><div class="ttname"><a href="../../d2/d8d/classkcenon_1_1monitoring_1_1health__check__event.html">kcenon::monitoring::health_check_event</a></div><div class="ttdoc">Event for health check results.</div><div class="ttdef"><b>Definition</b> <a href="../../de/d0f/event__types_8h_source.html#l00338">event_types.h:338</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Feb 8 2026 23:47:51 for Monitoring System by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
